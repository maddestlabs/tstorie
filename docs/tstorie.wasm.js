var g;g||=typeof Module != 'undefined' ? Module : {};var aa=globalThis.document?.currentScript?.src,ba="",ca;try{ba=(new URL(".",aa)).href}catch{}ca=async a=>{a=await fetch(a,{credentials:"same-origin"});if(a.ok)return a.arrayBuffer();throw Error(a.status+" : "+a.url);};var da=console.log.bind(console),k=console.error.bind(console),n,q=!1,t,u,x,y,z,ea,B;
function fa(){var a=C.buffer;u=new Int8Array(a);new Int16Array(a);x=new Uint8Array(a);new Uint16Array(a);y=new Int32Array(a);z=new Uint32Array(a);ea=new Float32Array(a);new Float64Array(a);B=new BigInt64Array(a);new BigUint64Array(a)}function ha(a){g.onAbort?.(a);a="Aborted("+a+")";k(a);q=!0;throw new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");}var ia;
async function ja(a){if(!n)try{var b=await ca(a);return new Uint8Array(b)}catch{}if(a==ia&&n)a=new Uint8Array(n);else throw"both async and sync fetching of the wasm failed";return a}async function ka(a,b){try{var c=await ja(a);return await WebAssembly.instantiate(c,b)}catch(d){k(`failed to asynchronously prepare wasm: ${d}`),ha(d)}}
async function la(a){var b=ia;if(!n)try{var c=fetch(b,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(c,a)}catch(d){k(`wasm streaming compile failed: ${d}`),k("falling back to ArrayBuffer instantiation")}return ka(b,a)}class ma{name="ExitStatus";constructor(a){this.message=`Program terminated with exit(${a})`;this.status=a}}
var na=a=>{for(;0<a.length;)a.shift()(g)},oa=[],pa=[],qa=()=>{var a=g.preRun.shift();pa.push(a)},D=0,E=null,F=!0,ra=(a,b)=>{for(var c=0,d=a.length-1;0<=d;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},sa=a=>{var b="/"===a.charAt(0),c="/"===a.slice(-1);(a=ra(a.split("/").filter(d=>!!d),!b).join("/"))||b||(a=".");a&&c&&(a+="/");return(b?"/":"")+a},ua=a=>{var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);
a=b[0];b=b[1];if(!a&&!b)return".";b&&=b.slice(0,-1);return a+b},va=()=>a=>crypto.getRandomValues(a),wa=a=>{(wa=va())(a)},xa=(...a)=>{for(var b="",c=!1,d=a.length-1;-1<=d&&!c;d--){c=0<=d?a[d]:"/";if("string"!=typeof c)throw new TypeError("Arguments to path.resolve must be strings");if(!c)return"";b=c+"/"+b;c="/"===c.charAt(0)}b=ra(b.split("/").filter(e=>!!e),!c).join("/");return(c?"/":"")+b||"."},ya=globalThis.TextDecoder&&new TextDecoder,G=(a,b=0,c,d)=>{var e=b;c=e+c;if(d)d=c;else{for(;a[e]&&!(e>=
c);)++e;d=e}if(16<d-b&&a.buffer&&ya)return ya.decode(a.subarray(b,d));for(e="";b<d;)if(c=a[b++],c&128){var f=a[b++]&63;if(192==(c&224))e+=String.fromCharCode((c&31)<<6|f);else{var h=a[b++]&63;c=224==(c&240)?(c&15)<<12|f<<6|h:(c&7)<<18|f<<12|h<<6|a[b++]&63;65536>c?e+=String.fromCharCode(c):(c-=65536,e+=String.fromCharCode(55296|c>>10,56320|c&1023))}}else e+=String.fromCharCode(c);return e},za=[],H=a=>{for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);127>=d?b++:2047>=d?b+=2:55296<=d&&57343>=d?
(b+=4,++c):b+=3}return b},I=(a,b,c,d)=>{if(!(0<d))return 0;var e=c;d=c+d-1;for(var f=0;f<a.length;++f){var h=a.codePointAt(f);if(127>=h){if(c>=d)break;b[c++]=h}else if(2047>=h){if(c+1>=d)break;b[c++]=192|h>>6;b[c++]=128|h&63}else if(65535>=h){if(c+2>=d)break;b[c++]=224|h>>12;b[c++]=128|h>>6&63;b[c++]=128|h&63}else{if(c+3>=d)break;b[c++]=240|h>>18;b[c++]=128|h>>12&63;b[c++]=128|h>>6&63;b[c++]=128|h&63;f++}}b[c]=0;return c-e},Aa=[];function Ba(a,b){Aa[a]={input:[],output:[],la:b};Ca(a,Da)}
var Da={open(a){var b=Aa[a.node.na];if(!b)throw new J(43);a.aa=b;a.seekable=!1},close(a){a.aa.la.ra(a.aa)},ra(a){a.aa.la.ra(a.aa)},read(a,b,c,d){if(!a.aa||!a.aa.la.Ca)throw new J(60);for(var e=0,f=0;f<d;f++){try{var h=a.aa.la.Ca(a.aa)}catch(m){throw new J(29);}if(void 0===h&&0===e)throw new J(6);if(null===h||void 0===h)break;e++;b[c+f]=h}e&&(a.node.ga=Date.now());return e},write(a,b,c,d){if(!a.aa||!a.aa.la.za)throw new J(60);try{for(var e=0;e<d;e++)a.aa.la.za(a.aa,b[c+e])}catch(f){throw new J(29);
}d&&(a.node.$=a.node.Z=Date.now());return e}},Ea={Ca(){a:{if(!za.length){var a=null;globalThis.window?.prompt&&(a=window.prompt("Input: "),null!==a&&(a+="\n"));if(!a){var b=null;break a}b=Array(H(a)+1);a=I(a,b,0,b.length);b.length=a;za=b}b=za.shift()}return b},za(a,b){null===b||10===b?(da(G(a.output)),a.output=[]):0!=b&&a.output.push(b)},ra(a){0<a.output?.length&&(da(G(a.output)),a.output=[])},ab(){return{Wa:25856,Ya:5,Va:191,Xa:35387,Ua:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0]}},bb(){return 0},cb(){return[24,80]}},Fa={za(a,b){null===b||10===b?(k(G(a.output)),a.output=[]):0!=b&&a.output.push(b)},ra(a){0<a.output?.length&&(k(G(a.output)),a.output=[])}},L={da:null,fa(){return L.createNode(null,"/",16895,0)},createNode(a,b,c,d){if(24576===(c&61440)||4096===(c&61440))throw new J(63);L.da||(L.da={dir:{node:{ba:L.V.ba,ea:L.V.ea,ma:L.V.ma,sa:L.V.sa,Ha:L.V.Ha,Ja:L.V.Ja,Ia:L.V.Ia,Aa:L.V.Aa,ua:L.V.ua},stream:{ca:L.X.ca}},file:{node:{ba:L.V.ba,ea:L.V.ea},stream:{ca:L.X.ca,
read:L.X.read,write:L.X.write,Ea:L.X.Ea,Ga:L.X.Ga}},link:{node:{ba:L.V.ba,ea:L.V.ea,oa:L.V.oa},stream:{}},Ba:{node:{ba:L.V.ba,ea:L.V.ea},stream:Ga}});c=Ha(a,b,c,d);16384===(c.mode&61440)?(c.V=L.da.dir.node,c.X=L.da.dir.stream,c.W={}):32768===(c.mode&61440)?(c.V=L.da.file.node,c.X=L.da.file.stream,c.Y=0,c.W=null):40960===(c.mode&61440)?(c.V=L.da.link.node,c.X=L.da.link.stream):8192===(c.mode&61440)&&(c.V=L.da.Ba.node,c.X=L.da.Ba.stream);c.ga=c.$=c.Z=Date.now();a&&(a.W[b]=c,a.ga=a.$=a.Z=c.ga);return c},
$a(a){return a.W?a.W.subarray?a.W.subarray(0,a.Y):new Uint8Array(a.W):new Uint8Array(0)},V:{ba(a){var b={};b.Ma=8192===(a.mode&61440)?a.id:1;b.Oa=a.id;b.mode=a.mode;b.Qa=1;b.uid=0;b.Na=0;b.na=a.na;16384===(a.mode&61440)?b.size=4096:32768===(a.mode&61440)?b.size=a.Y:40960===(a.mode&61440)?b.size=a.link.length:b.size=0;b.ga=new Date(a.ga);b.$=new Date(a.$);b.Z=new Date(a.Z);b.Ka=4096;b.La=Math.ceil(b.size/b.Ka);return b},ea(a,b){for(var c of["mode","atime","mtime","ctime"])null!=b[c]&&(a[c]=b[c]);void 0!==
b.size&&(b=b.size,a.Y!=b&&(0==b?(a.W=null,a.Y=0):(c=a.W,a.W=new Uint8Array(b),c&&a.W.set(c.subarray(0,Math.min(b,a.Y))),a.Y=b)))},ma(){L.wa||(L.wa=new J(44),L.wa.stack="<generic error, no stack>");throw L.wa;},sa(a,b,c,d){return L.createNode(a,b,c,d)},Ha(a,b,c){try{var d=M(b,c)}catch(f){}if(d){if(16384===(a.mode&61440))for(var e in d.W)throw new J(55);e=Ia(d.parent.id,d.name);if(N[e]===d)N[e]=d.ka;else for(e=N[e];e;){if(e.ka===d){e.ka=d.ka;break}e=e.ka}}delete a.parent.W[a.name];b.W[c]=a;a.name=c;
b.Z=b.$=a.parent.Z=a.parent.$=Date.now()},Ja(a,b){delete a.W[b];a.Z=a.$=Date.now()},Ia(a,b){var c=M(a,b),d;for(d in c.W)throw new J(55);delete a.W[b];a.Z=a.$=Date.now()},Aa(a){return[".","..",...Object.keys(a.W)]},ua(a,b,c){a=L.createNode(a,b,41471,0);a.link=c;return a},oa(a){if(40960!==(a.mode&61440))throw new J(28);return a.link}},X:{read(a,b,c,d,e){var f=a.node.W;if(e>=a.node.Y)return 0;a=Math.min(a.node.Y-e,d);if(8<a&&f.subarray)b.set(f.subarray(e,e+a),c);else for(d=0;d<a;d++)b[c+d]=f[e+d];return a},
write(a,b,c,d,e,f){b.buffer===u.buffer&&(f=!1);if(!d)return 0;a=a.node;a.$=a.Z=Date.now();if(b.subarray&&(!a.W||a.W.subarray)){if(f)return a.W=b.subarray(c,c+d),a.Y=d;if(0===a.Y&&0===e)return a.W=b.slice(c,c+d),a.Y=d;if(e+d<=a.Y)return a.W.set(b.subarray(c,c+d),e),d}f=e+d;var h=a.W?a.W.length:0;h>=f||(f=Math.max(f,h*(1048576>h?2:1.125)>>>0),0!=h&&(f=Math.max(f,256)),h=a.W,a.W=new Uint8Array(f),0<a.Y&&a.W.set(h.subarray(0,a.Y),0));if(a.W.subarray&&b.subarray)a.W.set(b.subarray(c,c+d),e);else for(f=
0;f<d;f++)a.W[e+f]=b[c+f];a.Y=Math.max(a.Y,e+d);return d},ca(a,b,c){1===c?b+=a.position:2===c&&32768===(a.node.mode&61440)&&(b+=a.node.Y);if(0>b)throw new J(28);return b},Ea(a,b,c,d,e){if(32768!==(a.node.mode&61440))throw new J(43);a=a.node.W;if(e&2||!a||a.buffer!==u.buffer){d=!0;ha();e=void 0;if(!e)throw new J(48);if(a){if(0<c||c+b<a.length)a.subarray?a=a.subarray(c,c+b):a=Array.prototype.slice.call(a,c,c+b);u.set(a,e)}}else d=!1,e=a.byteOffset;return{fb:e,Ta:d}},Ga(a,b,c,d){L.X.write(a,b,0,d,c,
!1);return 0}}},Ja=(a,b)=>{var c=0;a&&(c|=365);b&&(c|=146);return c},Ka=null,La={},O=[],Ma=1,N=null,Na=!1,Oa=!0,Pa={},J=class{name="ErrnoError";constructor(a){this.ia=a}},Qa=class{pa={};node=null;get flags(){return this.pa.flags}set flags(a){this.pa.flags=a}get position(){return this.pa.position}set position(a){this.pa.position=a}},Ra=class{V={};X={};ta=null;constructor(a,b,c,d){a||=this;this.parent=a;this.fa=a.fa;this.id=Ma++;this.name=b;this.mode=c;this.na=d;this.ga=this.$=this.Z=Date.now()}get read(){return 365===
(this.mode&365)}set read(a){a?this.mode|=365:this.mode&=-366}get write(){return 146===(this.mode&146)}set write(a){a?this.mode|=146:this.mode&=-147}};
function P(a,b={}){if(!a)throw new J(44);b.xa??(b.xa=!0);"/"===a.charAt(0)||(a="//"+a);var c=0;a:for(;40>c;c++){a=a.split("/").filter(m=>!!m);for(var d=Ka,e="/",f=0;f<a.length;f++){var h=f===a.length-1;if(h&&b.parent)break;if("."!==a[f])if(".."===a[f])if(e=ua(e),d===d.parent){a=e+"/"+a.slice(f+1).join("/");c--;continue a}else d=d.parent;else{e=sa(e+"/"+a[f]);try{d=M(d,a[f])}catch(m){if(44===m?.ia&&h&&b.Ra)return{path:e};throw m;}!d.ta||h&&!b.xa||(d=d.ta.root);if(40960===(d.mode&61440)&&(!h||b.qa)){if(!d.V.oa)throw new J(52);
d=d.V.oa(d);"/"===d.charAt(0)||(d=ua(e)+"/"+d);a=d+"/"+a.slice(f+1).join("/");continue a}}}return{path:e,node:d}}throw new J(32);}function Ia(a,b){for(var c=0,d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%N.length}function M(a,b){var c=16384===(a.mode&61440)?(c=T(a,"x"))?c:a.V.ma?0:2:54;if(c)throw new J(c);for(c=N[Ia(a.id,b)];c;c=c.ka){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return a.V.ma(a,b)}
function Ha(a,b,c,d){a=new Ra(a,b,c,d);b=Ia(a.parent.id,a.name);a.ka=N[b];return N[b]=a}function Sa(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b}function T(a,b){if(Oa)return 0;if(!b.includes("r")||a.mode&292){if(b.includes("w")&&!(a.mode&146)||b.includes("x")&&!(a.mode&73))return 2}else return 2;return 0}function Ta(a,b){if(16384!==(a.mode&61440))return 54;try{return M(a,b),20}catch(c){}return T(a,"wx")}function Ua(a){if(!a)throw new J(63);return a}
function U(a){a=O[a];if(!a)throw new J(8);return a}function Va(a,b){var c=null?.X.ea,d=c?null:a;c??=a.V.ea;Ua(c);c(d,b)}var Ga={open(a){a.X=La[a.node.na].X;a.X.open?.(a)},ca(){throw new J(70);}};function Ca(a,b){La[a]={X:b}}function Wa(a,b){var c="/"===b;if(c&&Ka)throw new J(10);if(!c&&b){var d=P(b,{xa:!1});b=d.path;d=d.node;if(d.ta)throw new J(10);if(16384!==(d.mode&61440))throw new J(54);}b={type:a,eb:{},Fa:b,Pa:[]};a=a.fa(b);a.fa=b;b.root=a;c?Ka=a:d&&(d.ta=b,d.fa&&d.fa.Pa.push(b))}
function Xa(a,b,c){var d=P(a,{parent:!0}).node;a=a&&a.match(/([^\/]+|\/)\/*$/)[1];if(!a)throw new J(28);if("."===a||".."===a)throw new J(20);var e=Ta(d,a);if(e)throw new J(e);if(!d.V.sa)throw new J(63);return d.V.sa(d,a,b,c)}function V(a){return Xa(a,16895,0)}function W(a,b,c){"undefined"==typeof c&&(c=b,b=438);Xa(a,b|8192,c)}
function Ya(a,b){if(!xa(a))throw new J(44);var c=P(b,{parent:!0}).node;if(!c)throw new J(44);b=b&&b.match(/([^\/]+|\/)\/*$/)[1];var d=Ta(c,b);if(d)throw new J(d);if(!c.V.ua)throw new J(63);c.V.ua(c,b,a)}function Za(a,b){a=P(a,{qa:!b}).node;return Ua(a.V.ba)(a)}
function $a(a,b,c=438){if(""===a)throw new J(44);if("string"==typeof b){var d={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[b];if("undefined"==typeof d)throw Error(`Unknown file open mode: ${b}`);b=d}c=b&64?c&4095|32768:0;if("object"==typeof a)d=a;else{var e=a.endsWith("/");a=P(a,{qa:!(b&131072),Ra:!0});d=a.node;a=a.path}var f=!1;if(b&64)if(d){if(b&128)throw new J(20);}else{if(e)throw new J(31);d=Xa(a,c|511,0);f=!0}if(!d)throw new J(44);8192===(d.mode&61440)&&(b&=-513);if(b&65536&&16384!==(d.mode&
61440))throw new J(54);if(!f&&(e=d?40960===(d.mode&61440)?32:16384===(d.mode&61440)&&("r"!==Sa(b)||b&576)?31:T(d,Sa(b)):44))throw new J(e);if(b&512&&!f){e=d;e="string"==typeof e?P(e,{qa:!0}).node:e;if(16384===(e.mode&61440))throw new J(31);if(32768!==(e.mode&61440))throw new J(28);var h=T(e,"w");if(h)throw new J(h);Va(e,{size:0,timestamp:Date.now()})}b&=-131713;a:for(e=d;;){if(e===e.parent){e=e.fa.Fa;var m=m?"/"!==e[e.length-1]?`${e}/${m}`:e+m:e;break a}m=m?`${e.name}/${m}`:e.name;e=e.parent}m={node:d,
path:m,flags:b,seekable:!0,position:0,X:d.X,Sa:[],error:!1};e=-1;m=Object.assign(new Qa,m);if(-1==e)a:{for(e=0;4096>=e;e++)if(!O[e])break a;throw new J(33);}m.ja=e;O[e]=m;m.X.open&&m.X.open(m);f&&(c&=511,d="string"==typeof d?P(d,{qa:!0}).node:d,Va(d,{mode:c&4095|d.mode&-4096,Z:Date.now(),Za:void 0}));!g.logReadFiles||b&1||a in Pa||(Pa[a]=1);return m}
function ab(a,b,c){if(null===a.ja)throw new J(8);if(!a.seekable||!a.X.ca)throw new J(70);if(0!=c&&1!=c&&2!=c)throw new J(28);a.position=a.X.ca(a,b,c);a.Sa=[]}
function X(a,b,c){a=sa("/dev/"+a);var d=Ja(!!b,!!c);X.Da??(X.Da=64);var e=X.Da++<<8|0;Ca(e,{open(f){f.seekable=!1},close(){c?.buffer?.length&&c(10)},read(f,h,m,p){for(var l=0,r=0;r<p;r++){try{var v=b()}catch(w){throw new J(29);}if(void 0===v&&0===l)throw new J(6);if(null===v||void 0===v)break;l++;h[m+r]=v}l&&(f.node.ga=Date.now());return l},write(f,h,m,p){for(var l=0;l<p;l++)try{c(h[m+l])}catch(r){throw new J(29);}p&&(f.node.$=f.node.Z=Date.now());return l}});W(a,d,e)}var Y={};
function bb(a,b,c){if("/"===b.charAt(0))return b;a=-100===a?"/":U(a).path;if(0==b.length){if(!c)throw new J(44);return a}return a+"/"+b}
function cb(a,b){z[a>>2]=b.Ma;z[a+4>>2]=b.mode;z[a+8>>2]=b.Qa;z[a+12>>2]=b.uid;z[a+16>>2]=b.Na;z[a+20>>2]=b.na;B[a+24>>3]=BigInt(b.size);y[a+32>>2]=4096;y[a+36>>2]=b.La;var c=b.ga.getTime(),d=b.$.getTime(),e=b.Z.getTime();B[a+40>>3]=BigInt(Math.floor(c/1E3));z[a+48>>2]=c%1E3*1E6;B[a+56>>3]=BigInt(Math.floor(d/1E3));z[a+64>>2]=d%1E3*1E6;B[a+72>>3]=BigInt(Math.floor(e/1E3));z[a+80>>2]=e%1E3*1E6;B[a+88>>3]=BigInt(b.Oa);return 0}
var db=void 0,eb=0,fb=[0,31,60,91,121,152,182,213,244,274,305,335],gb=[0,31,59,90,120,151,181,212,243,273,304,334],Z={},hb=a=>{if(!(a instanceof ma||"unwind"==a))throw a;},ib=a=>{t=a;F||0<eb||(g.onExit?.(a),q=!0);throw new ma(a);},jb=a=>{if(!q)try{if(a(),!(F||0<eb))try{t=a=t,ib(a)}catch(b){hb(b)}}catch(b){hb(b)}},nb=(a,b,c,d)=>{var e={string:l=>{var r=0;if(null!==l&&void 0!==l&&0!==l){r=H(l)+1;var v=kb(r);I(l,x,v,r);r=v}return r},array:l=>{var r=kb(l.length);u.set(l,r);return r}};a=g["_"+a];var f=
[],h=0;if(d)for(var m=0;m<d.length;m++){var p=e[c[m]];p?(0===h&&(h=lb()),f[m]=p(d[m])):f[m]=d[m]}c=a(...f);return c=function(l){0!==h&&mb(h);return"string"===b?l?G(x,l):"":"boolean"===b?!!l:l}(c)},pb=a=>{var b=H(a)+1,c=ob(b);c&&I(a,x,c,b);return c};N=Array(4096);Wa(L,"/");V("/tmp");V("/home");V("/home/web_user");
(function(){V("/dev");Ca(259,{read:()=>0,write:(d,e,f,h)=>h,ca:()=>0});W("/dev/null",259);Ba(1280,Ea);Ba(1536,Fa);W("/dev/tty",1280);W("/dev/tty1",1536);var a=new Uint8Array(1024),b=0,c=()=>{0===b&&(wa(a),b=a.byteLength);return a[--b]};X("random",c);X("urandom",c);V("/dev/shm");V("/dev/shm/tmp")})();
(function(){V("/proc");var a=V("/proc/self");V("/proc/self/fd");Wa({fa(){var b=Ha(a,"fd",16895,73);b.X={ca:L.X.ca};b.V={ma(c,d){c=+d;var e=U(c);c={parent:null,fa:{Fa:"fake"},V:{oa:()=>e.path},id:c+1};return c.parent=c},Aa(){return Array.from(O.entries()).filter(([,c])=>c).map(([c])=>c.toString())}};return b}},"/proc/self/fd")})();g.noExitRuntime&&(F=g.noExitRuntime);g.print&&(da=g.print);g.printErr&&(k=g.printErr);g.wasmBinary&&(n=g.wasmBinary);
if(g.preInit)for("function"==typeof g.preInit&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.shift()();g.ccall=nb;g.cwrap=(a,b,c,d)=>{var e=!c||c.every(f=>"number"===f||"boolean"===f);return"string"!==b&&e&&!d?g["_"+a]:(...f)=>nb(a,b,c,f,d)};g.UTF8ToString=(a,b,c)=>a?G(x,a,b,c):"";g.stringToUTF8=(a,b,c)=>I(a,x,b,c);g.lengthBytesUTF8=H;g.allocateUTF8=(...a)=>pb(...a);
var ob,qb,mb,kb,lb,C,rb={e:function(a,b){try{var c=U(a),d=c.node,e=c.X.ba;a=e?c:d;e??=d.V.ba;Ua(e);var f=e(a);return cb(b,f)}catch(h){if("undefined"==typeof Y||"ErrnoError"!==h.name)throw h;return-h.ia}},s:function(a,b,c,d){try{b=b?G(x,b):"";var e=d&256;b=bb(a,b,d&4096);return cb(c,e?Za(b,!0):Za(b))}catch(f){if("undefined"==typeof Y||"ErrnoError"!==f.name)throw f;return-f.ia}},h:function(a,b,c,d){db=d;try{b=b?G(x,b):"";b=bb(a,b);if(d){var e=y[+db>>2];db+=4;var f=e}else f=0;return $a(b,c,f).ja}catch(h){if("undefined"==
typeof Y||"ErrnoError"!==h.name)throw h;return-h.ia}},m:()=>ha(""),l:()=>{F=!1;eb=0},p:function(a,b){a=-9007199254740992>a||9007199254740992<a?NaN:Number(a);a=new Date(1E3*a);y[b>>2]=a.getSeconds();y[b+4>>2]=a.getMinutes();y[b+8>>2]=a.getHours();y[b+12>>2]=a.getDate();y[b+16>>2]=a.getMonth();y[b+20>>2]=a.getFullYear()-1900;y[b+24>>2]=a.getDay();var c=a.getFullYear();y[b+28>>2]=(0!==c%4||0===c%100&&0!==c%400?gb:fb)[a.getMonth()]+a.getDate()-1|0;y[b+36>>2]=-(60*a.getTimezoneOffset());c=(new Date(a.getFullYear(),
6,1)).getTimezoneOffset();var d=(new Date(a.getFullYear(),0,1)).getTimezoneOffset();y[b+32>>2]=(c!=d&&a.getTimezoneOffset()==Math.min(d,c))|0},n:(a,b)=>{Z[a]&&(clearTimeout(Z[a].id),delete Z[a]);if(!b)return 0;var c=setTimeout(()=>{delete Z[a];jb(()=>qb(a,performance.now()))},b);Z[a]={id:c,gb:b};return 0},q:(a,b,c,d)=>{var e=(new Date).getFullYear(),f=(new Date(e,0,1)).getTimezoneOffset();e=(new Date(e,6,1)).getTimezoneOffset();z[a>>2]=60*Math.max(f,e);y[b>>2]=Number(f!=e);b=h=>{var m=Math.abs(h);
return`UTC${0<=h?"-":"+"}${String(Math.floor(m/60)).padStart(2,"0")}${String(m%60).padStart(2,"0")}`};a=b(f);b=b(e);e<f?(I(a,x,c,17),I(b,x,d,17)):(I(a,x,d,17),I(b,x,c,17))},i:function(a,b,c){if(!(0<=a&&3>=a))return 28;B[c>>3]=BigInt(Math.round(1E6*(0===a?Date.now():performance.now())));return 0},j:function(){if(!g.ha)try{g.ha=new (window.AudioContext||window.webkitAudioContext),g.va=[],console.log("TStorie Audio: Web Audio API initialized")}catch(a){console.error("TStorie Audio: Failed to initialize Web Audio API:",
a)}},a:function(a,b,c,d){if(g.ha){"suspended"===g.ha.state&&g.ha.resume();try{if(!a||0>=b)console.error("TStorie Audio: Invalid audio data - dataPtr:",a,"length:",b);else if("undefined"===typeof ea)console.error("TStorie Audio: HEAPF32 not available");else{var e=g.ha.createBuffer(1,b,c),f=e.getChannelData(0);a>>=2;for(c=0;c<b;c++)f[c]=ea[a+c];var h=g.ha.createBufferSource(),m=g.ha.createGain();h.buffer=e;m.gain.value=d;h.connect(m);m.connect(g.ha.destination);g.va.push(h);h.onended=function(){const p=
g.va.indexOf(h);-1<p&&g.va.splice(p,1)};h.start(0)}}catch(p){console.error("TStorie Audio: Error playing sample:",p)}}else console.log("TStorie Audio: Audio context not initialized")},o:a=>{var b=x.length;a>>>=0;if(2147483648<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);a:{d=(Math.min(2147483648,65536*Math.ceil(Math.max(a,d)/65536))-C.buffer.byteLength+65535)/65536|0;try{C.grow(d);fa();var e=1;break a}catch(f){}e=void 0}if(e)return!0}return!1},d:a=>{t=a;ib(a)},c:function(a){try{var b=
U(a);if(null===b.ja)throw new J(8);b.ya&&(b.ya=null);try{b.X.close&&b.X.close(b)}catch(c){throw c;}finally{O[b.ja]=null}b.ja=null;return 0}catch(c){if("undefined"==typeof Y||"ErrnoError"!==c.name)throw c;return c.ia}},g:function(a,b,c,d){try{a:{var e=U(a);a=b;for(var f,h=b=0;h<c;h++){var m=z[a>>2],p=z[a+4>>2];a+=8;var l=e,r=m,v=p,w=f,ta=u;if(0>v||0>w)throw new J(28);if(null===l.ja)throw new J(8);if(1===(l.flags&2097155))throw new J(8);if(16384===(l.node.mode&61440))throw new J(31);if(!l.X.read)throw new J(28);
var Q="undefined"!=typeof w;if(!Q)w=l.position;else if(!l.seekable)throw new J(70);var R=l.X.read(l,ta,r,v,w);Q||(l.position+=R);var A=R;if(0>A){var S=-1;break a}b+=A;if(A<p)break;"undefined"!=typeof f&&(f+=A)}S=b}z[d>>2]=S;return 0}catch(K){if("undefined"==typeof Y||"ErrnoError"!==K.name)throw K;return K.ia}},r:function(a,b,c,d){b=-9007199254740992>b||9007199254740992<b?NaN:Number(b);try{if(isNaN(b))return 61;var e=U(a);ab(e,b,c);B[d>>3]=BigInt(e.position);e.ya&&0===b&&0===c&&(e.ya=null);return 0}catch(f){if("undefined"==
typeof Y||"ErrnoError"!==f.name)throw f;return f.ia}},f:function(a,b,c,d){try{a:{var e=U(a);a=b;for(var f,h=b=0;h<c;h++){var m=z[a>>2],p=z[a+4>>2];a+=8;var l=e,r=m,v=p,w=f,ta=u;if(0>v||0>w)throw new J(28);if(null===l.ja)throw new J(8);if(0===(l.flags&2097155))throw new J(8);if(16384===(l.node.mode&61440))throw new J(31);if(!l.X.write)throw new J(28);l.seekable&&l.flags&1024&&ab(l,0,2);var Q="undefined"!=typeof w;if(!Q)w=l.position;else if(!l.seekable)throw new J(70);var R=l.X.write(l,ta,r,v,w,void 0);
Q||(l.position+=R);var A=R;if(0>A){var S=-1;break a}b+=A;if(A<p)break;"undefined"!=typeof f&&(f+=A)}S=b}z[d>>2]=S;return 0}catch(K){if("undefined"==typeof Y||"ErrnoError"!==K.name)throw K;return K.ia}},b:function(a){var b=a?G(x,a):"";a="";var c=window.urlParamStore;c&&"object"===typeof c&&(a=c[b]||"");b=H(a)+1;c=ob(b);I(a,x,c,b);return c},k:ib};
function sb(){function a(){g.calledRun=!0;if(!q){if(!g.noFSInit&&!Na){var b,c;Na=!0;b??=g.stdin;c??=g.stdout;d??=g.stderr;b?X("stdin",b):Ya("/dev/tty","/dev/stdin");c?X("stdout",null,c):Ya("/dev/tty","/dev/stdout");d?X("stderr",null,d):Ya("/dev/tty1","/dev/stderr");$a("/dev/stdin",0);$a("/dev/stdout",1);$a("/dev/stderr",1)}tb.u();Oa=!1;g.onRuntimeInitialized?.();if(g.postRun)for("function"==typeof g.postRun&&(g.postRun=[g.postRun]);g.postRun.length;){var d=g.postRun.shift();oa.push(d)}na(oa)}}if(0<
D)E=sb;else{if(g.preRun)for("function"==typeof g.preRun&&(g.preRun=[g.preRun]);g.preRun.length;)qa();na(pa);0<D?E=sb:g.setStatus?(g.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>g.setStatus(""),1);a()},1)):a()}}var tb;
(async function(){function a(c){c=tb=c.exports;ob=g._malloc=c.v;g._free=c.w;g._emInit=c.x;g._emUpdate=c.y;g._emResize=c.z;g._emGetCell=c.A;g._emGetCellFgR=c.B;g._emGetCellFgG=c.C;g._emGetCellFgB=c.D;g._emGetCellBgR=c.E;g._emGetCellBgG=c.F;g._emGetCellBgB=c.G;g._emGetCellBold=c.H;g._emGetCellItalic=c.I;g._emGetCellUnderline=c.J;g._emHandleKeyPress=c.K;g._emHandleTextInput=c.L;g._emHandleMouseClick=c.M;g._emHandleMouseRelease=c.N;g._emHandleMouseMove=c.O;g._emSetWaitingForGist=c.P;g._emLoadMarkdownFromJS=
c.Q;qb=c.R;mb=c.S;kb=c.T;lb=c.U;C=c.t;fa();D--;g.monitorRunDependencies?.(D);0==D&&E&&(c=E,E=null,c());return tb}D++;g.monitorRunDependencies?.(D);var b={a:rb};if(g.instantiateWasm)return new Promise(c=>{g.instantiateWasm(b,(d,e)=>{c(a(d,e))})});ia??=g.locateFile?g.locateFile("tstorie.wasm.wasm",ba):ba+"tstorie.wasm.wasm";return a((await la(b)).instance)})();sb();
