/* Generated by Nim Compiler v2.2.6 */
/* Compiled for: Linux, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w -fmax-errors=3 -fno-strict-aliasing -pthread -I/workspaces/telestorie/lib   -I/home/codespace/.choosenim/toolchains/nim-2.2.6/lib -I/workspaces/telestorie -o /workspaces/telestorie/nimcache_sdl3_test/@mlib@saudio_gen.nim.c.o /workspaces/telestorie/nimcache_sdl3_test/@mlib@saudio_gen.nim.c */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include <math.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(proc, file) \
  TFrame FR_; \
  FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = 0; nimFrame(&FR_);

#define nimln_(n) \
  FR_.line = n;

#define nimlf_(n, file) \
  FR_.line = n; FR_.filename = file;

typedef struct tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ;
typedef struct tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg;
typedef struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ tySequence__4Xyxy0Om14N6K1l5e9bUPSQ;
typedef struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content;
typedef struct tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA;
typedef struct tyObject_HSlice__mgjVG7Hfnwz4ioOQDh20PQ tyObject_HSlice__mgjVG7Hfnwz4ioOQDh20PQ;
typedef NU8 tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA;
struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ {
  NI len; tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content* p;
};
struct tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg {
	tySequence__4Xyxy0Om14N6K1l5e9bUPSQ data;
	NI sampleRate;
	NI channels;
};
struct tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA {
	NF phase;
};
struct tyObject_HSlice__mgjVG7Hfnwz4ioOQDh20PQ {
	NF a;
	NF b;
};
struct tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ {
	NF attack;
	NF decay;
	NF sustain;
	NF release;
};
struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content { NI cap; NF32 data[SEQ_DECL_SIZE]; };
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NOINLINE(void, raiseRangeErrorI)(NI64 i_p0, NI64 a_p1, NI64 b_p2);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___libZaudio95gen_u251)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ* dest_p0, tySequence__4Xyxy0Om14N6K1l5e9bUPSQ src_p1);
N_LIB_PRIVATE N_NIMCALL(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ, newSeq__libZaudio95gen_u157)(NI len_p0);
N_LIB_PRIVATE N_NIMCALL(NF, oscillatorStep__libZaudio95gen_u31)(tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA* state_p0, tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA waveform_p1, NF frequency_p2, NF sampleRate_p3, NF pulseWidth_p4);
N_LIB_PRIVATE N_NIMCALL(NF, rand__libZaudio95gen_u92)(tyObject_HSlice__mgjVG7Hfnwz4ioOQDh20PQ x_p0);
static N_INLINE(tyObject_HSlice__mgjVG7Hfnwz4ioOQDh20PQ, dotdot___libZaudio95gen_u39)(NF a_p0, NF b_p1);
static N_INLINE(void, nimFrame)(TFrame* s_p0);
N_LIB_PRIVATE N_NOINLINE(void, callDepthLimitReached__system_u4643)(void);
static N_INLINE(void, popFrame)(void);
static N_INLINE(void, pluseq___pureZstrutils_u2621)(NF* x_p0, NF y_p1);
static N_INLINE(void, minuseq___libZaudio95gen_u115)(NF* x_p0, NF y_p1);
N_LIB_PRIVATE N_NIMCALL(NF, applyEnvelope__libZaudio95gen_u119)(NF sample_p0, tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ* envelope_p1, NF time_p2, NF duration_p3);
N_LIB_PRIVATE N_NOINLINE(void, raiseIndexError2)(NI i_p0, NI n_p1);
N_LIB_PRIVATE N_NOINLINE(void, raiseOverflow)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZaudio95gen_u242)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___libZaudio95gen_u245)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ* dest_p0, tySequence__4Xyxy0Om14N6K1l5e9bUPSQ src_p1);
N_LIB_PRIVATE N_NIMCALL(void, generateTone__libZaudio95gen_u131)(NF frequency_p0, NF duration_p1, tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA waveform_p2, NF amplitude_p3, NI sampleRate_p4, tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ* envelope_p5, NF pulseWidth_p6, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result);
N_LIB_PRIVATE N_NIMCALL(void, generateFrequencySweep__libZaudio95gen_u305)(NF startFreq_p0, NF endFreq_p1, NF duration_p2, tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA waveform_p3, NF amplitude_p4, NI sampleRate_p5, tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ* envelope_p6, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result);
N_LIB_PRIVATE N_NIMCALL(void, generateNoiseBurst__libZaudio95gen_u345)(NF duration_p0, NF amplitude_p1, NI sampleRate_p2, tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ* envelope_p3, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result);
extern NIM_THREADVAR NIM_BOOL nimInErrorMode__system_u4425;
extern NIM_THREADVAR TFrame* framePtr__system_u2743;
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4425);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, nimFrame)(TFrame* s_p0) {
	{
		if (!(framePtr__system_u2743 == ((TFrame*) NIM_NIL))) goto LA3_;
		(*s_p0).calldepth = ((NI16)0);
	}
	goto LA1_;
LA3_: ;
	{
		(*s_p0).calldepth = (NI16)((*framePtr__system_u2743).calldepth + ((NI16)1));
	}
LA1_: ;
	(*s_p0).prev = framePtr__system_u2743;
	framePtr__system_u2743 = s_p0;
	{
		if (!((*s_p0).calldepth == ((NI16)2000))) goto LA8_;
		callDepthLimitReached__system_u4643();
	}
LA8_: ;
}
static N_INLINE(void, popFrame)(void) {
	framePtr__system_u2743 = (*framePtr__system_u2743).prev;
}
static N_INLINE(tyObject_HSlice__mgjVG7Hfnwz4ioOQDh20PQ, dotdot___libZaudio95gen_u39)(NF a_p0, NF b_p1) {
	tyObject_HSlice__mgjVG7Hfnwz4ioOQDh20PQ result;
	nimfr_("..", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");
	nimlf_(436, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");	result.a = a_p0;
	result.b = b_p1;
	popFrame();
	return result;
}
static N_INLINE(void, pluseq___pureZstrutils_u2621)(NF* x_p0, NF y_p1) {
	nimfr_("+=", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");
	nimlf_(330, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");	(*x_p0) = ((NF)((*x_p0)) + (NF)(y_p1));
	popFrame();
}
static N_INLINE(void, minuseq___libZaudio95gen_u115)(NF* x_p0, NF y_p1) {
	nimfr_("-=", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");
	nimln_(335);	(*x_p0) = ((NF)((*x_p0)) - (NF)(y_p1));
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(NF, oscillatorStep__libZaudio95gen_u31)(tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA* state_p0, tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA waveform_p1, NF frequency_p2, NF sampleRate_p3, NF pulseWidth_p4) {
	NF result;
	NF colontmpD_;
	NF colontmpD__2;
	NF colontmpD__3;
	NF colontmpD__4;
	NF colontmpD__5;
	NF colontmpD__6;
	NF phaseIncrement_1;
NIM_BOOL* nimErr_;
	nimfr_("oscillatorStep", "/workspaces/telestorie/lib/audio_gen.nim");
{nimErr_ = nimErrorFlag();
	result = (NF)0;
	colontmpD_ = (NF)0;
	colontmpD__2 = (NF)0;
	colontmpD__3 = (NF)0;
	colontmpD__4 = (NF)0;
	colontmpD__5 = (NF)0;
	colontmpD__6 = (NF)0;
	nimlf_(51, "/workspaces/telestorie/lib/audio_gen.nim");	phaseIncrement_1 = ((NF)(frequency_p2) / (NF)(sampleRate_p3));
	nimln_(53);	switch (waveform_p1) {
	case ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)0):
	{
		nimln_(55);		colontmpD_ = sin(((NF)((*state_p0).phase) * (NF)(6.283185307179586)));
		result = colontmpD_;
	}
	break;
	case ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)1):
	{
		NF colontmpD__7;
		NF colontmpD__8;
		colontmpD__7 = (NF)0;
		colontmpD__8 = (NF)0;
		nimln_(58);		{
			if (!((*state_p0).phase < 0.5)) goto LA5_;
			colontmpD__7 = 1.0;
			colontmpD__2 = colontmpD__7;
		}
		goto LA3_;
LA5_: ;
		{
			colontmpD__8 = -1.0;
			colontmpD__2 = colontmpD__8;
		}
LA3_: ;
		result = colontmpD__2;
	}
	break;
	case ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)2):
	{
		nimln_(61);		colontmpD__3 = ((NF)(((NF)(2.0) * (NF)((*state_p0).phase))) - (NF)(1.0));
		result = colontmpD__3;
	}
	break;
	case ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)3):
	{
		NF colontmpD__9;
		NF colontmpD__10;
		colontmpD__9 = (NF)0;
		colontmpD__10 = (NF)0;
		nimln_(64);		{
			if (!((*state_p0).phase < 0.5)) goto LA12_;
			nimln_(65);			colontmpD__9 = ((NF)(((NF)(4.0) * (NF)((*state_p0).phase))) - (NF)(1.0));
			colontmpD__4 = colontmpD__9;
		}
		goto LA10_;
LA12_: ;
		{
			nimln_(67);			colontmpD__10 = ((NF)(3.0) - (NF)(((NF)(4.0) * (NF)((*state_p0).phase))));
			colontmpD__4 = colontmpD__10;
		}
LA10_: ;
		result = colontmpD__4;
	}
	break;
	case ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)5):
	{
		NF colontmpD__11;
		NF colontmpD__12;
		colontmpD__11 = (NF)0;
		colontmpD__12 = (NF)0;
		nimln_(70);		{
			if (!((*state_p0).phase < pulseWidth_p4)) goto LA18_;
			colontmpD__11 = 1.0;
			colontmpD__5 = colontmpD__11;
		}
		goto LA16_;
LA18_: ;
		{
			colontmpD__12 = -1.0;
			colontmpD__5 = colontmpD__12;
		}
LA16_: ;
		result = colontmpD__5;
	}
	break;
	case ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)4):
	{
		tyObject_HSlice__mgjVG7Hfnwz4ioOQDh20PQ T22_;
		nimln_(74);		T22_ = dotdot___libZaudio95gen_u39(-1.0, 1.0);
		colontmpD__6 = rand__libZaudio95gen_u92(T22_);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		result = colontmpD__6;
	}
	break;
	default: __builtin_unreachable();
	}
	nimln_(77);	pluseq___pureZstrutils_u2621((&(*state_p0).phase), phaseIncrement_1);
	nimln_(78);	{
		if (!(1.0 <= (*state_p0).phase)) goto LA25_;
		nimln_(79);		minuseq___libZaudio95gen_u115((&(*state_p0).phase), 1.0);
	}
LA25_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NF, applyEnvelope__libZaudio95gen_u119)(NF sample_p0, tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ* envelope_p1, NF time_p2, NF duration_p3) {
	NF result;
	NF attackTime_1;
	NF decayTime_1;
	NF releaseStart_1;
	NF amplitude_1;
	nimfr_("applyEnvelope", "/workspaces/telestorie/lib/audio_gen.nim");
{	nimln_(87);	attackTime_1 = (*envelope_p1).attack;
	nimln_(88);	decayTime_1 = (*envelope_p1).decay;
	nimln_(89);	releaseStart_1 = ((NF)(duration_p3) - (NF)((*envelope_p1).release));
	nimln_(91);	amplitude_1 = 1.0;
	nimln_(93);	{
		if (!(time_p2 < attackTime_1)) goto LA3_;
		nimln_(95);		amplitude_1 = ((NF)(time_p2) / (NF)(attackTime_1));
	}
	goto LA1_;
LA3_: ;
	{
		NF decayProgress_1;
		nimln_(97);		if (!(time_p2 < ((NF)(attackTime_1) + (NF)(decayTime_1)))) goto LA6_;
		nimln_(99);		decayProgress_1 = ((NF)(((NF)(time_p2) - (NF)(attackTime_1))) / (NF)(decayTime_1));
		nimln_(100);		amplitude_1 = ((NF)(1.0) - (NF)(((NF)(((NF)(1.0) - (NF)((*envelope_p1).sustain))) * (NF)(decayProgress_1))));
	}
	goto LA1_;
LA6_: ;
	{
		nimln_(102);		if (!(time_p2 < releaseStart_1)) goto LA9_;
		nimln_(104);		amplitude_1 = (*envelope_p1).sustain;
	}
	goto LA1_;
LA9_: ;
	{
		NF releaseProgress_1;
		nimln_(108);		releaseProgress_1 = ((NF)(((NF)(time_p2) - (NF)(releaseStart_1))) / (NF)((*envelope_p1).release));
		nimln_(109);		amplitude_1 = ((NF)((*envelope_p1).sustain) * (NF)(((NF)(1.0) - (NF)(releaseProgress_1))));
	}
LA1_: ;
	nimln_(111);	nimln_(81);	nimln_(111);	result = ((NF)(sample_p0) * (NF)(amplitude_1));
	goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, generateTone__libZaudio95gen_u131)(NF frequency_p0, NF duration_p1, tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA waveform_p2, NF amplitude_p3, NI sampleRate_p4, tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ* envelope_p5, NF pulseWidth_p6, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result) {
	NI numSamples_1;
	tySequence__4Xyxy0Om14N6K1l5e9bUPSQ T1_;
	tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA osc_1;
NIM_BOOL* nimErr_;
	nimfr_("generateTone", "/workspaces/telestorie/lib/audio_gen.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)Result, sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimln_(123);	(*Result).sampleRate = sampleRate_p4;
	nimln_(124);	(*Result).channels = ((NI)1);
	nimln_(126);	if ((((NI) (((NF)(duration_p1) * (NF)(((NF) (sampleRate_p4))))))) < ((NI)(IL64(-9223372036854775807) - IL64(1))) || (((NI) (((NF)(duration_p1) * (NF)(((NF) (sampleRate_p4))))))) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(((NI) (((NF)(duration_p1) * (NF)(((NF) (sampleRate_p4)))))), ((NI)(IL64(-9223372036854775807) - IL64(1))), ((NI)IL64(9223372036854775807))); goto BeforeRet_;
	}
	numSamples_1 = (((NI) (((NF)(duration_p1) * (NF)(((NF) (sampleRate_p4)))))));
	nimlf_(651, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");	nimlf_(127, "/workspaces/telestorie/lib/audio_gen.nim");	if ((numSamples_1) < ((NI)0) || (numSamples_1) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(numSamples_1, ((NI)0), ((NI)IL64(9223372036854775807))); goto BeforeRet_;
	}
	T1_.len = 0; T1_.p = NIM_NIL;
	T1_ = newSeq__libZaudio95gen_u157((numSamples_1));
	nimlf_(651, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");	eqsink___libZaudio95gen_u251((&(*Result).data), T1_);
	nimlf_(129, "/workspaces/telestorie/lib/audio_gen.nim");	nimZeroMem((void*)(&osc_1), sizeof(tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA));
	{
		NI i_1;
		NI i_2;
		i_1 = (NI)0;
		nimlf_(128, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");		i_2 = ((NI)0);
		{
			nimln_(129);			while (1) {
				NF time_1;
				NF sample_1;
				NI TM__kiAFgOiXTKhy40GMkCHY1Q_2;
				if (!(i_2 < numSamples_1)) goto LA4;
				nimlf_(131, "/workspaces/telestorie/lib/audio_gen.nim");				i_1 = i_2;
				nimln_(132);				time_1 = ((NF)(((NF) (i_1))) / (NF)(((NF) (sampleRate_p4))));
				nimln_(133);				sample_1 = oscillatorStep__libZaudio95gen_u31((&osc_1), waveform_p2, frequency_p0, ((NF) (sampleRate_p4)), pulseWidth_p6);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(134);				sample_1 = applyEnvelope__libZaudio95gen_u119(sample_1, envelope_p5, time_1, duration_p1);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(135);				if (i_1 < 0 || i_1 >= (*Result).data.len){ raiseIndexError2(i_1,(*Result).data.len-1); goto BeforeRet_;
				}
				(*Result).data.p->data[i_1] = ((NF32) (((NF)(sample_1) * (NF)(amplitude_p3))));
				nimlf_(131, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");				if (nimAddInt(i_2, ((NI)1), &TM__kiAFgOiXTKhy40GMkCHY1Q_2)) { raiseOverflow(); goto BeforeRet_;
				};
				i_2 = (NI)(TM__kiAFgOiXTKhy40GMkCHY1Q_2);
			} LA4: ;
		}
	}
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZaudio95gen_u412)(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* dest_p0) {
	eqdestroy___libZaudio95gen_u242((*dest_p0).data);
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___libZaudio95gen_u415)(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* dest_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* src_p1) {
	eqcopy___libZaudio95gen_u245((&(*dest_p0).data), (*src_p1).data);
	(*dest_p0).sampleRate = (*src_p1).sampleRate;
	(*dest_p0).channels = (*src_p1).channels;
}
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___libZaudio95gen_u409)(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* dest_p0) {
	(*dest_p0).data.len = 0; (*dest_p0).data.p = NIM_NIL;
	(*dest_p0).sampleRate = 0;
	(*dest_p0).channels = 0;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___libZaudio95gen_u421)(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* dest_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* src_p1) {
	if ((*dest_p0).data.p != (*src_p1).data.p) {	eqdestroy___libZaudio95gen_u242((*dest_p0).data);
	}
(*dest_p0).data.len = (*src_p1).data.len; (*dest_p0).data.p = (*src_p1).data.p;
	(*dest_p0).sampleRate = (*src_p1).sampleRate;
	(*dest_p0).channels = (*src_p1).channels;
}
N_LIB_PRIVATE N_NIMCALL(void, generateBleep__libZaudio95gen_u380)(NF frequency_p0, NF duration_p1, NF amplitude_p2, NI sampleRate_p3, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result) {
	tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ env_1;
NIM_BOOL* nimErr_;
	nimfr_("generateBleep", "/workspaces/telestorie/lib/audio_gen.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)Result, sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimZeroMem((void*)(&env_1), sizeof(tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ));
	nimlf_(184, "/workspaces/telestorie/lib/audio_gen.nim");	env_1.attack = 0.001;
	env_1.decay = 0.02;
	env_1.sustain = 0.5;
	env_1.release = 0.05;
	nimln_(185);	nimln_(181);	nimln_(185);	generateTone__libZaudio95gen_u131(frequency_p0, duration_p1, ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)1), amplitude_p2, sampleRate_p3, (&env_1), 0.5, Result);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, generateFrequencySweep__libZaudio95gen_u305)(NF startFreq_p0, NF endFreq_p1, NF duration_p2, tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA waveform_p3, NF amplitude_p4, NI sampleRate_p5, tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ* envelope_p6, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result) {
	NI numSamples_1;
	tySequence__4Xyxy0Om14N6K1l5e9bUPSQ T1_;
	tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA osc_1;
NIM_BOOL* nimErr_;
	nimfr_("generateFrequencySweep", "/workspaces/telestorie/lib/audio_gen.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)Result, sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimln_(143);	(*Result).sampleRate = sampleRate_p5;
	nimln_(144);	(*Result).channels = ((NI)1);
	nimln_(146);	if ((((NI) (((NF)(duration_p2) * (NF)(((NF) (sampleRate_p5))))))) < ((NI)(IL64(-9223372036854775807) - IL64(1))) || (((NI) (((NF)(duration_p2) * (NF)(((NF) (sampleRate_p5))))))) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(((NI) (((NF)(duration_p2) * (NF)(((NF) (sampleRate_p5)))))), ((NI)(IL64(-9223372036854775807) - IL64(1))), ((NI)IL64(9223372036854775807))); goto BeforeRet_;
	}
	numSamples_1 = (((NI) (((NF)(duration_p2) * (NF)(((NF) (sampleRate_p5)))))));
	nimlf_(651, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");	nimlf_(147, "/workspaces/telestorie/lib/audio_gen.nim");	if ((numSamples_1) < ((NI)0) || (numSamples_1) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(numSamples_1, ((NI)0), ((NI)IL64(9223372036854775807))); goto BeforeRet_;
	}
	T1_.len = 0; T1_.p = NIM_NIL;
	T1_ = newSeq__libZaudio95gen_u157((numSamples_1));
	nimlf_(651, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");	eqsink___libZaudio95gen_u251((&(*Result).data), T1_);
	nimlf_(149, "/workspaces/telestorie/lib/audio_gen.nim");	nimZeroMem((void*)(&osc_1), sizeof(tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA));
	{
		NI i_1;
		NI i_2;
		i_1 = (NI)0;
		nimlf_(128, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");		i_2 = ((NI)0);
		{
			nimln_(129);			while (1) {
				NF time_1;
				NF progress_1;
				NF currentFreq_1;
				NF sample_1;
				NI TM__kiAFgOiXTKhy40GMkCHY1Q_3;
				if (!(i_2 < numSamples_1)) goto LA4;
				nimlf_(151, "/workspaces/telestorie/lib/audio_gen.nim");				i_1 = i_2;
				nimln_(152);				time_1 = ((NF)(((NF) (i_1))) / (NF)(((NF) (sampleRate_p5))));
				nimln_(153);				progress_1 = ((NF)(time_1) / (NF)(duration_p2));
				nimln_(156);				currentFreq_1 = ((NF)(startFreq_p0) + (NF)(((NF)(((NF)(endFreq_p1) - (NF)(startFreq_p0))) * (NF)(progress_1))));
				nimln_(158);				sample_1 = oscillatorStep__libZaudio95gen_u31((&osc_1), waveform_p3, currentFreq_1, ((NF) (sampleRate_p5)), 0.5);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(159);				sample_1 = applyEnvelope__libZaudio95gen_u119(sample_1, envelope_p6, time_1, duration_p2);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(160);				if (i_1 < 0 || i_1 >= (*Result).data.len){ raiseIndexError2(i_1,(*Result).data.len-1); goto BeforeRet_;
				}
				(*Result).data.p->data[i_1] = ((NF32) (((NF)(sample_1) * (NF)(amplitude_p4))));
				nimlf_(131, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");				if (nimAddInt(i_2, ((NI)1), &TM__kiAFgOiXTKhy40GMkCHY1Q_3)) { raiseOverflow(); goto BeforeRet_;
				};
				i_2 = (NI)(TM__kiAFgOiXTKhy40GMkCHY1Q_3);
			} LA4: ;
		}
	}
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, generateJump__libZaudio95gen_u431)(NI sampleRate_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result) {
	tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ T1_;
NIM_BOOL* nimErr_;
	nimfr_("generateJump", "/workspaces/telestorie/lib/audio_gen.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)Result, sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimlf_(189, "/workspaces/telestorie/lib/audio_gen.nim");	T1_.attack = 0.001;
	T1_.decay = 0.05;
	T1_.sustain = 0.8;
	T1_.release = 0.1;
	generateFrequencySweep__libZaudio95gen_u305(200.0, 600.0, 0.2, ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)1), 0.4, sampleRate_p0, (&T1_), Result);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, generateLanding__libZaudio95gen_u434)(NI sampleRate_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result) {
	tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ T1_;
NIM_BOOL* nimErr_;
	nimfr_("generateLanding", "/workspaces/telestorie/lib/audio_gen.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)Result, sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimln_(193);	T1_.attack = 0.001;
	T1_.decay = 0.05;
	T1_.sustain = 0.8;
	T1_.release = 0.1;
	generateFrequencySweep__libZaudio95gen_u305(300.0, 80.0, 0.15, ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)1), 0.5, sampleRate_p0, (&T1_), Result);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, generateNoiseBurst__libZaudio95gen_u345)(NF duration_p0, NF amplitude_p1, NI sampleRate_p2, tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ* envelope_p3, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result) {
	NI numSamples_1;
	tySequence__4Xyxy0Om14N6K1l5e9bUPSQ T1_;
	tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA osc_1;
NIM_BOOL* nimErr_;
	nimfr_("generateNoiseBurst", "/workspaces/telestorie/lib/audio_gen.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)Result, sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimln_(167);	(*Result).sampleRate = sampleRate_p2;
	nimln_(168);	(*Result).channels = ((NI)1);
	nimln_(170);	if ((((NI) (((NF)(duration_p0) * (NF)(((NF) (sampleRate_p2))))))) < ((NI)(IL64(-9223372036854775807) - IL64(1))) || (((NI) (((NF)(duration_p0) * (NF)(((NF) (sampleRate_p2))))))) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(((NI) (((NF)(duration_p0) * (NF)(((NF) (sampleRate_p2)))))), ((NI)(IL64(-9223372036854775807) - IL64(1))), ((NI)IL64(9223372036854775807))); goto BeforeRet_;
	}
	numSamples_1 = (((NI) (((NF)(duration_p0) * (NF)(((NF) (sampleRate_p2)))))));
	nimlf_(651, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");	nimlf_(171, "/workspaces/telestorie/lib/audio_gen.nim");	if ((numSamples_1) < ((NI)0) || (numSamples_1) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(numSamples_1, ((NI)0), ((NI)IL64(9223372036854775807))); goto BeforeRet_;
	}
	T1_.len = 0; T1_.p = NIM_NIL;
	T1_ = newSeq__libZaudio95gen_u157((numSamples_1));
	nimlf_(651, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");	eqsink___libZaudio95gen_u251((&(*Result).data), T1_);
	nimlf_(173, "/workspaces/telestorie/lib/audio_gen.nim");	nimZeroMem((void*)(&osc_1), sizeof(tyObject_OscillatorState__dsovxQNi8zdIWqjTyGUQfA));
	{
		NI i_1;
		NI i_2;
		i_1 = (NI)0;
		nimlf_(128, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");		i_2 = ((NI)0);
		{
			nimln_(129);			while (1) {
				NF time_1;
				NF sample_1;
				NI TM__kiAFgOiXTKhy40GMkCHY1Q_4;
				if (!(i_2 < numSamples_1)) goto LA4;
				nimlf_(175, "/workspaces/telestorie/lib/audio_gen.nim");				i_1 = i_2;
				nimln_(176);				time_1 = ((NF)(((NF) (i_1))) / (NF)(((NF) (sampleRate_p2))));
				nimln_(177);				sample_1 = oscillatorStep__libZaudio95gen_u31((&osc_1), ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)4), 0.0, ((NF) (sampleRate_p2)), 0.5);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(178);				sample_1 = applyEnvelope__libZaudio95gen_u119(sample_1, envelope_p3, time_1, duration_p0);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(179);				if (i_1 < 0 || i_1 >= (*Result).data.len){ raiseIndexError2(i_1,(*Result).data.len-1); goto BeforeRet_;
				}
				(*Result).data.p->data[i_1] = ((NF32) (((NF)(sample_1) * (NF)(amplitude_p1))));
				nimlf_(131, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");				if (nimAddInt(i_2, ((NI)1), &TM__kiAFgOiXTKhy40GMkCHY1Q_4)) { raiseOverflow(); goto BeforeRet_;
				};
				i_2 = (NI)(TM__kiAFgOiXTKhy40GMkCHY1Q_4);
			} LA4: ;
		}
	}
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, generateHit__libZaudio95gen_u437)(NI sampleRate_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result) {
	tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ env_1;
NIM_BOOL* nimErr_;
	nimfr_("generateHit", "/workspaces/telestorie/lib/audio_gen.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)Result, sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimZeroMem((void*)(&env_1), sizeof(tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ));
	nimlf_(197, "/workspaces/telestorie/lib/audio_gen.nim");	env_1.attack = 0.001;
	env_1.decay = 0.1;
	env_1.sustain = 0.0;
	env_1.release = 0.05;
	nimln_(195);	nimln_(198);	generateNoiseBurst__libZaudio95gen_u345(0.12, 0.4, sampleRate_p0, (&env_1), Result);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, generatePowerUp__libZaudio95gen_u441)(NI sampleRate_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result) {
	tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ T1_;
NIM_BOOL* nimErr_;
	nimfr_("generatePowerUp", "/workspaces/telestorie/lib/audio_gen.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)Result, sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimln_(202);	T1_.attack = 0.001;
	T1_.decay = 0.05;
	T1_.sustain = 0.8;
	T1_.release = 0.1;
	generateFrequencySweep__libZaudio95gen_u305(200.0, 800.0, 0.3, ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)0), 0.4, sampleRate_p0, (&T1_), Result);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, generateLaser__libZaudio95gen_u444)(NI sampleRate_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result) {
	tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ env_1;
NIM_BOOL* nimErr_;
	nimfr_("generateLaser", "/workspaces/telestorie/lib/audio_gen.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)Result, sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimZeroMem((void*)(&env_1), sizeof(tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ));
	nimln_(206);	env_1.attack = 0.001;
	env_1.decay = 0.05;
	env_1.sustain = 0.3;
	env_1.release = 0.05;
	nimln_(204);	nimln_(207);	generateFrequencySweep__libZaudio95gen_u305(800.0, 200.0, 0.15, ((tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA)2), 0.35, sampleRate_p0, (&env_1), Result);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
}
