/* Generated by Nim Compiler v2.2.6 */
/* Compiled for: Linux, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w -fmax-errors=3 -fno-strict-aliasing -pthread -I/workspaces/telestorie/lib   -I/home/codespace/.choosenim/toolchains/nim-2.2.6/lib -I/workspaces/telestorie -o /workspaces/telestorie/nimcache_sdl3_test/@mlib@saudio.nim.c.o /workspaces/telestorie/nimcache_sdl3_test/@mlib@saudio.nim.c */
#define NIM_INTBITS 64

#include "nimbase.h"
#include "miniaudio.h"
#include <sys/types.h>
                          #include <pthread.h>
#include <string.h>
#include <pthread.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(proc, file) \
  TFrame FR_; \
  FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = 0; nimFrame(&FR_);

#define nimln_(n) \
  FR_.line = n;

#define nimlf_(n, file) \
  FR_.line = n; FR_.filename = file;

typedef struct tySequence__qE1lkEbYXEtaF1pKH4BcRQ tySequence__qE1lkEbYXEtaF1pKH4BcRQ;
typedef struct tySequence__qE1lkEbYXEtaF1pKH4BcRQ_Content tySequence__qE1lkEbYXEtaF1pKH4BcRQ_Content;
typedef struct tyObject_AudioVoice__05tbJ9aXHJs9aybPCUqvfUWQ tyObject_AudioVoice__05tbJ9aXHJs9aybPCUqvfUWQ;
typedef struct tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg;
typedef struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ tySequence__4Xyxy0Om14N6K1l5e9bUPSQ;
typedef struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content;
typedef struct tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ;
typedef struct tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ;
struct tySequence__qE1lkEbYXEtaF1pKH4BcRQ {
  NI len; tySequence__qE1lkEbYXEtaF1pKH4BcRQ_Content* p;
};
struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ {
  NI len; tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content* p;
};
struct tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg {
	tySequence__4Xyxy0Om14N6K1l5e9bUPSQ data;
	NI sampleRate;
	NI channels;
};
struct tyObject_AudioVoice__05tbJ9aXHJs9aybPCUqvfUWQ {
	tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg sample;
	NI position;
	NIM_BOOL active;
};
typedef tyObject_AudioVoice__05tbJ9aXHJs9aybPCUqvfUWQ tyArray__XzerTbXIw1aH02bngyH29cg[16];
typedef long tyArray__JnDexEsSwd1sgw7BR9b59bgw[5];
typedef NU8 tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA;
struct tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ {
	NIM_BOOL initialized;
	NI sampleRate;
};
struct tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ {
	NF attack;
	NF decay;
	NF sustain;
	NF release;
};
struct NimStrPayload {
	NI cap;
	NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
	NI len;
	NimStrPayload* p;
};
typedef NimStringV2 tyArray__nHXaesL0DJZHyVS07ARPRA[1];
typedef NI32 tyEnum_ma_device_type__tVaha6eTmFE1U1CDCi3Dcw;
typedef NI32 tyEnum_ma_format__uiKrKpKpI2BEG2FPugNLQQ;
typedef NimStringV2 tyArray__24KAM9afIUgUaqBaEBB6r9bg[3];
struct tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ {
	NI rc;
	NI rootIdx;
};
struct tySequence__qE1lkEbYXEtaF1pKH4BcRQ_Content { NI cap; tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg data[SEQ_DECL_SIZE]; };
struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content { NI cap; NF32 data[SEQ_DECL_SIZE]; };
typedef int tyArray__y9cEmKvKoWBNvZLJvncDPkg[1];
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(void, generateTone__libZaudio95gen_u131)(NF frequency_p0, NF duration_p1, tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA waveform_p2, NF amplitude_p3, NI sampleRate_p4, tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ* envelope_p5, NF pulseWidth_p6, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result);
N_LIB_PRIVATE N_NIMCALL(void, playSample__libZaudio_u487)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* sys_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* sample_p1, NF volume_p2);
N_LIB_PRIVATE N_NIMCALL(void, echoBinSafe)(NimStringV2* args_p0, NI args_p0Len_0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZaudio95gen_u412)(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___libZaudio95gen_u415)(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* dest_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___libZaudio95gen_u251)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ* dest_p0, tySequence__4Xyxy0Om14N6K1l5e9bUPSQ src_p1);
N_LIB_PRIVATE N_NIMCALL(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ, newSeq__libZaudio95gen_u157)(NI len_p0);
N_LIB_PRIVATE N_NOINLINE(void, raiseRangeErrorI)(NI64 i_p0, NI64 a_p1, NI64 b_p2);
N_LIB_PRIVATE N_NOINLINE(void, raiseIndexError2)(NI i_p0, NI n_p1);
N_LIB_PRIVATE N_NOINLINE(void, raiseOverflow)(void);
static N_INLINE(void, acquire__coreZlocks_u14)(pthread_mutex_t* lock_p0);
N_LIB_PRIVATE N_NIMCALL(void, add__libZaudio_u526)(tySequence__qE1lkEbYXEtaF1pKH4BcRQ* x_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* y_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___libZaudio95gen_u409)(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* dest_p0);
static N_INLINE(void, release__coreZlocks_u16)(pthread_mutex_t* lock_p0);
static N_INLINE(void, nimFrame)(TFrame* s_p0);
N_LIB_PRIVATE N_NOINLINE(void, callDepthLimitReached__system_u4643)(void);
static N_INLINE(void, popFrame)(void);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObjUninit)(NI size_p0, NI alignment_p1);
N_LIB_PRIVATE N_NOCONV(void, deallocShared)(void* p_p0);
N_LIB_PRIVATE N_NIMCALL(void, initQueueLock__libZaudio_u86)(void);
static N_INLINE(void, initLock__coreZlocks_u7)(pthread_mutex_t* lock_p0);
N_LIB_PRIVATE N_CDECL(void, nativeAudioCallback__libZaudio_u88)(ma_device* pDevice_p0, void* pOutput_p1, void* pInput_p2, NU32 frameCount_p3);
static N_INLINE(void, pluseq___libZaudio95gen_u514)(NF32* x_p0, NF32 y_p1);
static N_INLINE(NIM_BOOL, tryAcquire__coreZlocks_u11)(pthread_mutex_t* lock_p0);
N_LIB_PRIVATE N_NIMCALL(void, delete__libZaudio_u142)(tySequence__qE1lkEbYXEtaF1pKH4BcRQ* x_p0, NI i_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___libZaudio_u314)(tySequence__qE1lkEbYXEtaF1pKH4BcRQ* dest_p0, tySequence__qE1lkEbYXEtaF1pKH4BcRQ src_p1);
N_LIB_PRIVATE N_NIMCALL(void*, newSeqPayload)(NI cap_p0, NI elemSize_p1, NI elemAlign_p2);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZdollars_u14)(NI xX60gensym0__p0);
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0);
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZaudio_u378)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p_p0, NI alignment_p1);
static N_INLINE(void, nimIncRef)(void* p_p0);
static N_INLINE(NI, pluspercent___system_u793)(NI x_p0, NI y_p1);
N_LIB_PRIVATE N_NIMCALL(void, generateBleep__libZaudio95gen_u380)(NF frequency_p0, NF duration_p1, NF amplitude_p2, NI sampleRate_p3, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result);
N_LIB_PRIVATE N_NIMCALL(void, generateJump__libZaudio95gen_u431)(NI sampleRate_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result);
N_LIB_PRIVATE N_NIMCALL(void, generateLanding__libZaudio95gen_u434)(NI sampleRate_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result);
N_LIB_PRIVATE N_NIMCALL(void, generateHit__libZaudio95gen_u437)(NI sampleRate_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result);
N_LIB_PRIVATE N_NIMCALL(void, generatePowerUp__libZaudio95gen_u441)(NI sampleRate_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result);
N_LIB_PRIVATE N_NIMCALL(void, generateLaser__libZaudio95gen_u444)(NI sampleRate_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* Result);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZaudio95gen_u242)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ dest_p0);
static const struct {
  NI cap; NIM_CHAR data[30+1];
} TM__YHbTlt00LKLR9brxVZ5ox4g_3 = { 30 | NIM_STRLIT_FLAG, "TStorie Audio: Not initialized" };
static const struct {
  NI cap; NIM_CHAR data[37+1];
} TM__YHbTlt00LKLR9brxVZ5ox4g_6 = { 37 | NIM_STRLIT_FLAG, "TStorie Audio: Failed to init context" };
static const struct {
  NI cap; NIM_CHAR data[36+1];
} TM__YHbTlt00LKLR9brxVZ5ox4g_16 = { 36 | NIM_STRLIT_FLAG, "TStorie Audio: Failed to init device" };
static const struct {
  NI cap; NIM_CHAR data[37+1];
} TM__YHbTlt00LKLR9brxVZ5ox4g_18 = { 37 | NIM_STRLIT_FLAG, "TStorie Audio: Failed to start device" };
static const struct {
  NI cap; NIM_CHAR data[38+1];
} TM__YHbTlt00LKLR9brxVZ5ox4g_19 = { 38 | NIM_STRLIT_FLAG, "TStorie Audio: miniaudio initialized (" };
static const NimStringV2 TM__YHbTlt00LKLR9brxVZ5ox4g_20 = {38, (NimStrPayload*)&TM__YHbTlt00LKLR9brxVZ5ox4g_19};
static const struct {
  NI cap; NIM_CHAR data[4+1];
} TM__YHbTlt00LKLR9brxVZ5ox4g_21 = { 4 | NIM_STRLIT_FLAG, " Hz)" };
static const NimStringV2 TM__YHbTlt00LKLR9brxVZ5ox4g_22 = {4, (NimStrPayload*)&TM__YHbTlt00LKLR9brxVZ5ox4g_21};
static NIM_CONST tyArray__nHXaesL0DJZHyVS07ARPRA TM__YHbTlt00LKLR9brxVZ5ox4g_2 = {{30, (NimStrPayload*)&TM__YHbTlt00LKLR9brxVZ5ox4g_3}}
;
static NIM_CONST tyArray__nHXaesL0DJZHyVS07ARPRA TM__YHbTlt00LKLR9brxVZ5ox4g_5 = {{37, (NimStrPayload*)&TM__YHbTlt00LKLR9brxVZ5ox4g_6}}
;
static NIM_CONST tyArray__nHXaesL0DJZHyVS07ARPRA TM__YHbTlt00LKLR9brxVZ5ox4g_15 = {{36, (NimStrPayload*)&TM__YHbTlt00LKLR9brxVZ5ox4g_16}}
;
static NIM_CONST tyArray__nHXaesL0DJZHyVS07ARPRA TM__YHbTlt00LKLR9brxVZ5ox4g_17 = {{37, (NimStrPayload*)&TM__YHbTlt00LKLR9brxVZ5ox4g_18}}
;
N_LIB_PRIVATE tySequence__qE1lkEbYXEtaF1pKH4BcRQ nativeSampleQueue__libZaudio_u75;
N_LIB_PRIVATE tyArray__XzerTbXIw1aH02bngyH29cg nativeVoices__libZaudio_u85;
N_LIB_PRIVATE ma_context nativeContext__libZaudio_u72;
N_LIB_PRIVATE ma_device nativeDevice__libZaudio_u73;
N_LIB_PRIVATE NIM_BOOL nativeInitialized__libZaudio_u74 = NIM_FALSE;
N_LIB_PRIVATE NI nativeQueuePos__libZaudio_u76 = ((NI)0);
N_LIB_PRIVATE NI nativeCurrentSampleRate__libZaudio_u77 = ((NI)44100);
N_LIB_PRIVATE pthread_mutex_t nativeQueueLock__libZaudio_u79;
extern NIM_THREADVAR NIM_BOOL nimInErrorMode__system_u4425;
extern NIM_THREADVAR TFrame* framePtr__system_u2743;
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4425);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, acquire__coreZlocks_u14)(pthread_mutex_t* lock_p0) {
	pthread_mutex_lock(lock_p0);
}
static N_INLINE(void, release__coreZlocks_u16)(pthread_mutex_t* lock_p0) {
	pthread_mutex_unlock(lock_p0);
}
static N_INLINE(void, nimFrame)(TFrame* s_p0) {
	{
		if (!(framePtr__system_u2743 == ((TFrame*) NIM_NIL))) goto LA3_;
		(*s_p0).calldepth = ((NI16)0);
	}
	goto LA1_;
LA3_: ;
	{
		(*s_p0).calldepth = (NI16)((*framePtr__system_u2743).calldepth + ((NI16)1));
	}
LA1_: ;
	(*s_p0).prev = framePtr__system_u2743;
	framePtr__system_u2743 = s_p0;
	{
		if (!((*s_p0).calldepth == ((NI16)2000))) goto LA8_;
		callDepthLimitReached__system_u4643();
	}
LA8_: ;
}
static N_INLINE(void, popFrame)(void) {
	framePtr__system_u2743 = (*framePtr__system_u2743).prev;
}
N_LIB_PRIVATE N_NIMCALL(void, playSample__libZaudio_u487)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* sys_p0, tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg* sample_p1, NF volume_p2) {
	tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg adjustedSample_1;
	tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg blitTmp_1;
NIM_BOOL* nimErr_;
	nimfr_("playSample", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&adjustedSample_1), sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimlf_(285, "/workspaces/telestorie/lib/audio.nim");	{
		if (!!((*sys_p0).initialized)) goto LA4_;
		nimln_(286);		echoBinSafe(TM__YHbTlt00LKLR9brxVZ5ox4g_2, 1);
		nimln_(287);		nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");		eqdestroy___libZaudio95gen_u412((&adjustedSample_1));
		goto BeforeRet_;
	}
LA4_: ;
	nimlf_(289, "/workspaces/telestorie/lib/audio.nim");	{
		NI T8_;
		T8_ = (*sample_p1).data.len;
		if (!(T8_ == ((NI)0))) goto LA9_;
		nimln_(290);		nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");		eqdestroy___libZaudio95gen_u412((&adjustedSample_1));
		goto BeforeRet_;
	}
LA9_: ;
	eqcopy___libZaudio95gen_u415((&adjustedSample_1), sample_p1);
	nimlf_(305, "/workspaces/telestorie/lib/audio.nim");	{
		NI T15_;
		tySequence__4Xyxy0Om14N6K1l5e9bUPSQ T16_;
		if (!!((volume_p2 == 1.0))) goto LA13_;
		nimlf_(651, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		nimlf_(306, "/workspaces/telestorie/lib/audio.nim");		T15_ = (*sample_p1).data.len;
		if ((T15_) < ((NI)0) || (T15_) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(T15_, ((NI)0), ((NI)IL64(9223372036854775807))); goto LA1_;
		}
		T16_.len = 0; T16_.p = NIM_NIL;
		T16_ = newSeq__libZaudio95gen_u157((T15_));
		nimlf_(651, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		eqsink___libZaudio95gen_u251((&adjustedSample_1.data), T16_);
		{
			NI i_1;
			NI colontmp_;
			NI T18_;
			NI i_2;
			i_1 = (NI)0;
			colontmp_ = (NI)0;
			nimlf_(126, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");			nimlf_(307, "/workspaces/telestorie/lib/audio.nim");			T18_ = (*sample_p1).data.len;
			colontmp_ = T18_;
			nimlf_(128, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");			i_2 = ((NI)0);
			{
				nimln_(129);				while (1) {
					NI TM__YHbTlt00LKLR9brxVZ5ox4g_4;
					if (!(i_2 < colontmp_)) goto LA20;
					nimlf_(307, "/workspaces/telestorie/lib/audio.nim");					i_1 = i_2;
					nimln_(308);					if (i_1 < 0 || i_1 >= adjustedSample_1.data.len){ raiseIndexError2(i_1,adjustedSample_1.data.len-1); goto LA1_;
					}
					if (i_1 < 0 || i_1 >= (*sample_p1).data.len){ raiseIndexError2(i_1,(*sample_p1).data.len-1); goto LA1_;
					}
					adjustedSample_1.data.p->data[i_1] = ((NF32)((*sample_p1).data.p->data[i_1]) * (NF32)(((NF32) (volume_p2))));
					nimlf_(131, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");					if (nimAddInt(i_2, ((NI)1), &TM__YHbTlt00LKLR9brxVZ5ox4g_4)) { raiseOverflow(); goto LA1_;
					};
					i_2 = (NI)(TM__YHbTlt00LKLR9brxVZ5ox4g_4);
				} LA20: ;
			}
		}
	}
LA13_: ;
	nimlf_(310, "/workspaces/telestorie/lib/audio.nim");	acquire__coreZlocks_u14((&nativeQueueLock__libZaudio_u79));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimln_(311);	nimZeroMem((void*)(&blitTmp_1), sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	blitTmp_1 = adjustedSample_1;
	nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");	eqwasMoved___libZaudio95gen_u409((&adjustedSample_1));
	nimlf_(311, "/workspaces/telestorie/lib/audio.nim");	add__libZaudio_u526((&nativeSampleQueue__libZaudio_u75), (&blitTmp_1));
	nimln_(312);	release__coreZlocks_u16((&nativeQueueLock__libZaudio_u79));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");		eqdestroy___libZaudio95gen_u412((&adjustedSample_1));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, playTone__libZaudio_u552)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* sys_p0, NF frequency_p1, NF duration_p2, tyEnum_Waveform__MltUuF2TQ9cs49aFq4q2GNxA waveform_p3, NF volume_p4) {
	tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg sample_1;
	tyObject_Envelope__WnoAl3AaZN88gQ7SltbzaQ T1_;
NIM_BOOL* nimErr_;
	nimfr_("playTone", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&sample_1), sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimlf_(334, "/workspaces/telestorie/lib/audio.nim");	T1_.attack = 0.01;
	T1_.decay = 0.05;
	T1_.sustain = 0.7;
	T1_.release = 0.1;
	generateTone__libZaudio95gen_u131(frequency_p1, duration_p2, waveform_p3, volume_p4, (*sys_p0).sampleRate, (&T1_), 0.5, (&sample_1));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(335);	playSample__libZaudio_u487(sys_p0, (&sample_1), 1.0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");	eqdestroy___libZaudio95gen_u412((&sample_1));
	}BeforeRet_: ;
	popFrame();
}
static N_INLINE(void, initLock__coreZlocks_u7)(pthread_mutex_t* lock_p0) {
	pthread_mutex_init(lock_p0, ((pthread_mutexattr_t*) NIM_NIL));
}
N_LIB_PRIVATE N_NIMCALL(void, initQueueLock__libZaudio_u86)(void) {
NIM_BOOL* nimErr_;
	nimfr_("initQueueLock", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	nimlf_(133, "/workspaces/telestorie/lib/audio.nim");	initLock__coreZlocks_u7((&nativeQueueLock__libZaudio_u79));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
}
static N_INLINE(void, pluseq___libZaudio95gen_u514)(NF32* x_p0, NF32 y_p1) {
	nimfr_("+=", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");
	nimlf_(330, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");	(*x_p0) = ((NF32)((*x_p0)) + (NF32)(y_p1));
	popFrame();
}
static N_INLINE(NIM_BOOL, tryAcquire__coreZlocks_u11)(pthread_mutex_t* lock_p0) {
	NIM_BOOL result;
	int T1_;
	T1_ = (int)0;
	T1_ = pthread_mutex_trylock(lock_p0);
	result = (T1_ == ((NI32)0));
	return result;
}
N_LIB_PRIVATE N_CDECL(void, nativeAudioCallback__libZaudio_u88)(ma_device* pDevice_p0, void* pOutput_p1, void* pInput_p2, NU32 frameCount_p3) {
	NF32* outputBuf_1;
	NI numFrames_1;
NIM_BOOL* nimErr_;
	nimfr_("nativeAudioCallback", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	nimlf_(142, "/workspaces/telestorie/lib/audio.nim");	outputBuf_1 = ((NF32*) (pOutput_p1));
	nimln_(143);	numFrames_1 = ((NI) (frameCount_p3));
	{
		NI i_1;
		NI colontmp_;
		NI TM__YHbTlt00LKLR9brxVZ5ox4g_7;
		NI i_2;
		i_1 = (NI)0;
		colontmp_ = (NI)0;
		nimlf_(126, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");		nimlf_(146, "/workspaces/telestorie/lib/audio.nim");		if (nimMulInt(numFrames_1, ((NI)2), &TM__YHbTlt00LKLR9brxVZ5ox4g_7)) { raiseOverflow(); goto BeforeRet_;
		};
		colontmp_ = (NI)(TM__YHbTlt00LKLR9brxVZ5ox4g_7);
		nimlf_(128, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");		i_2 = ((NI)0);
		{
			nimln_(129);			while (1) {
				NI TM__YHbTlt00LKLR9brxVZ5ox4g_8;
				if (!(i_2 < colontmp_)) goto LA3;
				nimlf_(146, "/workspaces/telestorie/lib/audio.nim");				i_1 = i_2;
				nimln_(147);				outputBuf_1[i_1] = 0.0f;
				nimlf_(131, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");				if (nimAddInt(i_2, ((NI)1), &TM__YHbTlt00LKLR9brxVZ5ox4g_8)) { raiseOverflow(); goto BeforeRet_;
				};
				i_2 = (NI)(TM__YHbTlt00LKLR9brxVZ5ox4g_8);
			} LA3: ;
		}
	}
	{
		NI voiceIdx_1;
		NI i_3;
		voiceIdx_1 = (NI)0;
		nimln_(128);		i_3 = ((NI)0);
		{
			nimln_(129);			while (1) {
				NI TM__YHbTlt00LKLR9brxVZ5ox4g_13;
				if (!(i_3 < ((NI)16))) goto LA6;
				nimlf_(150, "/workspaces/telestorie/lib/audio.nim");				voiceIdx_1 = i_3;
				{
					tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg sample_1;
					NI pos_1;
					nimZeroMem((void*)(&sample_1), sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
					nimln_(151);					{
						if ((NU)(voiceIdx_1) > (NU)(15)){ raiseIndexError2(voiceIdx_1, 15); goto LA8_;
						}
						if (!!(nativeVoices__libZaudio_u85[(voiceIdx_1)- 0].active)) goto LA11_;
						nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");						eqdestroy___libZaudio95gen_u412((&sample_1));
						nimlf_(152, "/workspaces/telestorie/lib/audio.nim");						goto LA7;
					}
LA11_: ;
					nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");					if ((NU)(voiceIdx_1) > (NU)(15)){ raiseIndexError2(voiceIdx_1, 15); goto LA8_;
					}
					eqcopy___libZaudio95gen_u415((&sample_1), (&nativeVoices__libZaudio_u85[(voiceIdx_1)- 0].sample));
					nimlf_(155, "/workspaces/telestorie/lib/audio.nim");					if ((NU)(voiceIdx_1) > (NU)(15)){ raiseIndexError2(voiceIdx_1, 15); goto LA8_;
					}
					pos_1 = nativeVoices__libZaudio_u85[(voiceIdx_1)- 0].position;
					{
						NI frameIdx_1;
						NI i_4;
						frameIdx_1 = (NI)0;
						nimlf_(128, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");						i_4 = ((NI)0);
						{
							nimln_(129);							while (1) {
								NF32 value_1;
								NI outIdx_1;
								NI TM__YHbTlt00LKLR9brxVZ5ox4g_9;
								NI TM__YHbTlt00LKLR9brxVZ5ox4g_10;
								NI TM__YHbTlt00LKLR9brxVZ5ox4g_11;
								NI TM__YHbTlt00LKLR9brxVZ5ox4g_12;
								if (!(i_4 < numFrames_1)) goto LA15;
								nimlf_(157, "/workspaces/telestorie/lib/audio.nim");								frameIdx_1 = i_4;
								nimln_(158);								{
									NI T18_;
									T18_ = sample_1.data.len;
									if (!(T18_ <= pos_1)) goto LA19_;
									nimln_(160);									if ((NU)(voiceIdx_1) > (NU)(15)){ raiseIndexError2(voiceIdx_1, 15); goto LA8_;
									}
									nativeVoices__libZaudio_u85[(voiceIdx_1)- 0].active = NIM_FALSE;
									nimln_(161);									goto LA13;
								}
LA19_: ;
								nimln_(163);								if (pos_1 < 0 || pos_1 >= sample_1.data.len){ raiseIndexError2(pos_1,sample_1.data.len-1); goto LA8_;
								}
								value_1 = sample_1.data.p->data[pos_1];
								nimln_(164);								if (nimMulInt(frameIdx_1, ((NI)2), &TM__YHbTlt00LKLR9brxVZ5ox4g_9)) { raiseOverflow(); goto LA8_;
								};
								outIdx_1 = (NI)(TM__YHbTlt00LKLR9brxVZ5ox4g_9);
								nimln_(167);								pluseq___libZaudio95gen_u514((&outputBuf_1[outIdx_1]), ((NF32) (((NF)(((NF) (value_1))) * (NF)(0.25)))));
								nimln_(168);								if (nimAddInt(outIdx_1, ((NI)1), &TM__YHbTlt00LKLR9brxVZ5ox4g_10)) { raiseOverflow(); goto LA8_;
								};
								pluseq___libZaudio95gen_u514((&outputBuf_1[(NI)(TM__YHbTlt00LKLR9brxVZ5ox4g_10)]), ((NF32) (((NF)(((NF) (value_1))) * (NF)(0.25)))));
								nimln_(170);								if (nimAddInt(pos_1, ((NI)1), &TM__YHbTlt00LKLR9brxVZ5ox4g_11)) { raiseOverflow(); goto LA8_;
								};
								pos_1 = (NI)(TM__YHbTlt00LKLR9brxVZ5ox4g_11);
								nimlf_(131, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");								if (nimAddInt(i_4, ((NI)1), &TM__YHbTlt00LKLR9brxVZ5ox4g_12)) { raiseOverflow(); goto LA8_;
								};
								i_4 = (NI)(TM__YHbTlt00LKLR9brxVZ5ox4g_12);
							} LA15: ;
						}
					} LA13: ;
					nimlf_(172, "/workspaces/telestorie/lib/audio.nim");					if ((NU)(voiceIdx_1) > (NU)(15)){ raiseIndexError2(voiceIdx_1, 15); goto LA8_;
					}
					nativeVoices__libZaudio_u85[(voiceIdx_1)- 0].position = pos_1;
					{
						LA8_:;
					}
					{
						nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");						eqdestroy___libZaudio95gen_u412((&sample_1));
					}
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				} LA7: ;
				nimlf_(131, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");				if (nimAddInt(i_3, ((NI)1), &TM__YHbTlt00LKLR9brxVZ5ox4g_13)) { raiseOverflow(); goto BeforeRet_;
				};
				i_3 = (NI)(TM__YHbTlt00LKLR9brxVZ5ox4g_13);
			} LA6: ;
		}
	}
	nimlf_(175, "/workspaces/telestorie/lib/audio.nim");	{
		NI T25_;
		T25_ = nativeSampleQueue__libZaudio_u75.len;
		if (!(((NI)0) < T25_)) goto LA26_;
		nimln_(176);		{
			NIM_BOOL T30_;
			T30_ = (NIM_BOOL)0;
			T30_ = tryAcquire__coreZlocks_u11((&nativeQueueLock__libZaudio_u79));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!T30_) goto LA31_;
			{
				nimln_(178);				while (1) {
					NI T35_;
					NIM_BOOL foundSlot_1;
					T35_ = nativeSampleQueue__libZaudio_u75.len;
					if (!(((NI)0) < T35_)) goto LA34;
					nimln_(179);					foundSlot_1 = NIM_FALSE;
					{
						NI i_5;
						NI i_6;
						i_5 = (NI)0;
						nimlf_(128, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");						i_6 = ((NI)0);
						{
							nimln_(129);							while (1) {
								NI TM__YHbTlt00LKLR9brxVZ5ox4g_14;
								if (!(i_6 < ((NI)16))) goto LA38;
								nimlf_(180, "/workspaces/telestorie/lib/audio.nim");								i_5 = i_6;
								nimln_(181);								{
									if ((NU)(i_5) > (NU)(15)){ raiseIndexError2(i_5, 15); goto BeforeRet_;
									}
									if (!!(nativeVoices__libZaudio_u85[(i_5)- 0].active)) goto LA41_;
									nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");									if ((NU)(i_5) > (NU)(15)){ raiseIndexError2(i_5, 15); goto BeforeRet_;
									}
									if (((NI)0) < 0 || ((NI)0) >= nativeSampleQueue__libZaudio_u75.len){ raiseIndexError2(((NI)0),nativeSampleQueue__libZaudio_u75.len-1); goto BeforeRet_;
									}
									eqcopy___libZaudio95gen_u415((&nativeVoices__libZaudio_u85[(i_5)- 0].sample), (&nativeSampleQueue__libZaudio_u75.p->data[((NI)0)]));
									nimlf_(183, "/workspaces/telestorie/lib/audio.nim");									if ((NU)(i_5) > (NU)(15)){ raiseIndexError2(i_5, 15); goto BeforeRet_;
									}
									nativeVoices__libZaudio_u85[(i_5)- 0].position = ((NI)0);
									nimln_(184);									if ((NU)(i_5) > (NU)(15)){ raiseIndexError2(i_5, 15); goto BeforeRet_;
									}
									nativeVoices__libZaudio_u85[(i_5)- 0].active = NIM_TRUE;
									nimln_(185);									delete__libZaudio_u142((&nativeSampleQueue__libZaudio_u75), ((NI)0));
									if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
									nimln_(186);									foundSlot_1 = NIM_TRUE;
									nimln_(187);									goto LA36;
								}
LA41_: ;
								nimlf_(131, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");								if (nimAddInt(i_6, ((NI)1), &TM__YHbTlt00LKLR9brxVZ5ox4g_14)) { raiseOverflow(); goto BeforeRet_;
								};
								i_6 = (NI)(TM__YHbTlt00LKLR9brxVZ5ox4g_14);
							} LA38: ;
						}
					} LA36: ;
					nimlf_(189, "/workspaces/telestorie/lib/audio.nim");					{
						if (!!(foundSlot_1)) goto LA45_;
						nimln_(190);						goto LA33;
					}
LA45_: ;
				} LA34: ;
			} LA33: ;
			nimln_(192);			release__coreZlocks_u16((&nativeQueueLock__libZaudio_u79));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
LA31_: ;
	}
LA26_: ;
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ*, initAudio__libZaudio_u365)(NI sampleRate_p0) {
	tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* result;
	NI colontmpD_;
	NimStringV2 colontmpD__2;
	tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* T2_;
	int contextResult_1;
	ma_device_config deviceConfig_1;
	int deviceResult_1;
	tySequence__qE1lkEbYXEtaF1pKH4BcRQ T20_;
	tyArray__24KAM9afIUgUaqBaEBB6r9bg T21_;
NIM_BOOL* nimErr_;
	nimfr_("initAudio", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	colontmpD_ = (NI)0;
	colontmpD__2.len = 0; colontmpD__2.p = NIM_NIL;
	nimln_(209);	T2_ = NIM_NIL;
	T2_ = (tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ*) nimNewObjUninit(sizeof(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ), NIM_ALIGNOF(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ));
	(*T2_).initialized = NIM_FALSE;
	nimln_(211);	colontmpD_ = sampleRate_p0;
	(*T2_).sampleRate = colontmpD_;
	result = T2_;
	nimln_(221);	{
		if (!nativeInitialized__libZaudio_u74) goto LA5_;
		nimln_(222);		(*result).initialized = NIM_TRUE;
		nimln_(223);		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		goto BeforeRet_;
	}
LA5_: ;
	nimlf_(226, "/workspaces/telestorie/lib/audio.nim");	initQueueLock__libZaudio_u86();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimln_(228);	contextResult_1 = ma_context_init(NIM_NIL, ((NU32)0), NIM_NIL, (&nativeContext__libZaudio_u72));
	nimln_(229);	{
		if (!!((contextResult_1 == ((NI32)0)))) goto LA9_;
		nimln_(230);		echoBinSafe(TM__YHbTlt00LKLR9brxVZ5ox4g_5, 1);
		nimln_(231);		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		goto BeforeRet_;
	}
LA9_: ;
	nimlf_(233, "/workspaces/telestorie/lib/audio.nim");	deviceConfig_1 = ma_device_config_init(((tyEnum_ma_device_type__tVaha6eTmFE1U1CDCi3Dcw)1));
	nimln_(236);	ma_device_config_set_playback_format((&deviceConfig_1), ((tyEnum_ma_format__uiKrKpKpI2BEG2FPugNLQQ)5), ((NU32)2), ((NU32) (sampleRate_p0)));
	nimln_(237);	ma_device_config_set_callback((&deviceConfig_1), nativeAudioCallback__libZaudio_u88, NIM_NIL);
	nimln_(239);	deviceResult_1 = ma_device_init((&nativeContext__libZaudio_u72), (&deviceConfig_1), (&nativeDevice__libZaudio_u73));
	nimln_(240);	{
		if (!!((deviceResult_1 == ((NI32)0)))) goto LA13_;
		nimln_(241);		echoBinSafe(TM__YHbTlt00LKLR9brxVZ5ox4g_15, 1);
		nimln_(242);		ma_context_uninit((&nativeContext__libZaudio_u72));
		nimln_(243);		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		goto BeforeRet_;
	}
LA13_: ;
	nimlf_(245, "/workspaces/telestorie/lib/audio.nim");	{
		int T17_;
		T17_ = (int)0;
		T17_ = ma_device_start((&nativeDevice__libZaudio_u73));
		if (!!((T17_ == ((NI32)0)))) goto LA18_;
		nimln_(246);		echoBinSafe(TM__YHbTlt00LKLR9brxVZ5ox4g_17, 1);
		nimln_(247);		ma_device_uninit((&nativeDevice__libZaudio_u73));
		nimln_(248);		ma_context_uninit((&nativeContext__libZaudio_u72));
		nimln_(249);		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		goto BeforeRet_;
	}
LA18_: ;
	nimlf_(251, "/workspaces/telestorie/lib/audio.nim");	nativeInitialized__libZaudio_u74 = NIM_TRUE;
	nimln_(252);	nativeCurrentSampleRate__libZaudio_u77 = sampleRate_p0;
	nimlf_(2034, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");	T20_.len = 0; T20_.p = NIM_NIL;
	T20_.len = 0; T20_.p = (tySequence__qE1lkEbYXEtaF1pKH4BcRQ_Content*) newSeqPayload(0, sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg), NIM_ALIGNOF(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	eqsink___libZaudio_u314((&nativeSampleQueue__libZaudio_u75), T20_);
	nimlf_(254, "/workspaces/telestorie/lib/audio.nim");	nativeQueuePos__libZaudio_u76 = ((NI)0);
	nimln_(256);	(*result).initialized = NIM_TRUE;
	nimln_(257);	T21_[0] = TM__YHbTlt00LKLR9brxVZ5ox4g_20;
	colontmpD__2 = dollar___systemZdollars_u14(sampleRate_p0);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T21_[1] = colontmpD__2;
	T21_[2] = TM__YHbTlt00LKLR9brxVZ5ox4g_22;
	echoBinSafe(T21_, 3);
	{
		LA1_:;
	}
	{
		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
	return result;
}
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1) {
	NI result;
	nimfr_("-%", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");
	nimlf_(364, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");	nimln_(368);	result = ((NI) ((NU)((NU64)(((NU) (x_p0))) - (NU64)(((NU) (y_p1))))));
	popFrame();
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0) {
	NIM_BOOL result;
	nimfr_("nimDecRefIsLast", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");
	nimlf_(219, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");	result = NIM_FALSE;
	nimln_(220);	{
		tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ* cell_1;
		NI T5_;
		if (!!((p_p0 == NIM_NIL))) goto LA3_;
		nimln_(221);		nimln_(60);		T5_ = (NI)0;
		T5_ = minuspercent___system_u813(((NI) (ptrdiff_t) (p_p0)), ((NI)16));
		cell_1 = ((tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ*) (T5_));
		nimln_(235);		{
			if (!((NI)((NI64)((*cell_1).rc) >> (NU64)(((NI)4))) == ((NI)0))) goto LA8_;
			nimln_(236);			result = NIM_TRUE;
		}
		goto LA6_;
LA8_: ;
		{
			nimln_(86);			(*cell_1).rc = minuspercent___system_u813((*cell_1).rc, ((NI)16));
		}
LA6_: ;
	}
LA3_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZaudio_u378)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* dest_p0) {
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZaudio_u398)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* dest_p0) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast(dest_p0);
		if (!T3_) goto LA4_;
		eqdestroy___libZaudio_u378((&(*dest_p0)));
		nimRawDispose(dest_p0, ((NI)8));
	}
LA4_: ;
}
static N_INLINE(NI, pluspercent___system_u793)(NI x_p0, NI y_p1) {
	NI result;
	nimfr_("+%", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");
	nimlf_(353, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");	nimln_(357);	result = ((NI) ((NU)((NU64)(((NU) (x_p0))) + (NU64)(((NU) (y_p1))))));
	popFrame();
	return result;
}
static N_INLINE(void, nimIncRef)(void* p_p0) {
	NI T1_;
	NI T2_;
	nimfr_("nimIncRef", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");
	nimlf_(88, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");	nimln_(60);	T1_ = (NI)0;
	T1_ = minuspercent___system_u813(((NI) (ptrdiff_t) (p_p0)), ((NI)16));
	nimln_(88);	nimln_(60);	T2_ = (NI)0;
	T2_ = minuspercent___system_u813(((NI) (ptrdiff_t) (p_p0)), ((NI)16));
	nimln_(88);	(*((tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ*) (T1_))).rc = pluspercent___system_u793((*((tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ*) (T2_))).rc, ((NI)16));
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ*, eqdup___libZaudio_u404)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* src_p0) {
	tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* result;
	result = src_p0;
	{
		if (!src_p0) goto LA3_;
		nimIncRef(src_p0);
	}
LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, playBleep__libZaudio_u559)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* sys_p0, NF frequency_p1, NF volume_p2) {
	tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg sample_1;
NIM_BOOL* nimErr_;
	nimfr_("playBleep", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&sample_1), sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimlf_(339, "/workspaces/telestorie/lib/audio.nim");	generateBleep__libZaudio95gen_u380(frequency_p1, 0.1, volume_p2, (*sys_p0).sampleRate, (&sample_1));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(340);	playSample__libZaudio_u487(sys_p0, (&sample_1), 1.0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");	eqdestroy___libZaudio95gen_u412((&sample_1));
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, playJump__libZaudio_u564)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* sys_p0, NF volume_p1) {
	tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg sample_1;
NIM_BOOL* nimErr_;
	nimfr_("playJump", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&sample_1), sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimlf_(344, "/workspaces/telestorie/lib/audio.nim");	generateJump__libZaudio95gen_u431((*sys_p0).sampleRate, (&sample_1));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(345);	playSample__libZaudio_u487(sys_p0, (&sample_1), volume_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");	eqdestroy___libZaudio95gen_u412((&sample_1));
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, playLanding__libZaudio_u568)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* sys_p0, NF volume_p1) {
	tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg sample_1;
NIM_BOOL* nimErr_;
	nimfr_("playLanding", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&sample_1), sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimlf_(349, "/workspaces/telestorie/lib/audio.nim");	generateLanding__libZaudio95gen_u434((*sys_p0).sampleRate, (&sample_1));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(350);	playSample__libZaudio_u487(sys_p0, (&sample_1), volume_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");	eqdestroy___libZaudio95gen_u412((&sample_1));
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, playHit__libZaudio_u572)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* sys_p0, NF volume_p1) {
	tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg sample_1;
NIM_BOOL* nimErr_;
	nimfr_("playHit", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&sample_1), sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimlf_(354, "/workspaces/telestorie/lib/audio.nim");	generateHit__libZaudio95gen_u437((*sys_p0).sampleRate, (&sample_1));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(355);	playSample__libZaudio_u487(sys_p0, (&sample_1), volume_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");	eqdestroy___libZaudio95gen_u412((&sample_1));
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, playPowerUp__libZaudio_u576)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* sys_p0, NF volume_p1) {
	tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg sample_1;
NIM_BOOL* nimErr_;
	nimfr_("playPowerUp", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&sample_1), sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimlf_(359, "/workspaces/telestorie/lib/audio.nim");	generatePowerUp__libZaudio95gen_u441((*sys_p0).sampleRate, (&sample_1));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(360);	playSample__libZaudio_u487(sys_p0, (&sample_1), volume_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");	eqdestroy___libZaudio95gen_u412((&sample_1));
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, playLaser__libZaudio_u580)(tyObject_AudioSystemcolonObjectType___DgqgiOsj6vjCN3zY1EnXEQ* sys_p0, NF volume_p1) {
	tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg sample_1;
NIM_BOOL* nimErr_;
	nimfr_("playLaser", "/workspaces/telestorie/lib/audio.nim");
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&sample_1), sizeof(tyObject_AudioSample__XvL5YQst1IUp9aRFuVzA6hg));
	nimlf_(364, "/workspaces/telestorie/lib/audio.nim");	generateLaser__libZaudio95gen_u444((*sys_p0).sampleRate, (&sample_1));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(365);	playSample__libZaudio_u487(sys_p0, (&sample_1), volume_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimlf_(185, "/workspaces/telestorie/lib/audio_gen.nim");	eqdestroy___libZaudio95gen_u412((&sample_1));
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZaudio_u625)(tyObject_AudioVoice__05tbJ9aXHJs9aybPCUqvfUWQ* dest_p0) {
	NI colontmp_;
	colontmp_ = ((NI)0);
	{
		while (1) {
			if (!(colontmp_ < ((NI)16))) goto LA2;
			eqdestroy___libZaudio95gen_u242(dest_p0[(colontmp_)- 0].sample.data);
			colontmp_ += ((NI)1);
		} LA2: ;
	}
}
