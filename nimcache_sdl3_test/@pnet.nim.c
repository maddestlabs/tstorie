/* Generated by Nim Compiler v2.2.6 */
/* Compiled for: Linux, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w -fmax-errors=3 -fno-strict-aliasing -pthread -I/workspaces/telestorie/lib   -I/home/codespace/.choosenim/toolchains/nim-2.2.6/lib -I/workspaces/telestorie -o /workspaces/telestorie/nimcache_sdl3_test/@pnet.nim.c.o /workspaces/telestorie/nimcache_sdl3_test/@pnet.nim.c */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include <netdb.h>
#include <sys/socket.h>
#include <poll.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(proc, file) \
  TFrame FR_; \
  FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = 0; nimFrame(&FR_);

#define nimln_(n) \
  FR_.line = n;

#define nimlf_(n, file) \
  FR_.line = n; FR_.filename = file;

typedef struct tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w;
typedef struct tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_Option__HOfmpNQfZhCUt1xLLFj46A tyObject_Option__HOfmpNQfZhCUt1xLLFj46A;
typedef struct tyObject_IOError__NnuPtl9a78oSVslGBr01Sjw tyObject_IOError__NnuPtl9a78oSVslGBr01Sjw;
typedef struct tyObject_CatchableError__RGaUZ0FR8scVeQ8Z1MyBxw tyObject_CatchableError__RGaUZ0FR8scVeQ8Z1MyBxw;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct tySequence__xhQiLwJj5RFCOa9c4fVuodA tySequence__xhQiLwJj5RFCOa9c4fVuodA;
typedef struct tySequence__xhQiLwJj5RFCOa9c4fVuodA_Content tySequence__xhQiLwJj5RFCOa9c4fVuodA_Content;
typedef struct tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw;
typedef struct tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA;
typedef struct tyObject_GcEnv__P5mFx1YRqn2iTLyn6f3MWg tyObject_GcEnv__P5mFx1YRqn2iTLyn6f3MWg;
typedef struct tyObject_CellSeq__Y61EHKUy9bziu9aZLY53Z6TA tyObject_CellSeq__Y61EHKUy9bziu9aZLY53Z6TA;
typedef struct tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tyTuple__N4J9cV4JZGem3ljqqj5rT0Q;
typedef struct tyObject_CellSeq__h159c0ZpKR8vbgG5c0l2IHQ tyObject_CellSeq__h159c0ZpKR8vbgG5c0l2IHQ;
typedef struct tyTuple__lBireGel9cGbbGOTpgwUdwQ tyTuple__lBireGel9cGbbGOTpgwUdwQ;
typedef struct tyObject_MonoTime__lUt9cc5qSSu1hV9cBCmpZIGA tyObject_MonoTime__lUt9cc5qSSu1hV9cBCmpZIGA;
typedef struct tyObject_StackTraceEntry__1PUuHpJIPD3aeC4eiQfrTg tyObject_StackTraceEntry__1PUuHpJIPD3aeC4eiQfrTg;
typedef NU8 tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA;
typedef NIM_CHAR tyArray__QQGLPNVVwLhYjkngqAxXQQ[4001];
typedef NU8 tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw;
typedef NU8 tyEnum_SockType__9bdIfarDNN9c9bVfhEkmGXj3w;
typedef NU8 tyEnum_Protocol__isaXiebwDNLXQtbvzGDbpQ;
struct tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w {
	int fd;
	NIM_BOOL isBuffered;
	tyArray__QQGLPNVVwLhYjkngqAxXQQ buffer;
	NI currPos;
	NI bufLen;
	NI32 lastError;
	tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw domain;
	tyEnum_SockType__9bdIfarDNN9c9bVfhEkmGXj3w sockType;
	tyEnum_Protocol__isaXiebwDNLXQtbvzGDbpQ protocol;
};
struct tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ {
	NI rc;
	NI rootIdx;
};
struct NimStrPayload {
	NI cap;
	NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
	NI len;
	NimStrPayload* p;
};
typedef int tyArray__zdMyINjhb6NM5MNWm7KJZA[11];
struct tyObject_Option__HOfmpNQfZhCUt1xLLFj46A {
	tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw val;
	NIM_BOOL has;
};
struct TNimTypeV2 {
	void* destructor;
	NI size;
	NI16 align;
	NI16 depth;
	NU32* display;
	void* traceImpl;
	void* typeInfoV1;
	NI flags;
	void* vTable[SEQ_DECL_SIZE];
};
struct RootObj {
	TNimTypeV2* m_type;
};
struct tySequence__xhQiLwJj5RFCOa9c4fVuodA {
  NI len; tySequence__xhQiLwJj5RFCOa9c4fVuodA_Content* p;
};
struct Exception {
	RootObj Sup;
	Exception* parent;
	NCSTRING name;
	NimStringV2 message;
	tySequence__xhQiLwJj5RFCOa9c4fVuodA trace;
	Exception* up;
};
struct tyObject_CatchableError__RGaUZ0FR8scVeQ8Z1MyBxw {
	Exception Sup;
};
struct tyObject_IOError__NnuPtl9a78oSVslGBr01Sjw {
	tyObject_CatchableError__RGaUZ0FR8scVeQ8Z1MyBxw Sup;
};
typedef NU8 tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA;
struct tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw {
	NI64 seconds;
	NI nanosecond;
};
struct tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA {
	tyObject_CatchableError__RGaUZ0FR8scVeQ8Z1MyBxw Sup;
};
struct tyObject_CellSeq__Y61EHKUy9bziu9aZLY53Z6TA {
	NI len;
	NI cap;
	tyTuple__N4J9cV4JZGem3ljqqj5rT0Q* d;
};
struct tyObject_CellSeq__h159c0ZpKR8vbgG5c0l2IHQ {
	NI len;
	NI cap;
	tyTuple__lBireGel9cGbbGOTpgwUdwQ* d;
};
struct tyObject_GcEnv__P5mFx1YRqn2iTLyn6f3MWg {
	tyObject_CellSeq__Y61EHKUy9bziu9aZLY53Z6TA traceStack;
	tyObject_CellSeq__h159c0ZpKR8vbgG5c0l2IHQ toFree;
	NI freed;
	NI touched;
	NI edges;
	NI rcSum;
	NIM_BOOL keepThreshold;
};
struct tyTuple__N4J9cV4JZGem3ljqqj5rT0Q {
	void** Field0;
	TNimTypeV2* Field1;
};
struct tyObject_MonoTime__lUt9cc5qSSu1hV9cBCmpZIGA {
	NI64 ticks;
};
typedef NIM_CHAR tyArray__NSMq3FMCIrS8gSbyinBZ8w[14];
struct tyObject_StackTraceEntry__1PUuHpJIPD3aeC4eiQfrTg {
	NCSTRING procname;
	NI line;
	NCSTRING filename;
};
struct tySequence__xhQiLwJj5RFCOa9c4fVuodA_Content { NI cap; tyObject_StackTraceEntry__1PUuHpJIPD3aeC4eiQfrTg data[SEQ_DECL_SIZE]; };
N_LIB_PRIVATE N_NIMCALL(void, close__pureZnativesockets_u201)(int socket_p0);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static N_INLINE(void, nimFrame)(TFrame* s_p0);
N_LIB_PRIVATE N_NOINLINE(void, callDepthLimitReached__system_u4643)(void);
static N_INLINE(void, popFrame)(void);
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0);
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZnet_u225)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(tyEnum_SockType__9bdIfarDNN9c9bVfhEkmGXj3w, toSockType__pureZnativesockets_u147)(tyEnum_Protocol__isaXiebwDNLXQtbvzGDbpQ protocol_p0);
N_LIB_PRIVATE N_NIMCALL(struct addrinfo*, getAddrInfo__pureZnativesockets_u276)(NimStringV2 address_p0, NU16 port_p1, tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw domain_p2, tyEnum_SockType__9bdIfarDNN9c9bVfhEkmGXj3w sockType_p3, tyEnum_Protocol__isaXiebwDNLXQtbvzGDbpQ protocol_p4);
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
N_LIB_PRIVATE N_NOINLINE(void, raiseOverflow)(void);
N_LIB_PRIVATE N_NIMCALL(tyObject_Option__HOfmpNQfZhCUt1xLLFj46A, toKnownDomain__pureZnativesockets_u69)(int family_p0);
static N_INLINE(NIM_BOOL, isNone__pureZnativesockets_u391)(tyObject_Option__HOfmpNQfZhCUt1xLLFj46A self_p0);
static N_INLINE(tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw*, unsafeGet__pureZnet_u1260)(tyObject_Option__HOfmpNQfZhCUt1xLLFj46A* self_p0);
static N_INLINE(NIM_BOOL, isSome__pureZnativesockets_u366)(tyObject_Option__HOfmpNQfZhCUt1xLLFj46A self_p0);
N_LIB_PRIVATE N_NIMCALL(void, failedAssertImpl__stdZassertions_u234)(NimStringV2 msg_p0);
N_LIB_PRIVATE N_NOINLINE(void, raiseIndexError2)(NI i_p0, NI n_p1);
N_LIB_PRIVATE N_NIMCALL(int, createNativeSocket__pureZnativesockets_u235)(tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw domain_p0, tyEnum_SockType__9bdIfarDNN9c9bVfhEkmGXj3w sockType_p1, tyEnum_Protocol__isaXiebwDNLXQtbvzGDbpQ protocol_p2, NIM_BOOL inheritable_p3);
N_LIB_PRIVATE N_NIMCALL(NI32, osLastError__stdZoserrors_u122)(void);
N_LIB_PRIVATE N_NOINLINE(void, raiseOSError__stdZoserrors_u119)(NI32 errorCode_p0, NimStringV2 additionalInfo_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w*, newSocket__pureZnet_u191)(int fd_p0, tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw domain_p1, tyEnum_SockType__9bdIfarDNN9c9bVfhEkmGXj3w sockType_p2, tyEnum_Protocol__isaXiebwDNLXQtbvzGDbpQ protocol_p3, NIM_BOOL buffered_p4);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size_p0, NI alignment_p1);
static N_INLINE(void, appendString)(NimStringV2* dest_p0, NimStringV2 src_p1);
static N_INLINE(void, copyMem__system_u1741)(void* dest_p0, void* source_p1, NI size_p2);
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2);
N_LIB_PRIVATE N_NOINLINE(void, raiseRangeErrorI)(NI64 i_p0, NI64 a_p1, NI64 b_p2);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, rawNewString)(NI space_p0);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e_p0, NCSTRING ename_p1, NCSTRING procname_p2, NCSTRING filename_p3, NI line_p4);
N_LIB_PRIVATE N_NIMCALL(NI, send__pureZnet_u919)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, void* data_p1, NI size_p2);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isClosed__pureZnet_u657)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0);
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s_p0);
N_LIB_PRIVATE N_NIMCALL(void, socketError__pureZnet_u112)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NI err_p1, NIM_BOOL async_p2, NI32 lastError_p3, tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA flags_p4);
N_LIB_PRIVATE N_NIMCALL(NI32, getSocketError__pureZnet_u561)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDisconnectionError__pureZnet_u118)(tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA flags_p0, NI32 lastError_p1);
N_LIB_PRIVATE N_NIMCALL(void, setLengthStrV2)(NimStringV2* s_p0, NI newLen_p1);
N_LIB_PRIVATE N_NIMCALL(NI, recv__pureZnet_u720)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, void* data_p1, NI size_p2);
N_LIB_PRIVATE N_NIMCALL(NI, readIntoBuf__pureZnet_u671)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NI32 flags_p1);
N_LIB_PRIVATE N_NIMCALL(NI, uniRecv__pureZnet_u660)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, void* buffer_p1, int size_p2, int flags_p3);
N_LIB_PRIVATE N_NIMCALL(NI, recv__pureZnet_u822)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, void* data_p1, NI size_p2, NI timeout_p3);
N_LIB_PRIVATE N_NIMCALL(NI, waitFor__pureZnet_u745)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw* waited_p1, NI timeout_p2, NI size_p3, NimStringV2 funcName_p4);
N_LIB_PRIVATE N_NIMCALL(NI64, inMilliseconds__pureZtimes_u799)(tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw dur_p0);
N_LIB_PRIVATE N_NIMCALL(void, rttiDestroy__pureZnet_u1456)(void* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZnet_u764)(tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA* dest_p0);
static N_INLINE(NIM_BOOL, nimDecRefIsLastCyclicDyn)(void* p_p0);
N_LIB_PRIVATE N_NOINLINE(void, rememberCycle__system_u3482)(NIM_BOOL isDestroyAction_p0, tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ* s_p1, TNimTypeV2* desc_p2);
N_LIB_PRIVATE N_NIMCALL(void, nimDestroyAndDispose)(void* p_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___stdZassertions_u74)(tySequence__xhQiLwJj5RFCOa9c4fVuodA dest_p0);
N_LIB_PRIVATE N_NOCONV(void, deallocShared)(void* p_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqtrace___pureZnet_u776)(tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA* dest_p0, void* env_p1);
static N_INLINE(void, nimTraceRefDyn)(void* q_p0, void* env_p1);
static N_INLINE(void, add__system_u3022)(tyObject_CellSeq__Y61EHKUy9bziu9aZLY53Z6TA* s_p0, void** c_p1, TNimTypeV2* t_p2);
N_LIB_PRIVATE N_NIMCALL(void, resize__system_u3030)(tyObject_CellSeq__Y61EHKUy9bziu9aZLY53Z6TA* s_p0);
static N_INLINE(NI, pluspercent___system_u793)(NI x_p0, NI y_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_MonoTime__lUt9cc5qSSu1hV9cBCmpZIGA, getMonoTime__stdZmonotimes_u5)(void);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, hasDataBuffered__pureZnet_u654)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* s_p0);
N_LIB_PRIVATE N_NIMCALL(NI, timeoutRead__pureZnet_u72)(int* fd_p0, NI timeout_p1);
N_LIB_PRIVATE N_NIMCALL(void, pluseq___pureZtimes_u1141)(tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw* d1_p0, tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw d2_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw, minus___stdZmonotimes_u37)(tyObject_MonoTime__lUt9cc5qSSu1hV9cBCmpZIGA a_p0, tyObject_MonoTime__lUt9cc5qSSu1hV9cBCmpZIGA b_p1);
N_LIB_PRIVATE N_NIMCALL(void, readLine__pureZnet_u865)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NimStringV2* line_p1, NI timeout_p2, tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA flags_p3, NI maxLength_p4);
N_LIB_PRIVATE N_NIMCALL(NI, peekChar__pureZnet_u860)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NIM_CHAR* c_p1);
N_LIB_PRIVATE N_NIMCALL(void, prepareAdd)(NimStringV2* s_p0, NI addLen_p1);
static N_INLINE(void, nimAddCharV1)(NimStringV2* s_p0, NIM_CHAR c_p1);
static const struct {
  NI cap; NIM_CHAR data[91+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_3 = { 91 | NIM_STRLIT_FLAG, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/options.nim(380, 3) `self.isSome` " };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_4 = {91, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_3};
static const struct {
  NI cap; NIM_CHAR data[0+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_5 = { 0 | NIM_STRLIT_FLAG, "" };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_6 = {0, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_5};
static const struct {
  NI cap; NIM_CHAR data[97+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_7 = { 97 | NIM_STRLIT_FLAG, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim(269, 3) `fd != osInvalidSocket` " };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_8 = {97, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_7};
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_9 = {0, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_5};
extern TNimTypeV2 NTIv2__NnuPtl9a78oSVslGBr01Sjw_;
static const struct {
  NI cap; NIM_CHAR data[26+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_10 = { 26 | NIM_STRLIT_FLAG, "Couldn\'t resolve address: " };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_11 = {26, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_10};
static const struct {
  NI cap; NIM_CHAR data[128+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_14 = { 128 | NIM_STRLIT_FLAG, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim(1726, 9) `not socket.isClosed` Cannot `send` on a closed socket" };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_15 = {128, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_14};
static const struct {
  NI cap; NIM_CHAR data[36+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_16 = { 36 | NIM_STRLIT_FLAG, "No valid socket error code available" };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_17 = {36, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_16};
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_18 = {0, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_5};
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_19 = {0, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_5};
static const struct {
  NI cap; NIM_CHAR data[24+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_21 = { 24 | NIM_STRLIT_FLAG, "Could not send all data." };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_22 = {24, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_21};
static const struct {
  NI cap; NIM_CHAR data[128+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_24 = { 128 | NIM_STRLIT_FLAG, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim(1367, 9) `not socket.isClosed` Cannot `recv` on a closed socket" };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_25 = {128, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_24};
static const struct {
  NI cap; NIM_CHAR data[97+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_29 = { 97 | NIM_STRLIT_FLAG, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim(1415, 7) `size - read >= chunk` " };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_30 = {97, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_29};
static const struct {
  NI cap; NIM_CHAR data[83+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_33 = { 83 | NIM_STRLIT_FLAG, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim(1451, 17) `false` " };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_34 = {83, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_33};
N_LIB_PRIVATE TNimTypeV2 NTIv2__ynfA2t3tX6z5asZBCc9bR9bA_;
static const struct {
  NI cap; NIM_CHAR data[9+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_38 = { 9 | NIM_STRLIT_FLAG, "Call to \'" };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_39 = {9, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_38};
static const struct {
  NI cap; NIM_CHAR data[12+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_40 = { 12 | NIM_STRLIT_FLAG, "\' timed out." };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_41 = {12, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_40};
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_43 = {0, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_5};
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_44 = {9, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_38};
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_45 = {12, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_40};
static const struct {
  NI cap; NIM_CHAR data[4+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_47 = { 4 | NIM_STRLIT_FLAG, "recv" };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_48 = {4, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_47};
static const struct {
  NI cap; NIM_CHAR data[97+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_50 = { 97 | NIM_STRLIT_FLAG, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim(1488, 5) `avail <= size - read` " };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_51 = {97, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_50};
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_53 = {0, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_5};
static const struct {
  NI cap; NIM_CHAR data[8+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_54 = { 8 | NIM_STRLIT_FLAG, "readLine" };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_55 = {8, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_54};
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_56 = {8, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_54};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__XqsrSBxhOTPgLQ9cX4MmV4A_58 = { 2 | NIM_STRLIT_FLAG, "\015\012" };
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_59 = {2, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_58};
static const NimStringV2 TM__XqsrSBxhOTPgLQ9cX4MmV4A_60 = {2, (NimStrPayload*)&TM__XqsrSBxhOTPgLQ9cX4MmV4A_58};
extern int osInvalidSocket__pureZnativesockets_u48;
extern NIM_THREADVAR NIM_BOOL nimInErrorMode__system_u4425;
extern NIM_THREADVAR TFrame* framePtr__system_u2743;
static NIM_CONST NU32 TM__XqsrSBxhOTPgLQ9cX4MmV4A_37[4] = {3701606400, 1285336064, 1721001728, 2009127424};
N_LIB_PRIVATE TNimTypeV2 NTIv2__ynfA2t3tX6z5asZBCc9bR9bA_ = {.destructor = (void*)rttiDestroy__pureZnet_u1456, .size = sizeof(tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA), .align = (NI16) NIM_ALIGNOF(tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA), .depth = 3, .display = TM__XqsrSBxhOTPgLQ9cX4MmV4A_37, .traceImpl = (void*)eqtrace___pureZnet_u776, .flags = 0};
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZnet_u225)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* dest_p0) {
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4425);
	return result;
}
static N_INLINE(void, nimFrame)(TFrame* s_p0) {
	{
		if (!(framePtr__system_u2743 == ((TFrame*) NIM_NIL))) goto LA3_;
		(*s_p0).calldepth = ((NI16)0);
	}
	goto LA1_;
LA3_: ;
	{
		(*s_p0).calldepth = (NI16)((*framePtr__system_u2743).calldepth + ((NI16)1));
	}
LA1_: ;
	(*s_p0).prev = framePtr__system_u2743;
	framePtr__system_u2743 = s_p0;
	{
		if (!((*s_p0).calldepth == ((NI16)2000))) goto LA8_;
		callDepthLimitReached__system_u4643();
	}
LA8_: ;
}
static N_INLINE(void, popFrame)(void) {
	framePtr__system_u2743 = (*framePtr__system_u2743).prev;
}
N_LIB_PRIVATE N_NIMCALL(void, close__pureZnet_u619)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA flags_p1) {
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
	nimfr_("close", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		nimlf_(1268, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");		close__pureZnativesockets_u201((*socket_p0).fd);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimln_(1269);		(*socket_p0).fd = osInvalidSocket__pureZnativesockets_u48;
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
}
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1) {
	NI result;
	nimfr_("-%", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");
	nimlf_(364, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");	nimln_(368);	result = ((NI) ((NU)((NU64)(((NU) (x_p0))) - (NU64)(((NU) (y_p1))))));
	popFrame();
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0) {
	NIM_BOOL result;
	nimfr_("nimDecRefIsLast", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");
	nimlf_(219, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");	result = NIM_FALSE;
	nimln_(220);	{
		tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ* cell_1;
		NI T5_;
		if (!!((p_p0 == NIM_NIL))) goto LA3_;
		nimln_(221);		nimln_(60);		T5_ = (NI)0;
		T5_ = minuspercent___system_u813(((NI) (ptrdiff_t) (p_p0)), ((NI)16));
		cell_1 = ((tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ*) (T5_));
		nimln_(235);		{
			if (!((NI)((NI64)((*cell_1).rc) >> (NU64)(((NI)4))) == ((NI)0))) goto LA8_;
			nimln_(236);			result = NIM_TRUE;
		}
		goto LA6_;
LA8_: ;
		{
			nimln_(86);			(*cell_1).rc = minuspercent___system_u813((*cell_1).rc, ((NI)16));
		}
LA6_: ;
	}
LA3_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pureZnet_u261)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w** dest_p0, tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* src_p1) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest_p0));
		if (!T3_) goto LA4_;
		eqdestroy___pureZnet_u225((&(*(*dest_p0))));
		nimRawDispose((*dest_p0), ((NI)8));
	}
LA4_: ;
	(*dest_p0) = src_p1;
}
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NIM_BOOL, isNone__pureZnativesockets_u391)(tyObject_Option__HOfmpNQfZhCUt1xLLFj46A self_p0) {
	NIM_BOOL result;
	nimfr_("isNone", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/options.nim");
	nimlf_(177, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/options.nim");	nimln_(189);	result = !(self_p0.has);
	popFrame();
	return result;
}
static N_INLINE(NIM_BOOL, isSome__pureZnativesockets_u366)(tyObject_Option__HOfmpNQfZhCUt1xLLFj46A self_p0) {
	NIM_BOOL result;
	nimfr_("isSome", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/options.nim");
	nimln_(162);	result = self_p0.has;
	popFrame();
	return result;
}
static N_INLINE(tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw*, unsafeGet__pureZnet_u1260)(tyObject_Option__HOfmpNQfZhCUt1xLLFj46A* self_p0) {
	tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw* result;
NIM_BOOL* nimErr_;
	nimfr_("unsafeGet", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/options.nim");
{nimErr_ = nimErrorFlag();
	result = (tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw*)0;
	nimln_(380);	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = isSome__pureZnativesockets_u366((*self_p0));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(T3_)) goto LA4_;
		failedAssertImpl__stdZassertions_u234(TM__XqsrSBxhOTPgLQ9cX4MmV4A_4);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA4_: ;
	nimln_(381);	result = (&(*self_p0).val);
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w*, newSocket__pureZnet_u191)(int fd_p0, tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw domain_p1, tyEnum_SockType__9bdIfarDNN9c9bVfhEkmGXj3w sockType_p2, tyEnum_Protocol__isaXiebwDNLXQtbvzGDbpQ protocol_p3, NIM_BOOL buffered_p4) {
	tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* result;
	int colontmpD_;
	NIM_BOOL colontmpD__2;
	tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw colontmpD__3;
	tyEnum_SockType__9bdIfarDNN9c9bVfhEkmGXj3w colontmpD__4;
	tyEnum_Protocol__isaXiebwDNLXQtbvzGDbpQ colontmpD__5;
	tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* T5_;
NIM_BOOL* nimErr_;
	nimfr_("newSocket", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	colontmpD_ = (int)0;
	colontmpD__2 = (NIM_BOOL)0;
	colontmpD__3 = (tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw)0;
	colontmpD__4 = (tyEnum_SockType__9bdIfarDNN9c9bVfhEkmGXj3w)0;
	colontmpD__5 = (tyEnum_Protocol__isaXiebwDNLXQtbvzGDbpQ)0;
	nimlf_(269, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");	{
		if (!!(!((fd_p0 == osInvalidSocket__pureZnativesockets_u48)))) goto LA3_;
		failedAssertImpl__stdZassertions_u234(TM__XqsrSBxhOTPgLQ9cX4MmV4A_8);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA3_: ;
	nimln_(270);	T5_ = NIM_NIL;
	T5_ = (tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w*) nimNewObj(sizeof(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w), NIM_ALIGNOF(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w));
	nimln_(271);	colontmpD_ = fd_p0;
	(*T5_).fd = colontmpD_;
	nimln_(272);	colontmpD__2 = buffered_p4;
	(*T5_).isBuffered = colontmpD__2;
	nimln_(273);	colontmpD__3 = domain_p1;
	(*T5_).domain = colontmpD__3;
	nimln_(274);	colontmpD__4 = sockType_p2;
	(*T5_).sockType = colontmpD__4;
	nimln_(275);	colontmpD__5 = protocol_p3;
	(*T5_).protocol = colontmpD__5;
	result = T5_;
	nimln_(276);	{
		if (!buffered_p4) goto LA8_;
		nimln_(277);		(*result).currPos = ((NI)0);
	}
LA8_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest_p0, source_p1, ((size_t) (size_p2)));
}
static N_INLINE(void, copyMem__system_u1741)(void* dest_p0, void* source_p1, NI size_p2) {
	nimCopyMem(dest_p0, source_p1, size_p2);
}
static N_INLINE(void, appendString)(NimStringV2* dest_p0, NimStringV2 src_p1) {
{	{
		NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_12;
		if (!(((NI)0) < src_p1.len)) goto LA3_;
		if ((src_p1.len) < ((NI)0) || (src_p1.len) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(src_p1.len, ((NI)0), ((NI)IL64(9223372036854775807))); goto BeforeRet_;
		}
		copyMem__system_u1741(((void*) ((&(*(*dest_p0).p).data[(*dest_p0).len]))), ((void*) ((&(*src_p1.p).data[((NI)0)]))), (src_p1.len));
		if (nimAddInt((*dest_p0).len, src_p1.len, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_12)) { raiseOverflow(); goto BeforeRet_;
		};
		(*dest_p0).len = (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_12);
		(*(*dest_p0).p).data[(*dest_p0).len] = 0;
	}
LA3_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w*, dial__pureZnet_u1174)(NimStringV2 address_p0, NU16 port_p1, tyEnum_Protocol__isaXiebwDNLXQtbvzGDbpQ protocol_p2, NIM_BOOL buffered_p3) {
	tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* result;
	tyEnum_SockType__9bdIfarDNN9c9bVfhEkmGXj3w sockType_1;
	struct addrinfo* aiList_1;
	tyArray__zdMyINjhb6NM5MNWm7KJZA fdPerDomain_1;
	NIM_BOOL success_1;
	NI32 lastError_1;
	struct addrinfo* it_1;
	tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw domain_1;
	int lastFd_1;
NIM_BOOL* nimErr_;
	nimfr_("dial", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	nimln_(1998);	sockType_1 = toSockType__pureZnativesockets_u147(protocol_p2);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(2000);	aiList_1 = getAddrInfo__pureZnativesockets_u276(address_p0, port_p1, ((tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw)0), sockType_1, protocol_p2);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimZeroMem((void*)fdPerDomain_1, sizeof(tyArray__zdMyINjhb6NM5MNWm7KJZA));
	nimln_(2002);	nimZeroMem((void*)fdPerDomain_1, sizeof(tyArray__zdMyINjhb6NM5MNWm7KJZA));
	{
		NI i_1;
		NI res_1;
		i_1 = (NI)0;
		nimlf_(96, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");		res_1 = ((NI)0);
		{
			nimln_(97);			while (1) {
				NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_2;
				if (!(res_1 <= ((NI)10))) goto LA3;
				nimlf_(2003, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");				i_1 = ((NI) (res_1));
				nimln_(2004);				fdPerDomain_1[(i_1)- 0] = osInvalidSocket__pureZnativesockets_u48;
				nimlf_(102, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");				if (nimAddInt(res_1, ((NI)1), &TM__XqsrSBxhOTPgLQ9cX4MmV4A_2)) { raiseOverflow(); goto BeforeRet_;
				};
				res_1 = (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_2);
			} LA3: ;
		}
	}
	nimlf_(2010, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");	success_1 = NIM_FALSE;
	nimln_(2011);	lastError_1 = 0;
	nimln_(2012);	it_1 = aiList_1;
	nimln_(2013);	domain_1 = 0;
	nimln_(2014);	lastFd_1 = 0;
	{
		nimln_(2015);		while (1) {
			if (!!((it_1 == ((struct addrinfo*) NIM_NIL)))) goto LA5;
			{
				tyObject_Option__HOfmpNQfZhCUt1xLLFj46A domainOpt_1;
				tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw* T12_;
				nimln_(2016);				domainOpt_1 = toKnownDomain__pureZnativesockets_u69((*it_1).ai_family);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(2017);				{
					NIM_BOOL T9_;
					T9_ = (NIM_BOOL)0;
					T9_ = isNone__pureZnativesockets_u391(domainOpt_1);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					if (!T9_) goto LA10_;
					nimln_(2018);					it_1 = (*it_1).ai_next;
					nimln_(2019);					goto LA6;
				}
LA10_: ;
				nimln_(2020);				T12_ = (tyEnum_Domain__MD2PZJi9a5aiylNVK7VYXaw*)0;
				T12_ = unsafeGet__pureZnet_u1260((&domainOpt_1));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				domain_1 = (*T12_);
				nimln_(2021);				if ((NU)(domain_1) > (NU)(10)){ raiseIndexError2(domain_1, 10); goto BeforeRet_;
				}
				lastFd_1 = fdPerDomain_1[(domain_1)- 0];
				nimln_(2022);				{
					if (!(lastFd_1 == osInvalidSocket__pureZnativesockets_u48)) goto LA15_;
					nimln_(2023);					lastFd_1 = createNativeSocket__pureZnativesockets_u235(domain_1, sockType_1, protocol_p2, NIM_FALSE);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					nimln_(2024);					{
						NI32 err_1;
						if (!(lastFd_1 == osInvalidSocket__pureZnativesockets_u48)) goto LA19_;
						nimln_(2028);						err_1 = osLastError__stdZoserrors_u122();
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						nimln_(2029);						freeaddrinfo(aiList_1);
						{
							NI i_2;
							int fd_1;
							NI i_3;
							i_2 = (NI)0;
							fd_1 = (int)0;
							nimlf_(164, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators.nim");							i_3 = ((NI)0);
							{
								nimln_(165);								while (1) {
									nimlf_(2030, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");									i_2 = i_3;
									fd_1 = fdPerDomain_1[(i_3)- 0];
									nimln_(2007);									{
										NIM_BOOL T26_;
										T26_ = (NIM_BOOL)0;
										T26_ = !((fd_1 == osInvalidSocket__pureZnativesockets_u48));
										if (!(T26_)) goto LA27_;
										T26_ = !((i_2 == ((NI)-1)));
LA27_: ;
										if (!T26_) goto LA28_;
										nimln_(2008);										close__pureZnativesockets_u201(fd_1);
										if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
									}
LA28_: ;
									nimlf_(167, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators.nim");									{
										if (!(((NI)10) <= i_3)) goto LA32_;
										goto LA22;
									}
LA32_: ;
									nimln_(13);									i_3 += ((NI)1);
								}
							} LA22: ;
						}
						nimlf_(2031, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");						raiseOSError__stdZoserrors_u119(err_1, TM__XqsrSBxhOTPgLQ9cX4MmV4A_6);
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					}
LA19_: ;
					nimln_(2032);					if ((NU)(domain_1) > (NU)(10)){ raiseIndexError2(domain_1, 10); goto BeforeRet_;
					}
					fdPerDomain_1[(domain_1)- 0] = lastFd_1;
				}
LA15_: ;
				nimln_(2033);				{
					int T36_;
					T36_ = (int)0;
					T36_ = connect(lastFd_1, (*it_1).ai_addr, (*it_1).ai_addrlen);
					if (!(T36_ == ((NI32)0))) goto LA37_;
					nimln_(2034);					success_1 = NIM_TRUE;
					nimln_(2035);					goto LA4;
				}
LA37_: ;
				nimln_(2036);				lastError_1 = osLastError__stdZoserrors_u122();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(2037);				it_1 = (*it_1).ai_next;
			} LA6: ;
		} LA5: ;
	} LA4: ;
	nimln_(2038);	freeaddrinfo(aiList_1);
	{
		NI i_4;
		int fd_2;
		NI i_5;
		i_4 = (NI)0;
		fd_2 = (int)0;
		nimlf_(164, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators.nim");		i_5 = ((NI)0);
		{
			nimln_(165);			while (1) {
				nimlf_(2039, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");				i_4 = i_5;
				fd_2 = fdPerDomain_1[(i_5)- 0];
				nimln_(2007);				{
					NIM_BOOL T44_;
					T44_ = (NIM_BOOL)0;
					T44_ = !((fd_2 == osInvalidSocket__pureZnativesockets_u48));
					if (!(T44_)) goto LA45_;
					nimln_(2039);					T44_ = !((i_4 == domain_1));
LA45_: ;
					if (!T44_) goto LA46_;
					nimln_(2008);					close__pureZnativesockets_u201(fd_2);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
LA46_: ;
				nimlf_(167, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators.nim");				{
					if (!(((NI)10) <= i_5)) goto LA50_;
					goto LA40;
				}
LA50_: ;
				nimln_(13);				i_5 += ((NI)1);
			}
		} LA40: ;
	}
	nimlf_(2041, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");	{
		if (!success_1) goto LA54_;
		nimln_(2042);		result = newSocket__pureZnet_u191(lastFd_1, domain_1, sockType_1, protocol_p2, buffered_p3);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA52_;
LA54_: ;
	{
		nimln_(2043);		if (!!((lastError_1 == ((NI32)0)))) goto LA57_;
		nimln_(2044);		close__pureZnativesockets_u201(lastFd_1);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimln_(2045);		result = 0;
		nimln_(2046);		raiseOSError__stdZoserrors_u119(lastError_1, TM__XqsrSBxhOTPgLQ9cX4MmV4A_9);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA52_;
LA57_: ;
	{
		tyObject_IOError__NnuPtl9a78oSVslGBr01Sjw* T60_;
		NimStringV2 T61_;
		nimln_(2048);		close__pureZnativesockets_u201(lastFd_1);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		T60_ = NIM_NIL;
		T60_ = (tyObject_IOError__NnuPtl9a78oSVslGBr01Sjw*) nimNewObj(sizeof(tyObject_IOError__NnuPtl9a78oSVslGBr01Sjw), NIM_ALIGNOF(tyObject_IOError__NnuPtl9a78oSVslGBr01Sjw));
		(*T60_).Sup.Sup.Sup.m_type = (&NTIv2__NnuPtl9a78oSVslGBr01Sjw_);
		(*T60_).Sup.Sup.name = "IOError";
		nimln_(2049);		T61_.len = 0; T61_.p = NIM_NIL;
		T61_ = rawNewString(address_p0.len + 26);
appendString((&T61_), TM__XqsrSBxhOTPgLQ9cX4MmV4A_11);
appendString((&T61_), address_p0);
		(*T60_).Sup.Sup.message = T61_;
		(*T60_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T60_, "IOError", "dial", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim", 2049);
goto BeforeRet_;
	}
LA52_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZnet_u252)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* dest_p0) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast(dest_p0);
		if (!T3_) goto LA4_;
		eqdestroy___pureZnet_u225((&(*dest_p0)));
		nimRawDispose(dest_p0, ((NI)8));
	}
LA4_: ;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isClosed__pureZnet_u657)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0) {
	NIM_BOOL result;
	nimfr_("isClosed", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
	nimln_(1359);	result = ((*socket_p0).fd == osInvalidSocket__pureZnativesockets_u48);
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, send__pureZnet_u919)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, void* data_p1, NI size_p2) {
	NI result;
NIM_BOOL* nimErr_;
	nimfr_("send", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	nimln_(1726);	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = isClosed__pureZnet_u657(socket_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(!(T3_))) goto LA4_;
		failedAssertImpl__stdZassertions_u234(TM__XqsrSBxhOTPgLQ9cX4MmV4A_15);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA4_: ;
	nimln_(1737);	result = send((*socket_p0).fd, data_p1, size_p2, ((NI32)16384));
	}BeforeRet_: ;
	popFrame();
	return result;
}
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s_p0) {
	NCSTRING result;
	{
		if (!(s_p0.len == ((NI)0))) goto LA3_;
		result = "";
	}
	goto LA1_;
LA3_: ;
	{
		result = ((NCSTRING) ((*s_p0.p).data));
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI32, getSocketError__pureZnet_u561)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0) {
	NI32 result;
NIM_BOOL* nimErr_;
	nimfr_("getSocketError", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	result = (NI32)0;
	nimln_(938);	result = osLastError__stdZoserrors_u122();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(939);	{
		if (!(result == ((NI32)0))) goto LA3_;
		nimln_(940);		result = (*socket_p0).lastError;
	}
LA3_: ;
	nimln_(941);	{
		if (!(result == ((NI32)0))) goto LA7_;
		nimln_(942);		raiseOSError__stdZoserrors_u119(result, TM__XqsrSBxhOTPgLQ9cX4MmV4A_17);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA7_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDisconnectionError__pureZnet_u118)(tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA flags_p0, NI32 lastError_p1) {
	NIM_BOOL result;
	NIM_BOOL T1_;
	NIM_BOOL T3_;
	NIM_BOOL T4_;
	nimfr_("isDisconnectionError", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
	nimln_(240);	nimln_(251);	T1_ = (NIM_BOOL)0;
	T1_ = ((flags_p0 &((NU8)1<<((NU)((((tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA)1)))&7U)))!=0);
	if (!(T1_)) goto LA2_;
	nimln_(253);	T3_ = (NIM_BOOL)0;
	nimln_(252);	T4_ = (NIM_BOOL)0;
	T4_ = (lastError_p1 == ((int)104));
	if (T4_) goto LA5_;
	nimln_(253);	T4_ = (lastError_p1 == ((int)32));
LA5_: ;
	T3_ = T4_;
	if (T3_) goto LA6_;
	nimln_(254);	T3_ = (lastError_p1 == ((int)102));
LA6_: ;
	T1_ = T3_;
LA2_: ;
	result = T1_;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, socketError__pureZnet_u112)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NI err_p1, NIM_BOOL async_p2, NI32 lastError_p3, tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA flags_p4) {
NIM_BOOL* nimErr_;
	nimfr_("socketError", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	nimln_(995);	{
		NIM_BOOL T3_;
		NI32 colontmpD_;
		NI32 colontmpD__2;
		NI32 lastE_1;
		T3_ = (NIM_BOOL)0;
		T3_ = (err_p1 == ((NI)-1));
		if (!(T3_)) goto LA4_;
		T3_ = NIM_TRUE;
LA4_: ;
		if (!T3_) goto LA5_;
		colontmpD_ = (NI32)0;
		colontmpD__2 = (NI32)0;
		nimln_(996);		{
			if (!(((NI) (lastError_p3)) == ((NI)-1))) goto LA9_;
			colontmpD_ = getSocketError__pureZnet_u561(socket_p0);
			if (NIM_UNLIKELY(*nimErr_)) goto LA11_;
			lastE_1 = colontmpD_;
			{
				LA11_:;
			}
			{
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		goto LA7_;
LA9_: ;
		{
			colontmpD__2 = lastError_p3;
			lastE_1 = colontmpD__2;
		}
LA7_: ;
		nimln_(997);		{
			NIM_BOOL T17_;
			T17_ = (NIM_BOOL)0;
			T17_ = isDisconnectionError__pureZnet_u118(flags_p4, lastE_1);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!!(T17_)) goto LA18_;
			nimln_(998);			{
				if (!async_p2) goto LA22_;
				nimln_(1004);				{
					NIM_BOOL T26_;
					T26_ = (NIM_BOOL)0;
					T26_ = (lastE_1 == ((int)11));
					if (T26_) goto LA27_;
					T26_ = (lastE_1 == ((int)11));
LA27_: ;
					if (!T26_) goto LA28_;
					nimln_(1005);					goto BeforeRet_;
				}
				goto LA24_;
LA28_: ;
				{
					nimln_(1006);					raiseOSError__stdZoserrors_u119(lastE_1, TM__XqsrSBxhOTPgLQ9cX4MmV4A_18);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
LA24_: ;
			}
			goto LA20_;
LA22_: ;
			{
				nimln_(1007);				raiseOSError__stdZoserrors_u119(lastE_1, TM__XqsrSBxhOTPgLQ9cX4MmV4A_19);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
LA20_: ;
		}
LA18_: ;
	}
LA5_: ;
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, send__pureZnet_u929)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NimStringV2 data_p1, tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA flags_p2, NI maxRetries_p3) {
	NI written_1;
	NI attempts_1;
NIM_BOOL* nimErr_;
	nimfr_("send", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	nimln_(1743);	written_1 = ((NI)0);
	nimln_(1744);	attempts_1 = ((NI)0);
	{
		nimln_(1745);		while (1) {
			NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_13;
			NI sent_1;
			if (nimSubInt(data_p1.len, written_1, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_13)) { raiseOverflow(); goto BeforeRet_;
			};
			if (!(((NI)0) < (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_13))) goto LA2;
			nimln_(1746);			sent_1 = send__pureZnet_u919(socket_p0, ((void*) (nimToCStringConv(data_p1))), data_p1.len);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			nimln_(1748);			{
				NI32 lastError_1;
				NIM_BOOL isBlockingErr_1;
				NIM_BOOL T7_;
				NIM_BOOL T8_;
				if (!(sent_1 < ((NI)0))) goto LA5_;
				nimln_(1749);				lastError_1 = osLastError__stdZoserrors_u122();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(1750);				nimln_(1758);				T7_ = (NIM_BOOL)0;
				nimln_(1757);				T8_ = (NIM_BOOL)0;
				T8_ = (lastError_1 == ((int)4));
				if (T8_) goto LA9_;
				nimln_(1758);				T8_ = (lastError_1 == ((int)11));
LA9_: ;
				T7_ = T8_;
				if (T7_) goto LA10_;
				nimln_(1759);				T7_ = (lastError_1 == ((int)11));
LA10_: ;
				isBlockingErr_1 = T7_;
				nimln_(1761);				{
					NI32 lastError_2;
					if (!!(isBlockingErr_1)) goto LA13_;
					nimln_(1762);					lastError_2 = osLastError__stdZoserrors_u122();
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					nimln_(1763);					socketError__pureZnet_u112(socket_p0, ((NI)-1), NIM_FALSE, lastError_2, flags_p2);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
				goto LA11_;
LA13_: ;
				{
					NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_20;
					nimln_(1765);					if (nimAddInt(attempts_1, ((NI)1), &TM__XqsrSBxhOTPgLQ9cX4MmV4A_20)) { raiseOverflow(); goto BeforeRet_;
					};
					attempts_1 = (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_20);
					nimln_(1766);					{
						NI32 T20_;
						if (!(maxRetries_p3 < attempts_1)) goto LA18_;
						nimln_(1767);						T20_ = (NI32)0;
						T20_ = osLastError__stdZoserrors_u122();
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						raiseOSError__stdZoserrors_u119(T20_, TM__XqsrSBxhOTPgLQ9cX4MmV4A_22);
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					}
LA18_: ;
				}
LA11_: ;
			}
			goto LA3_;
LA5_: ;
			{
				NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_23;
				nimln_(1769);				if (nimAddInt(written_1, sent_1, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_23)) { raiseOverflow(); goto BeforeRet_;
				};
				written_1 = (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_23);
			}
LA3_: ;
		} LA2: ;
	}
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(NI, uniRecv__pureZnet_u660)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, void* buffer_p1, int size_p2, int flags_p3) {
	NI result;
NIM_BOOL* nimErr_;
	nimfr_("uniRecv", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	nimln_(1366);	result = ((NI)0);
	nimln_(1367);	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = isClosed__pureZnet_u657(socket_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(!(T3_))) goto LA4_;
		failedAssertImpl__stdZassertions_u234(TM__XqsrSBxhOTPgLQ9cX4MmV4A_25);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA4_: ;
	nimln_(1373);	nimln_(1361);	nimln_(1373);	result = recv((*socket_p0).fd, buffer_p1, ((NI) (size_p2)), flags_p3);
	goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, readIntoBuf__pureZnet_u671)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NI32 flags_p1) {
	NI result;
	tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* T1_;
NIM_BOOL* nimErr_;
	nimfr_("readIntoBuf", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	nimln_(1376);	result = ((NI)0);
	nimln_(1377);	T1_ = NIM_NIL;
	T1_ = socket_p0;
	result = uniRecv__pureZnet_u660(T1_, ((void*) ((*socket_p0).buffer)), ((int)4000), flags_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(1378);	{
		NI32 T6_;
		if (!(result < ((NI)0))) goto LA4_;
		nimln_(1381);		T6_ = (NI32)0;
		T6_ = osLastError__stdZoserrors_u122();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(*socket_p0).lastError = T6_;
	}
LA4_: ;
	nimln_(1382);	{
		if (!(result <= ((NI)0))) goto LA9_;
		nimln_(1383);		(*socket_p0).bufLen = ((NI)0);
		nimln_(1384);		(*socket_p0).currPos = ((NI)0);
		nimln_(1385);		goto BeforeRet_;
	}
LA9_: ;
	nimln_(1386);	(*socket_p0).bufLen = result;
	nimln_(1387);	(*socket_p0).currPos = ((NI)0);
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, recv__pureZnet_u720)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, void* data_p1, NI size_p2) {
	NI result;
NIM_BOOL* nimErr_;
	nimfr_("recv", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	nimln_(1403);	{
		if (!(size_p2 == ((NI)0))) goto LA3_;
		goto BeforeRet_;
	}
LA3_: ;
	nimln_(1404);	{
		NI read_1;
		if (!(*socket_p0).isBuffered) goto LA7_;
		nimln_(1405);		{
			NI res_1;
			if (!((*socket_p0).bufLen == ((NI)0))) goto LA11_;
			nimln_(1390);			res_1 = readIntoBuf__pureZnet_u671(socket_p0, ((NI32)0));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			nimln_(1406);			{
				nimln_(1391);				if (!(res_1 <= ((NI)0))) goto LA15_;
				nimln_(1392);				{
					if (!NIM_FALSE) goto LA19_;
					nimln_(1393);					nimln_(1397);					nimln_(1406);					result = ((NI)0);
					goto BeforeRet_;
				}
				goto LA17_;
LA19_: ;
				{
					nimln_(1395);					nimln_(1397);					nimln_(1395);					result = res_1;
					goto BeforeRet_;
				}
LA17_: ;
			}
LA15_: ;
		}
LA11_: ;
		nimln_(1408);		read_1 = ((NI)0);
		{
			nimln_(1409);			while (1) {
				NI chunk_1;
				NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_26;
				NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_27;
				NCSTRING d_1;
				NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_31;
				NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_32;
				if (!(read_1 < size_p2)) goto LA23;
				nimln_(1410);				{
					NI res_2;
					if (!((*socket_p0).bufLen <= (*socket_p0).currPos)) goto LA26_;
					nimln_(1390);					res_2 = readIntoBuf__pureZnet_u671(socket_p0, ((NI32)0));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					nimln_(1411);					{
						nimln_(1391);						if (!(res_2 <= ((NI)0))) goto LA30_;
						nimln_(1392);						{
							if (!(((NI)0) < read_1)) goto LA34_;
							nimln_(1393);							nimln_(1397);							nimln_(1411);							result = read_1;
							goto BeforeRet_;
						}
						goto LA32_;
LA34_: ;
						{
							nimln_(1395);							nimln_(1397);							nimln_(1395);							result = res_2;
							goto BeforeRet_;
						}
LA32_: ;
					}
LA30_: ;
				}
LA26_: ;
				nimln_(1413);				if (nimSubInt((*socket_p0).bufLen, (*socket_p0).currPos, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_26)) { raiseOverflow(); goto BeforeRet_;
				};
				if (nimSubInt(size_p2, read_1, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_27)) { raiseOverflow(); goto BeforeRet_;
				};
				chunk_1 = (((NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_26) <= (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_27)) ? (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_26) : (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_27));
				nimln_(1414);				d_1 = ((NCSTRING) (data_p1));
				nimln_(1415);				{
					NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_28;
					if (nimSubInt(size_p2, read_1, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_28)) { raiseOverflow(); goto BeforeRet_;
					};
					if (!!((chunk_1 <= (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_28)))) goto LA39_;
					failedAssertImpl__stdZassertions_u234(TM__XqsrSBxhOTPgLQ9cX4MmV4A_30);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
LA39_: ;
				nimln_(1416);				if ((NU)((*socket_p0).currPos) > (NU)(4000)){ raiseIndexError2((*socket_p0).currPos, 4000); goto BeforeRet_;
				}
				if ((chunk_1) < ((NI)0) || (chunk_1) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(chunk_1, ((NI)0), ((NI)IL64(9223372036854775807))); goto BeforeRet_;
				}
				copyMem__system_u1741(((void*) ((&d_1[read_1]))), ((void*) ((&(*socket_p0).buffer[((*socket_p0).currPos)- 0]))), (chunk_1));
				nimln_(1417);				if (nimAddInt(read_1, chunk_1, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_31)) { raiseOverflow(); goto BeforeRet_;
				};
				read_1 = (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_31);
				nimln_(1418);				if (nimAddInt((*socket_p0).currPos, chunk_1, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_32)) { raiseOverflow(); goto BeforeRet_;
				};
				(*socket_p0).currPos = (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_32);
			} LA23: ;
		}
		nimln_(1420);		result = read_1;
	}
	goto LA5_;
LA7_: ;
	{
		nimln_(1437);		if ((size_p2) < ((int)(-2147483647 -1)) || (size_p2) > ((int)2147483647)){ raiseRangeErrorI(size_p2, ((int)(-2147483647 -1)), ((int)2147483647)); goto BeforeRet_;
		}
		result = recv((*socket_p0).fd, data_p1, ((NI) (((int) (size_p2)))), ((NI32)0));
		nimln_(1438);		{
			NI32 T46_;
			if (!(result < ((NI)0))) goto LA44_;
			nimln_(1440);			T46_ = (NI32)0;
			T46_ = osLastError__stdZoserrors_u122();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			(*socket_p0).lastError = T46_;
		}
LA44_: ;
	}
LA5_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLastCyclicDyn)(void* p_p0) {
	NIM_BOOL result;
	nimfr_("nimDecRefIsLastCyclicDyn", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/orc.nim");
	nimlf_(518, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/orc.nim");	result = NIM_FALSE;
	nimln_(519);	{
		tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ* cell_1;
		NI T5_;
		if (!!((p_p0 == NIM_NIL))) goto LA3_;
		nimln_(520);		nimlf_(60, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");		T5_ = (NI)0;
		T5_ = minuspercent___system_u813(((NI) (ptrdiff_t) (p_p0)), ((NI)16));
		cell_1 = ((tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ*) (T5_));
		nimlf_(521, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/orc.nim");		{
			if (!((NI)((*cell_1).rc & ((NI)-16)) == ((NI)0))) goto LA8_;
			nimln_(522);			result = NIM_TRUE;
		}
		goto LA6_;
LA8_: ;
		{
			nimln_(525);			(*cell_1).rc = minuspercent___system_u813((*cell_1).rc, ((NI)16));
		}
LA6_: ;
		nimln_(527);		rememberCycle__system_u3482(result, cell_1, (*((TNimTypeV2**) (p_p0))));
	}
LA3_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZnet_u764)(tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA* dest_p0) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLastCyclicDyn((*dest_p0).Sup.Sup.up);
		if (!T3_) goto LA4_;
		nimDestroyAndDispose((*dest_p0).Sup.Sup.up);
	}
LA4_: ;
	eqdestroy___stdZassertions_u74((*dest_p0).Sup.Sup.trace);
	if ((*dest_p0).Sup.Sup.message.p && !((*dest_p0).Sup.Sup.message.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared((*dest_p0).Sup.Sup.message.p);
}
	{
		NIM_BOOL T8_;
		T8_ = (NIM_BOOL)0;
		T8_ = nimDecRefIsLastCyclicDyn((*dest_p0).Sup.Sup.parent);
		if (!T8_) goto LA9_;
		nimDestroyAndDispose((*dest_p0).Sup.Sup.parent);
	}
LA9_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, rttiDestroy__pureZnet_u1456)(void* dest_p0) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	eqdestroy___pureZnet_u764(((tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA*) (dest_p0)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NI, pluspercent___system_u793)(NI x_p0, NI y_p1) {
	NI result;
	nimfr_("+%", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");
	nimlf_(353, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");	nimln_(357);	result = ((NI) ((NU)((NU64)(((NU) (x_p0))) + (NU64)(((NU) (y_p1))))));
	popFrame();
	return result;
}
static N_INLINE(void, add__system_u3022)(tyObject_CellSeq__Y61EHKUy9bziu9aZLY53Z6TA* s_p0, void** c_p1, TNimTypeV2* t_p2) {
	void** colontmp_;
	TNimTypeV2* colontmp__2;
	nimfr_("add", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/cellseqs_v2.nim");
	nimlf_(28, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/cellseqs_v2.nim");	{
		if (!((*s_p0).cap <= (*s_p0).len)) goto LA3_;
		nimln_(29);		resize__system_u3030(s_p0);
	}
LA3_: ;
	nimln_(30);	colontmp_ = c_p1;
	colontmp__2 = t_p2;
	(*s_p0).d[(*s_p0).len].Field0 = colontmp_;
	(*s_p0).d[(*s_p0).len].Field1 = colontmp__2;
	nimln_(31);	(*s_p0).len = pluspercent___system_u793((*s_p0).len, ((NI)1));
	popFrame();
}
static N_INLINE(void, nimTraceRefDyn)(void* q_p0, void* env_p1) {
	void** p_1;
	nimfr_("nimTraceRefDyn", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/orc.nim");
	nimlf_(138, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/orc.nim");	p_1 = ((void**) (q_p0));
	nimln_(139);	{
		tyObject_GcEnv__P5mFx1YRqn2iTLyn6f3MWg* j_1;
		if (!!(((*p_1) == NIM_NIL))) goto LA3_;
		nimln_(140);		j_1 = ((tyObject_GcEnv__P5mFx1YRqn2iTLyn6f3MWg*) (env_p1));
		nimln_(141);		add__system_u3022((&(*j_1).traceStack), p_1, (*((TNimTypeV2**) ((*p_1)))));
	}
LA3_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, eqtrace___pureZnet_u776)(tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA* dest_p0, void* env_p1) {
	nimTraceRefDyn(&(*dest_p0).Sup.Sup.parent, env_p1);
	nimTraceRefDyn(&(*dest_p0).Sup.Sup.up, env_p1);
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, hasDataBuffered__pureZnet_u654)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* s_p0) {
	NIM_BOOL result;
	nimfr_("hasDataBuffered", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
	nimlf_(1350, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");	result = NIM_FALSE;
	nimln_(1351);	{
		NIM_BOOL T5_;
		if (!(*s_p0).isBuffered) goto LA3_;
		nimln_(1352);		T5_ = (NIM_BOOL)0;
		T5_ = (((NI)0) < (*s_p0).bufLen);
		if (!(T5_)) goto LA6_;
		T5_ = !(((*s_p0).currPos == (*s_p0).bufLen));
LA6_: ;
		result = T5_;
	}
LA3_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, timeoutRead__pureZnet_u72)(int* fd_p0, NI timeout_p1) {
	NI result;
	struct pollfd tpollfdX60gensym0__1;
	int T1_;
	nimfr_("timeoutRead", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{	result = (NI)0;
	nimln_(225);	nimln_(215);	nimZeroMem((void*)(&tpollfdX60gensym0__1), sizeof(struct pollfd));
	nimln_(216);	tpollfdX60gensym0__1.fd = ((int) ((*fd_p0)));
	nimln_(217);	nimln_(225);	tpollfdX60gensym0__1.events = ((NI16)3);
	if ((timeout_p1) < ((int)(-2147483647 -1)) || (timeout_p1) > ((int)2147483647)){ raiseRangeErrorI(timeout_p1, ((int)(-2147483647 -1)), ((int)2147483647)); goto BeforeRet_;
	}
	T1_ = (int)0;
	T1_ = poll((&tpollfdX60gensym0__1), ((nfds_t)1), ((int) (timeout_p1)));
	result = ((NI) (T1_));
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, waitFor__pureZnet_u745)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw* waited_p1, NI timeout_p2, NI size_p3, NimStringV2 funcName_p4) {
	NI result;
NIM_BOOL* nimErr_;
	nimfr_("waitFor", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	nimln_(1450);	result = ((NI)1);
	nimln_(1451);	{
		if (!(size_p3 <= ((NI)0))) goto LA3_;
		{
			if (!NIM_TRUE) goto LA7_;
			failedAssertImpl__stdZassertions_u234(TM__XqsrSBxhOTPgLQ9cX4MmV4A_34);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
LA7_: ;
	}
LA3_: ;
	nimln_(1452);	{
		if (!(timeout_p2 == ((NI)-1))) goto LA11_;
		nimln_(1442);		nimln_(1452);		result = size_p3;
		goto BeforeRet_;
	}
LA11_: ;
	nimln_(1453);	{
		NIM_BOOL T15_;
		NIM_BOOL T16_;
		NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_35;
		T15_ = (NIM_BOOL)0;
		T16_ = (NIM_BOOL)0;
		T16_ = (*socket_p0).isBuffered;
		if (!(T16_)) goto LA17_;
		T16_ = !(((*socket_p0).bufLen == ((NI)0)));
LA17_: ;
		T15_ = T16_;
		if (!(T15_)) goto LA18_;
		nimln_(1454);		T15_ = !(((*socket_p0).bufLen == (*socket_p0).currPos));
LA18_: ;
		if (!T15_) goto LA19_;
		nimln_(1455);		if (nimSubInt((*socket_p0).bufLen, (*socket_p0).currPos, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_35)) { raiseOverflow(); goto BeforeRet_;
		};
		result = (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_35);
		nimln_(1456);		result = ((result <= size_p3) ? result : size_p3);
	}
	goto LA13_;
LA19_: ;
	{
		NI colontmpD_;
		NI colontmpD__2;
		tyObject_MonoTime__lUt9cc5qSSu1hV9cBCmpZIGA startTime_1;
		NI selRet_1;
		tyObject_MonoTime__lUt9cc5qSSu1hV9cBCmpZIGA T47_;
		tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw T48_;
		colontmpD_ = (NI)0;
		colontmpD__2 = (NI)0;
		nimln_(1458);		{
			NI64 T24_;
			NI64 TM__XqsrSBxhOTPgLQ9cX4MmV4A_36;
			tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA* T27_;
			NimStringV2 T28_;
			T24_ = (NI64)0;
			T24_ = inMilliseconds__pureZtimes_u799((*waited_p1));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (nimSubInt64(((NI64) (timeout_p2)), T24_, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_36)) { raiseOverflow(); goto BeforeRet_;
			};
			if (!((NI64)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_36) < IL64(1))) goto LA25_;
			T27_ = NIM_NIL;
			T27_ = (tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA*) nimNewObj(sizeof(tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA), NIM_ALIGNOF(tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA));
			(*T27_).Sup.Sup.Sup.m_type = (&NTIv2__ynfA2t3tX6z5asZBCc9bR9bA_);
			(*T27_).Sup.Sup.name = "TimeoutError";
			nimln_(1459);			T28_.len = 0; T28_.p = NIM_NIL;
			T28_ = rawNewString(funcName_p4.len + 21);
appendString((&T28_), TM__XqsrSBxhOTPgLQ9cX4MmV4A_39);
appendString((&T28_), funcName_p4);
appendString((&T28_), TM__XqsrSBxhOTPgLQ9cX4MmV4A_41);
			(*T27_).Sup.Sup.message = T28_;
			(*T27_).Sup.Sup.parent = ((Exception*) NIM_NIL);
			raiseExceptionEx((Exception*)T27_, "TimeoutError", "waitFor", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim", 1459);
goto BeforeRet_;
		}
LA25_: ;
		nimln_(1470);		startTime_1 = getMonoTime__stdZmonotimes_u5();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimln_(1471);		{
			NIM_BOOL T31_;
			T31_ = (NIM_BOOL)0;
			T31_ = hasDataBuffered__pureZnet_u654(socket_p0);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!T31_) goto LA32_;
			colontmpD_ = ((NI)1);
			selRet_1 = colontmpD_;
		}
		goto LA29_;
LA32_: ;
		{
			NI64 T35_;
			NI64 TM__XqsrSBxhOTPgLQ9cX4MmV4A_42;
			nimln_(1473);			T35_ = (NI64)0;
			T35_ = inMilliseconds__pureZtimes_u799((*waited_p1));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (nimSubInt64(((NI64) (timeout_p2)), T35_, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_42)) { raiseOverflow(); goto BeforeRet_;
			};
			colontmpD__2 = timeoutRead__pureZnet_u72((&(*socket_p0).fd), ((NI) ((NI64)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_42))));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			selRet_1 = colontmpD__2;
		}
LA29_: ;
		nimln_(1474);		{
			NI32 T40_;
			if (!(selRet_1 < ((NI)0))) goto LA38_;
			T40_ = (NI32)0;
			T40_ = osLastError__stdZoserrors_u122();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			raiseOSError__stdZoserrors_u119(T40_, TM__XqsrSBxhOTPgLQ9cX4MmV4A_43);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
LA38_: ;
		nimln_(1475);		{
			tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA* T45_;
			NimStringV2 T46_;
			if (!!((selRet_1 == ((NI)1)))) goto LA43_;
			T45_ = NIM_NIL;
			T45_ = (tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA*) nimNewObj(sizeof(tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA), NIM_ALIGNOF(tyObject_TimeoutError__ynfA2t3tX6z5asZBCc9bR9bA));
			(*T45_).Sup.Sup.Sup.m_type = (&NTIv2__ynfA2t3tX6z5asZBCc9bR9bA_);
			(*T45_).Sup.Sup.name = "TimeoutError";
			nimln_(1476);			T46_.len = 0; T46_.p = NIM_NIL;
			T46_ = rawNewString(funcName_p4.len + 21);
appendString((&T46_), TM__XqsrSBxhOTPgLQ9cX4MmV4A_44);
appendString((&T46_), funcName_p4);
appendString((&T46_), TM__XqsrSBxhOTPgLQ9cX4MmV4A_45);
			(*T45_).Sup.Sup.message = T46_;
			(*T45_).Sup.Sup.parent = ((Exception*) NIM_NIL);
			raiseExceptionEx((Exception*)T45_, "TimeoutError", "waitFor", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim", 1476);
goto BeforeRet_;
		}
LA43_: ;
		nimln_(1477);		T47_ = getMonoTime__stdZmonotimes_u5();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		T48_ = minus___stdZmonotimes_u37(T47_, startTime_1);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		pluseq___pureZtimes_u1141(waited_p1, T48_);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA13_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, recv__pureZnet_u822)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, void* data_p1, NI size_p2, NI timeout_p3) {
	NI result;
	tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw waited_1;
	NI read_1;
NIM_BOOL* nimErr_;
	nimfr_("recv", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	nimln_(1482);	nimZeroMem((void*)(&waited_1), sizeof(tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw));
	nimln_(1484);	read_1 = ((NI)0);
	{
		nimln_(1485);		while (1) {
			NI avail_1;
			NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_46;
			NCSTRING d_1;
			NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_52;
			if (!(read_1 < size_p2)) goto LA2;
			nimln_(1486);			if (nimSubInt(size_p2, read_1, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_46)) { raiseOverflow(); goto BeforeRet_;
			};
			avail_1 = waitFor__pureZnet_u745(socket_p0, (&waited_1), timeout_p3, (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_46), TM__XqsrSBxhOTPgLQ9cX4MmV4A_48);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			nimln_(1487);			d_1 = ((NCSTRING) (data_p1));
			nimln_(1488);			{
				NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_49;
				if (nimSubInt(size_p2, read_1, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_49)) { raiseOverflow(); goto BeforeRet_;
				};
				if (!!((avail_1 <= (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_49)))) goto LA5_;
				failedAssertImpl__stdZassertions_u234(TM__XqsrSBxhOTPgLQ9cX4MmV4A_51);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
LA5_: ;
			nimln_(1489);			result = recv__pureZnet_u720(socket_p0, ((void*) ((&d_1[read_1]))), avail_1);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			nimln_(1490);			{
				if (!(result == ((NI)0))) goto LA9_;
				goto LA1;
			}
LA9_: ;
			nimln_(1491);			{
				if (!(result < ((NI)0))) goto LA13_;
				nimln_(1492);				goto BeforeRet_;
			}
LA13_: ;
			nimln_(1493);			if (nimAddInt(read_1, result, &TM__XqsrSBxhOTPgLQ9cX4MmV4A_52)) { raiseOverflow(); goto BeforeRet_;
			};
			read_1 = (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_52);
		} LA2: ;
	} LA1: ;
	nimln_(1495);	result = read_1;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, recv__pureZnet_u846)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NimStringV2* data_p1, NI size_p2, NI timeout_p3, tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA flags_p4) {
	NI result;
	NI colontmpD_;
	NI colontmpD__2;
NIM_BOOL* nimErr_;
	nimfr_("recv", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	colontmpD_ = (NI)0;
	colontmpD__2 = (NI)0;
	nimln_(1519);	if ((size_p2) < ((NI)0) || (size_p2) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(size_p2, ((NI)0), ((NI)IL64(9223372036854775807))); goto BeforeRet_;
	}
	setLengthStrV2((&(*data_p1)), (size_p2));
	nimln_(1520);	nimln_(1521);	{
		if (!(timeout_p3 == ((NI)-1))) goto LA3_;
		nimln_(1522);		colontmpD_ = recv__pureZnet_u720(socket_p0, ((void*) (nimToCStringConv((*data_p1)))), size_p2);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		result = colontmpD_;
	}
	goto LA1_;
LA3_: ;
	{
		nimln_(1524);		colontmpD__2 = recv__pureZnet_u822(socket_p0, ((void*) (nimToCStringConv((*data_p1)))), size_p2, timeout_p3);
		if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
		result = colontmpD__2;
		{
			LA6_:;
		}
		{
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA1_: ;
	nimln_(1525);	{
		NI32 lastError_1;
		if (!(result < ((NI)0))) goto LA11_;
		nimln_(1526);		setLengthStrV2((&(*data_p1)), ((NI)0));
		nimln_(1527);		lastError_1 = getSocketError__pureZnet_u561(socket_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimln_(1528);		socketError__pureZnet_u112(socket_p0, result, NIM_FALSE, lastError_1, flags_p4);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA9_;
LA11_: ;
	{
		nimln_(1530);		if ((result) < ((NI)0) || (result) > ((NI)IL64(9223372036854775807))){ raiseRangeErrorI(result, ((NI)0), ((NI)IL64(9223372036854775807))); goto BeforeRet_;
		}
		setLengthStrV2((&(*data_p1)), (result));
	}
LA9_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, peekChar__pureZnet_u860)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NIM_CHAR* c_p1) {
	NI result;
NIM_BOOL* nimErr_;
	nimfr_("peekChar", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	nimln_(1558);	{
		if (!(*socket_p0).isBuffered) goto LA3_;
		nimln_(1559);		result = ((NI)1);
		nimln_(1560);		{
			NIM_BOOL T7_;
			NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_57;
			NI res_1;
			T7_ = (NIM_BOOL)0;
			T7_ = ((*socket_p0).bufLen == ((NI)0));
			if (T7_) goto LA8_;
			if (nimSubInt((*socket_p0).bufLen, ((NI)1), &TM__XqsrSBxhOTPgLQ9cX4MmV4A_57)) { raiseOverflow(); goto BeforeRet_;
			};
			T7_ = ((NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_57) < (*socket_p0).currPos);
LA8_: ;
			if (!T7_) goto LA9_;
			nimln_(1561);			res_1 = readIntoBuf__pureZnet_u671(socket_p0, ((NI32)0));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			nimln_(1562);			{
				if (!(res_1 <= ((NI)0))) goto LA13_;
				nimln_(1563);				result = res_1;
			}
LA13_: ;
		}
LA9_: ;
		nimln_(1565);		if ((NU)((*socket_p0).currPos) > (NU)(4000)){ raiseIndexError2((*socket_p0).currPos, 4000); goto BeforeRet_;
		}
		(*c_p1) = (*socket_p0).buffer[((*socket_p0).currPos)- 0];
	}
	goto LA1_;
LA3_: ;
	{
		nimln_(1575);		result = recv((*socket_p0).fd, ((void*) (c_p1)), ((NI)1), ((int)2));
	}
LA1_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
static N_INLINE(void, nimAddCharV1)(NimStringV2* s_p0, NIM_CHAR c_p1) {
	NI TM__XqsrSBxhOTPgLQ9cX4MmV4A_61;
{	prepareAdd(s_p0, ((NI)1));
	(*(*s_p0).p).data[(*s_p0).len] = c_p1;
	if (nimAddInt((*s_p0).len, ((NI)1), &TM__XqsrSBxhOTPgLQ9cX4MmV4A_61)) { raiseOverflow(); goto BeforeRet_;
	};
	(*s_p0).len = (NI)(TM__XqsrSBxhOTPgLQ9cX4MmV4A_61);
	(*(*s_p0).p).data[(*s_p0).len] = 0;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, readLine__pureZnet_u865)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NimStringV2* line_p1, NI timeout_p2, tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA flags_p3, NI maxLength_p4) {
	tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw waited_1;
NIM_BOOL* nimErr_;
	nimfr_("readLine", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	nimln_(1609);	nimZeroMem((void*)(&waited_1), sizeof(tyObject_Duration__Gd5i7K183HJjuNcVBXWC9cw));
	nimln_(1611);	setLengthStrV2((&(*line_p1)), ((NI)0));
	{
		nimln_(1612);		while (1) {
			NIM_CHAR c_1;
			NI T3_;
			NI n_1;
			c_1 = (NIM_CHAR)0;
			nimln_(1614);			T3_ = (NI)0;
			T3_ = waitFor__pureZnet_u745(socket_p0, (&waited_1), timeout_p2, ((NI)1), TM__XqsrSBxhOTPgLQ9cX4MmV4A_55);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			(void)(T3_);
			nimln_(1615);			n_1 = recv__pureZnet_u720(socket_p0, ((void*) ((&c_1))), ((NI)1));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			nimln_(1616);			{
				NI32 lastError_1;
				if (!(n_1 < ((NI)0))) goto LA6_;
				nimln_(1603);				lastError_1 = getSocketError__pureZnet_u561(socket_p0);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(1604);				{
					NIM_BOOL T10_;
					T10_ = (NIM_BOOL)0;
					T10_ = isDisconnectionError__pureZnet_u118(flags_p3, lastError_1);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					if (!T10_) goto LA11_;
					nimln_(1605);					setLengthStrV2((&(*line_p1)), ((NI)0));
				}
LA11_: ;
				nimln_(1606);				socketError__pureZnet_u112(socket_p0, n_1, NIM_FALSE, lastError_1, flags_p3);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(1616);				goto BeforeRet_;
			}
			goto LA4_;
LA6_: ;
			{
				nimln_(1617);				if (!(n_1 == ((NI)0))) goto LA14_;
				setLengthStrV2((&(*line_p1)), ((NI)0));
				goto BeforeRet_;
			}
			goto LA4_;
LA14_: ;
LA4_: ;
			nimln_(1618);			{
				NI T20_;
				if (!((NU8)(c_1) == (NU8)(13))) goto LA18_;
				nimln_(1619);				T20_ = (NI)0;
				T20_ = waitFor__pureZnet_u745(socket_p0, (&waited_1), timeout_p2, ((NI)1), TM__XqsrSBxhOTPgLQ9cX4MmV4A_56);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				(void)(T20_);
				nimln_(1620);				n_1 = peekChar__pureZnet_u860(socket_p0, (&c_1));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimln_(1621);				{
					NIM_BOOL T23_;
					NI T27_;
					T23_ = (NIM_BOOL)0;
					T23_ = (((NI)0) < n_1);
					if (!(T23_)) goto LA24_;
					T23_ = ((NU8)(c_1) == (NU8)(10));
LA24_: ;
					if (!T23_) goto LA25_;
					nimln_(1622);					T27_ = (NI)0;
					T27_ = recv__pureZnet_u720(socket_p0, ((void*) ((&c_1))), ((NI)1));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					(void)(T27_);
				}
				goto LA21_;
LA25_: ;
				{
					NI32 lastError_2;
					nimln_(1623);					if (!(n_1 <= ((NI)0))) goto LA29_;
					nimln_(1603);					lastError_2 = getSocketError__pureZnet_u561(socket_p0);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					nimln_(1604);					{
						NIM_BOOL T33_;
						T33_ = (NIM_BOOL)0;
						T33_ = isDisconnectionError__pureZnet_u118(flags_p3, lastError_2);
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						if (!T33_) goto LA34_;
						nimln_(1605);						setLengthStrV2((&(*line_p1)), ((NI)0));
					}
LA34_: ;
					nimln_(1606);					socketError__pureZnet_u112(socket_p0, n_1, NIM_FALSE, lastError_2, flags_p3);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					nimln_(1623);					goto BeforeRet_;
				}
				goto LA21_;
LA29_: ;
LA21_: ;
				nimln_(1624);				{
					nimln_(1599);					if (!((*line_p1).len == ((NI)0))) goto LA38_;
					nimln_(1600);					prepareAdd((&(*line_p1)), 2);
appendString((&(*line_p1)), TM__XqsrSBxhOTPgLQ9cX4MmV4A_59);
				}
LA38_: ;
				nimln_(1625);				goto BeforeRet_;
			}
			goto LA16_;
LA18_: ;
			{
				nimln_(1626);				if (!((NU8)(c_1) == (NU8)(10))) goto LA41_;
				nimln_(1627);				{
					nimln_(1599);					if (!((*line_p1).len == ((NI)0))) goto LA45_;
					nimln_(1600);					prepareAdd((&(*line_p1)), 2);
appendString((&(*line_p1)), TM__XqsrSBxhOTPgLQ9cX4MmV4A_60);
				}
LA45_: ;
				nimln_(1628);				goto BeforeRet_;
			}
			goto LA16_;
LA41_: ;
LA16_: ;
			nimln_(1629);			nimAddCharV1((&(*line_p1)), c_1);
			nimln_(1632);			{
				if (!(maxLength_p4 < (*line_p1).len)) goto LA49_;
				goto LA1;
			}
LA49_: ;
		}
	} LA1: ;
	}BeforeRet_: ;
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, recvLine__pureZnet_u882)(tyObject_SocketImpl__wNzYr0F23YiJLdJ6O8Rt7w* socket_p0, NI timeout_p1, tySet_tyEnum_SocketFlag__uSUx6Nf7gxzt9cHsddJDI9cA flags_p2, NI maxLength_p3) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
	nimfr_("recvLine", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/net.nim");
{nimErr_ = nimErrorFlag();
	nimln_(1654);	result = TM__XqsrSBxhOTPgLQ9cX4MmV4A_53;
	nimln_(1655);	readLine__pureZnet_u865(socket_p0, (&result), timeout_p1, flags_p2, maxLength_p3);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
	return result;
}
