/* Generated by Nim Compiler v2.2.6 */
/* Compiled for: Linux, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w -fmax-errors=3 -fno-strict-aliasing -pthread -I/workspaces/telestorie/lib   -I/home/codespace/.choosenim/toolchains/nim-2.2.6/lib -I/workspaces/telestorie -o /workspaces/telestorie/nimcache_sdl3_test/@pstd@ssysrand.nim.c.o /workspaces/telestorie/nimcache_sdl3_test/@pstd@ssysrand.nim.c */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <unistd.h>
#include <sys/syscall.h>
#include <sys/syscall.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(proc, file) \
  TFrame FR_; \
  FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = 0; nimFrame(&FR_);

#define nimln_(n) \
  FR_.line = n;

#define nimlf_(n, file) \
  FR_.line = n; FR_.filename = file;

typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
struct NimStrPayload {
	NI cap;
	NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
	NI len;
	NimStrPayload* p;
};
typedef int tyArray__NO6udWOtIkldhscb9cksBow[2];
static N_INLINE(NI, urandomInternalImpl__stdZsysrand_u18)(NU8* dest_p0, NI dest_p0Len_0);
N_LIB_PRIVATE N_NOINLINE(void, raiseIndexError2)(NI i_p0, NI n_p1);
N_LIB_PRIVATE N_NOINLINE(void, raiseOverflow)(void);
N_LIB_PRIVATE N_NOINLINE(void, raiseRangeErrorI)(NI64 i_p0, NI64 a_p1, NI64 b_p2);
N_LIB_PRIVATE N_NOINLINE(void, raiseAssert__stdZassertions_u26)(NimStringV2 msg_p0);
static N_INLINE(NIM_BOOL, contains__stdZsysrand_u35)(int* a_p0, NI a_p0Len_0, int item_p1);
static N_INLINE(NI, find__stdZsysrand_u40)(int* a_p0, NI a_p0Len_0, int item_p1);
static N_INLINE(void, nimFrame)(TFrame* s_p0);
N_LIB_PRIVATE N_NOINLINE(void, callDepthLimitReached__system_u4643)(void);
static N_INLINE(void, popFrame)(void);
N_LIB_PRIVATE N_NIMCALL(NI32, osLastError__stdZoserrors_u122)(void);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static const struct {
  NI cap; NIM_CHAR data[11+1];
} TM__sT0fWggTrXhnxQ79bl9a8nHg_3 = { 11 | NIM_STRLIT_FLAG, "unreachable" };
static const NimStringV2 TM__sT0fWggTrXhnxQ79bl9a8nHg_4 = {11, (NimStrPayload*)&TM__sT0fWggTrXhnxQ79bl9a8nHg_3};
static NIM_CONST tyArray__NO6udWOtIkldhscb9cksBow TM__sT0fWggTrXhnxQ79bl9a8nHg_7 = {((int)4),
((int)11)}
;
extern NIM_THREADVAR TFrame* framePtr__system_u2743;
extern NIM_THREADVAR NIM_BOOL nimInErrorMode__system_u4425;
static N_INLINE(void, nimFrame)(TFrame* s_p0) {
	{
		if (!(framePtr__system_u2743 == ((TFrame*) NIM_NIL))) goto LA3_;
		(*s_p0).calldepth = ((NI16)0);
	}
	goto LA1_;
LA3_: ;
	{
		(*s_p0).calldepth = (NI16)((*framePtr__system_u2743).calldepth + ((NI16)1));
	}
LA1_: ;
	(*s_p0).prev = framePtr__system_u2743;
	framePtr__system_u2743 = s_p0;
	{
		if (!((*s_p0).calldepth == ((NI16)2000))) goto LA8_;
		callDepthLimitReached__system_u4643();
	}
LA8_: ;
}
static N_INLINE(void, popFrame)(void) {
	framePtr__system_u2743 = (*framePtr__system_u2743).prev;
}
static N_INLINE(NI, find__stdZsysrand_u40)(int* a_p0, NI a_p0Len_0, int item_p1) {
	NI result;
	nimfr_("find", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");
{	nimlf_(1764, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");	result = ((NI)0);
	{
		int* i_1;
		NI i_2;
		i_1 = (int*)0;
		nimlf_(18, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators.nim");		i_2 = ((NI)0);
		{
			nimln_(19);			while (1) {
				NI TM__sT0fWggTrXhnxQ79bl9a8nHg_6;
				if (!(i_2 < a_p0Len_0)) goto LA3;
				nimlf_(1765, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");				if (i_2 < 0 || i_2 >= a_p0Len_0){ raiseIndexError2(i_2,a_p0Len_0-1); goto BeforeRet_;
				}
				i_1 = (&a_p0[i_2]);
				nimln_(1766);				{
					if (!((*i_1) == item_p1)) goto LA6_;
					goto BeforeRet_;
				}
LA6_: ;
				nimln_(1767);				if (nimAddInt(result, ((NI)1), &TM__sT0fWggTrXhnxQ79bl9a8nHg_6)) { raiseOverflow(); goto BeforeRet_;
				};
				result = (NI)(TM__sT0fWggTrXhnxQ79bl9a8nHg_6);
				nimlf_(13, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators.nim");				i_2 += ((NI)1);
			} LA3: ;
		}
	}
	nimlf_(1768, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");	result = ((NI)-1);
	}BeforeRet_: ;
	popFrame();
	return result;
}
static N_INLINE(NIM_BOOL, contains__stdZsysrand_u35)(int* a_p0, NI a_p0Len_0, int item_p1) {
	NIM_BOOL result;
	NI T1_;
	nimfr_("contains", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");
{	nimln_(1782);	nimln_(1770);	nimln_(1782);	T1_ = (NI)0;
	T1_ = find__stdZsysrand_u40(a_p0, a_p0Len_0, item_p1);
	result = (((NI)0) <= T1_);
	goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
	return result;
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4425);
	return result;
}
static N_INLINE(NI, urandomInternalImpl__stdZsysrand_u18)(NU8* dest_p0, NI dest_p0Len_0) {
	NI result;
	NI sizeX60gensym1__1;
NIM_BOOL* nimErr_;
	nimfr_("urandomInternalImpl", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/std/sysrand.nim");
{nimErr_ = nimErrorFlag();
	nimlf_(290, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/std/sysrand.nim");	result = ((NI)0);
	nimln_(188);	sizeX60gensym1__1 = dest_p0Len_0;
	nimln_(189);	{
		if (!(sizeX60gensym1__1 == ((NI)0))) goto LA3_;
		nimln_(190);		goto BeforeRet_;
	}
LA3_: ;
	{
		nimln_(294);		while (1) {
			NI readBytesX60gensym1__1;
			NI TM__sT0fWggTrXhnxQ79bl9a8nHg_2;
			long T7_;
			nimln_(192);			if (!(result < sizeX60gensym1__1)) goto LA6;
			nimln_(193);			if (result < 0 || result >= dest_p0Len_0){ raiseIndexError2(result,dest_p0Len_0-1); goto BeforeRet_;
			}
			if (nimSubInt(sizeX60gensym1__1, result, &TM__sT0fWggTrXhnxQ79bl9a8nHg_2)) { raiseOverflow(); goto BeforeRet_;
			};
			if (((NI)(TM__sT0fWggTrXhnxQ79bl9a8nHg_2)) < ((int)(-2147483647 -1)) || ((NI)(TM__sT0fWggTrXhnxQ79bl9a8nHg_2)) > ((int)2147483647)){ raiseRangeErrorI((NI)(TM__sT0fWggTrXhnxQ79bl9a8nHg_2), ((int)(-2147483647 -1)), ((int)2147483647)); goto BeforeRet_;
			}
			T7_ = (long)0;
			T7_ = syscall(SYS_getrandom, (&dest_p0[result]), ((int) ((NI)(TM__sT0fWggTrXhnxQ79bl9a8nHg_2))), ((NI)0));
			readBytesX60gensym1__1 = ((NI) (T7_));
			nimln_(194);			{
				if (!(readBytesX60gensym1__1 == ((NI)0))) goto LA10_;
				nimln_(195);				raiseAssert__stdZassertions_u26(TM__sT0fWggTrXhnxQ79bl9a8nHg_4);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
			goto LA8_;
LA10_: ;
			{
				NI TM__sT0fWggTrXhnxQ79bl9a8nHg_5;
				nimln_(196);				if (!(((NI)0) < readBytesX60gensym1__1)) goto LA13_;
				nimln_(197);				if (nimAddInt(result, readBytesX60gensym1__1, &TM__sT0fWggTrXhnxQ79bl9a8nHg_5)) { raiseOverflow(); goto BeforeRet_;
				};
				result = (NI)(TM__sT0fWggTrXhnxQ79bl9a8nHg_5);
			}
			goto LA8_;
LA13_: ;
			{
				nimln_(199);				{
					NI32 T18_;
					NIM_BOOL T19_;
					T18_ = (NI32)0;
					T18_ = osLastError__stdZoserrors_u122();
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					T19_ = (NIM_BOOL)0;
					T19_ = contains__stdZsysrand_u35(TM__sT0fWggTrXhnxQ79bl9a8nHg_7, 2, ((int) (T18_)));
					if (!T19_) goto LA20_;
				}
				goto LA16_;
LA20_: ;
				{
					nimln_(294);					nimln_(201);					result = ((NI)-1);
					nimln_(202);					goto LA5;
				}
LA16_: ;
			}
LA8_: ;
		} LA6: ;
	} LA5: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, urandom__stdZsysrand_u121)(NU8* dest_p0, NI dest_p0Len_0) {
	NIM_BOOL result;
	NI ret_1;
NIM_BOOL* nimErr_;
	nimfr_("urandom", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/std/sysrand.nim");
{nimErr_ = nimErrorFlag();
	nimln_(306);	result = NIM_TRUE;
	nimln_(309);	ret_1 = urandomInternalImpl__stdZsysrand_u18(dest_p0, dest_p0Len_0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(314);	{
		if (!(ret_1 < ((NI)0))) goto LA3_;
		nimln_(315);		result = NIM_FALSE;
	}
LA3_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
