/* Generated by Nim Compiler v2.2.6 */
/* Compiled for: Linux, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w -fmax-errors=3 -fno-strict-aliasing -pthread -I/workspaces/telestorie/lib  -msse4.1 -mpclmul  -I/home/codespace/.choosenim/toolchains/nim-2.2.6/lib -I/workspaces/telestorie -o /workspaces/telestorie/nimcache_sdl3_test/@nzippy-0.10.18-634e8ce02fb5a9bbb3cf4f9853b7150ea21e35a9@szippy@scrc32_simd.nim.c.o /workspaces/telestorie/nimcache_sdl3_test/@nzippy-0.10.18-634e8ce02fb5a9bbb3cf4f9853b7150ea21e35a9@szippy@scrc32_simd.nim.c */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include "emmintrin.h"
#include "wmmintrin.h"
#include "smmintrin.h"
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(proc, file) \
  TFrame FR_; \
  FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = 0; nimFrame(&FR_);

#define nimln_(n) \
  FR_.line = n;

#define nimlf_(n, file) \
  FR_.line = n; FR_.filename = file;

typedef NU64 tyArray__NzKR9bw29cLPrd712Xt6Liiw[2];
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2);
N_LIB_PRIVATE N_NOINLINE(void, raiseOverflow)(void);
static N_INLINE(void, nimFrame)(TFrame* s_p0);
N_LIB_PRIVATE N_NOINLINE(void, callDepthLimitReached__system_u4643)(void);
static N_INLINE(void, popFrame)(void);
static NIM_CONST tyArray__NzKR9bw29cLPrd712Xt6Liiw TM__uhMiTRzl3cBWTrRJ8BgGyw_2 = {5708721108ULL,
7631803798ULL}
;
static NIM_CONST tyArray__NzKR9bw29cLPrd712Xt6Liiw TM__uhMiTRzl3cBWTrRJ8BgGyw_3 = {6259578832ULL,
3433693342ULL}
;
static NIM_CONST tyArray__NzKR9bw29cLPrd712Xt6Liiw TM__uhMiTRzl3cBWTrRJ8BgGyw_4 = {5969371428ULL,
0ULL}
;
static NIM_CONST tyArray__NzKR9bw29cLPrd712Xt6Liiw TM__uhMiTRzl3cBWTrRJ8BgGyw_5 = {7976584769ULL,
8439010881ULL}
;
extern NIM_THREADVAR NIM_BOOL nimInErrorMode__system_u4425;
extern NIM_THREADVAR TFrame* framePtr__system_u2743;
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4425);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest_p0, source_p1, ((size_t) (size_p2)));
}
static N_INLINE(void, nimFrame)(TFrame* s_p0) {
	{
		if (!(framePtr__system_u2743 == ((TFrame*) NIM_NIL))) goto LA3_;
		(*s_p0).calldepth = ((NI16)0);
	}
	goto LA1_;
LA3_: ;
	{
		(*s_p0).calldepth = (NI16)((*framePtr__system_u2743).calldepth + ((NI16)1));
	}
LA1_: ;
	(*s_p0).prev = framePtr__system_u2743;
	framePtr__system_u2743 = s_p0;
	{
		if (!((*s_p0).calldepth == ((NI16)2000))) goto LA8_;
		callDepthLimitReached__system_u4643();
	}
LA8_: ;
}
static N_INLINE(void, popFrame)(void) {
	framePtr__system_u2743 = (*framePtr__system_u2743).prev;
}
N_LIB_PRIVATE N_NIMCALL(NU32, crc32_sse41_pcmul__pkgZzippyZcrc3295simd_u39)(void* src_p0, NI len_p1, NU32 crc32_p2) {
	NU32 result;
	tyArray__NzKR9bw29cLPrd712Xt6Liiw k1k2_1;
	tyArray__NzKR9bw29cLPrd712Xt6Liiw k3k4_1;
	tyArray__NzKR9bw29cLPrd712Xt6Liiw k5k0_1;
	tyArray__NzKR9bw29cLPrd712Xt6Liiw poly_1;
	NU8* src_2;
	NI pos_1;
	NI len_2;
	__m128i x0_1;
	__m128i x1_1;
	__m128i x2_1;
	__m128i x3_1;
	__m128i x4_1;
	__m128i x5_1;
	__m128i x6_1;
	__m128i x7_1;
	__m128i x8_1;
	__m128i y5_1;
	__m128i y6_1;
	__m128i y7_1;
	__m128i y8_1;
	NI TM__uhMiTRzl3cBWTrRJ8BgGyw_6;
	NI TM__uhMiTRzl3cBWTrRJ8BgGyw_7;
	NI TM__uhMiTRzl3cBWTrRJ8BgGyw_8;
	NI TM__uhMiTRzl3cBWTrRJ8BgGyw_9;
	__m128i T1_;
	NI TM__uhMiTRzl3cBWTrRJ8BgGyw_10;
	NI TM__uhMiTRzl3cBWTrRJ8BgGyw_11;
	NI32 T6_;
	nimfr_("crc32_sse41_pcmul", "/home/codespace/.nimble/pkgs2/zippy-0.10.18-634e8ce02fb5a9bbb3cf4f9853b7150ea21e35a9/zippy/crc32_simd.nim");
{	result = (NU32)0;
	nimlf_(40, "/home/codespace/.nimble/pkgs2/zippy-0.10.18-634e8ce02fb5a9bbb3cf4f9853b7150ea21e35a9/zippy/crc32_simd.nim");	nimZeroMem((void*)k1k2_1, sizeof(tyArray__NzKR9bw29cLPrd712Xt6Liiw));
	nimln_(43);	nimCopyMem((void*)k1k2_1, (NIM_CONST void*)TM__uhMiTRzl3cBWTrRJ8BgGyw_2, sizeof(tyArray__NzKR9bw29cLPrd712Xt6Liiw));
	nimZeroMem((void*)k3k4_1, sizeof(tyArray__NzKR9bw29cLPrd712Xt6Liiw));
	nimln_(44);	nimCopyMem((void*)k3k4_1, (NIM_CONST void*)TM__uhMiTRzl3cBWTrRJ8BgGyw_3, sizeof(tyArray__NzKR9bw29cLPrd712Xt6Liiw));
	nimZeroMem((void*)k5k0_1, sizeof(tyArray__NzKR9bw29cLPrd712Xt6Liiw));
	nimln_(45);	nimCopyMem((void*)k5k0_1, (NIM_CONST void*)TM__uhMiTRzl3cBWTrRJ8BgGyw_4, sizeof(tyArray__NzKR9bw29cLPrd712Xt6Liiw));
	nimZeroMem((void*)poly_1, sizeof(tyArray__NzKR9bw29cLPrd712Xt6Liiw));
	nimln_(46);	nimCopyMem((void*)poly_1, (NIM_CONST void*)TM__uhMiTRzl3cBWTrRJ8BgGyw_5, sizeof(tyArray__NzKR9bw29cLPrd712Xt6Liiw));
	nimln_(48);	src_2 = ((NU8*) (src_p0));
	nimln_(51);	pos_1 = ((NI)0);
	nimln_(52);	len_2 = len_p1;
	nimZeroMem((void*)(&x0_1), sizeof(__m128i));
	nimZeroMem((void*)(&x1_1), sizeof(__m128i));
	nimZeroMem((void*)(&x2_1), sizeof(__m128i));
	nimZeroMem((void*)(&x3_1), sizeof(__m128i));
	nimZeroMem((void*)(&x4_1), sizeof(__m128i));
	nimZeroMem((void*)(&x5_1), sizeof(__m128i));
	nimZeroMem((void*)(&x6_1), sizeof(__m128i));
	nimZeroMem((void*)(&x7_1), sizeof(__m128i));
	nimZeroMem((void*)(&x8_1), sizeof(__m128i));
	nimZeroMem((void*)(&y5_1), sizeof(__m128i));
	nimZeroMem((void*)(&y6_1), sizeof(__m128i));
	nimZeroMem((void*)(&y7_1), sizeof(__m128i));
	nimZeroMem((void*)(&y8_1), sizeof(__m128i));
	nimln_(55);	if (nimAddInt(pos_1, ((NI)0), &TM__uhMiTRzl3cBWTrRJ8BgGyw_6)) { raiseOverflow(); goto BeforeRet_;
	};
	x1_1 = _mm_loadu_si128(((void*) ((&src_2[(NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_6)]))));
	nimln_(56);	if (nimAddInt(pos_1, ((NI)16), &TM__uhMiTRzl3cBWTrRJ8BgGyw_7)) { raiseOverflow(); goto BeforeRet_;
	};
	x2_1 = _mm_loadu_si128(((void*) ((&src_2[(NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_7)]))));
	nimln_(57);	if (nimAddInt(pos_1, ((NI)32), &TM__uhMiTRzl3cBWTrRJ8BgGyw_8)) { raiseOverflow(); goto BeforeRet_;
	};
	x3_1 = _mm_loadu_si128(((void*) ((&src_2[(NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_8)]))));
	nimln_(58);	if (nimAddInt(pos_1, ((NI)48), &TM__uhMiTRzl3cBWTrRJ8BgGyw_9)) { raiseOverflow(); goto BeforeRet_;
	};
	x4_1 = _mm_loadu_si128(((void*) ((&src_2[(NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_9)]))));
	nimln_(60);	T1_ = _mm_cvtsi32_si128(crc32_p2);
	x1_1 = _mm_xor_si128(x1_1, T1_);
	nimln_(62);	x0_1 = _mm_load_si128(((void*) (k1k2_1)));
	nimln_(64);	if (nimAddInt(pos_1, ((NI)64), &TM__uhMiTRzl3cBWTrRJ8BgGyw_10)) { raiseOverflow(); goto BeforeRet_;
	};
	pos_1 = (NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_10);
	nimln_(65);	if (nimSubInt(len_2, ((NI)64), &TM__uhMiTRzl3cBWTrRJ8BgGyw_11)) { raiseOverflow(); goto BeforeRet_;
	};
	len_2 = (NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_11);
	{
		nimln_(67);		while (1) {
			NI TM__uhMiTRzl3cBWTrRJ8BgGyw_12;
			NI TM__uhMiTRzl3cBWTrRJ8BgGyw_13;
			NI TM__uhMiTRzl3cBWTrRJ8BgGyw_14;
			NI TM__uhMiTRzl3cBWTrRJ8BgGyw_15;
			NI TM__uhMiTRzl3cBWTrRJ8BgGyw_16;
			NI TM__uhMiTRzl3cBWTrRJ8BgGyw_17;
			if (!(((NI)64) <= len_2)) goto LA3;
			nimln_(68);			x5_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)0));
			nimln_(69);			x6_1 = _mm_clmulepi64_si128(x2_1, x0_1, ((NI)0));
			nimln_(70);			x7_1 = _mm_clmulepi64_si128(x3_1, x0_1, ((NI)0));
			nimln_(71);			x8_1 = _mm_clmulepi64_si128(x4_1, x0_1, ((NI)0));
			nimln_(73);			x1_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)17));
			nimln_(74);			x2_1 = _mm_clmulepi64_si128(x2_1, x0_1, ((NI)17));
			nimln_(75);			x3_1 = _mm_clmulepi64_si128(x3_1, x0_1, ((NI)17));
			nimln_(76);			x4_1 = _mm_clmulepi64_si128(x4_1, x0_1, ((NI)17));
			nimln_(78);			if (nimAddInt(pos_1, ((NI)0), &TM__uhMiTRzl3cBWTrRJ8BgGyw_12)) { raiseOverflow(); goto BeforeRet_;
			};
			y5_1 = _mm_loadu_si128(((void*) ((&src_2[(NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_12)]))));
			nimln_(79);			if (nimAddInt(pos_1, ((NI)16), &TM__uhMiTRzl3cBWTrRJ8BgGyw_13)) { raiseOverflow(); goto BeforeRet_;
			};
			y6_1 = _mm_loadu_si128(((void*) ((&src_2[(NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_13)]))));
			nimln_(80);			if (nimAddInt(pos_1, ((NI)32), &TM__uhMiTRzl3cBWTrRJ8BgGyw_14)) { raiseOverflow(); goto BeforeRet_;
			};
			y7_1 = _mm_loadu_si128(((void*) ((&src_2[(NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_14)]))));
			nimln_(81);			if (nimAddInt(pos_1, ((NI)48), &TM__uhMiTRzl3cBWTrRJ8BgGyw_15)) { raiseOverflow(); goto BeforeRet_;
			};
			y8_1 = _mm_loadu_si128(((void*) ((&src_2[(NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_15)]))));
			nimln_(83);			x1_1 = _mm_xor_si128(x1_1, x5_1);
			nimln_(84);			x2_1 = _mm_xor_si128(x2_1, x6_1);
			nimln_(85);			x3_1 = _mm_xor_si128(x3_1, x7_1);
			nimln_(86);			x4_1 = _mm_xor_si128(x4_1, x8_1);
			nimln_(88);			x1_1 = _mm_xor_si128(x1_1, y5_1);
			nimln_(89);			x2_1 = _mm_xor_si128(x2_1, y6_1);
			nimln_(90);			x3_1 = _mm_xor_si128(x3_1, y7_1);
			nimln_(91);			x4_1 = _mm_xor_si128(x4_1, y8_1);
			nimln_(93);			if (nimAddInt(pos_1, ((NI)64), &TM__uhMiTRzl3cBWTrRJ8BgGyw_16)) { raiseOverflow(); goto BeforeRet_;
			};
			pos_1 = (NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_16);
			nimln_(94);			if (nimSubInt(len_2, ((NI)64), &TM__uhMiTRzl3cBWTrRJ8BgGyw_17)) { raiseOverflow(); goto BeforeRet_;
			};
			len_2 = (NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_17);
		} LA3: ;
	}
	nimln_(96);	x0_1 = _mm_load_si128(((void*) (k3k4_1)));
	nimln_(98);	x5_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)0));
	nimln_(99);	x1_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)17));
	nimln_(100);	x1_1 = _mm_xor_si128(x1_1, x2_1);
	nimln_(101);	x1_1 = _mm_xor_si128(x1_1, x5_1);
	nimln_(103);	x5_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)0));
	nimln_(104);	x1_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)17));
	nimln_(105);	x1_1 = _mm_xor_si128(x1_1, x3_1);
	nimln_(106);	x1_1 = _mm_xor_si128(x1_1, x5_1);
	nimln_(108);	x5_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)0));
	nimln_(109);	x1_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)17));
	nimln_(110);	x1_1 = _mm_xor_si128(x1_1, x4_1);
	nimln_(111);	x1_1 = _mm_xor_si128(x1_1, x5_1);
	{
		nimln_(113);		while (1) {
			NI TM__uhMiTRzl3cBWTrRJ8BgGyw_18;
			NI TM__uhMiTRzl3cBWTrRJ8BgGyw_19;
			if (!(((NI)16) <= len_2)) goto LA5;
			nimln_(114);			x2_1 = _mm_loadu_si128(((void*) ((&src_2[pos_1]))));
			nimln_(116);			x5_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)0));
			nimln_(117);			x1_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)17));
			nimln_(118);			x1_1 = _mm_xor_si128(x1_1, x2_1);
			nimln_(119);			x1_1 = _mm_xor_si128(x1_1, x5_1);
			nimln_(121);			if (nimAddInt(pos_1, ((NI)16), &TM__uhMiTRzl3cBWTrRJ8BgGyw_18)) { raiseOverflow(); goto BeforeRet_;
			};
			pos_1 = (NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_18);
			nimln_(122);			if (nimSubInt(len_2, ((NI)16), &TM__uhMiTRzl3cBWTrRJ8BgGyw_19)) { raiseOverflow(); goto BeforeRet_;
			};
			len_2 = (NI)(TM__uhMiTRzl3cBWTrRJ8BgGyw_19);
		} LA5: ;
	}
	nimln_(124);	x2_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)16));
	nimln_(125);	x3_1 = _mm_setr_epi32(((NI)-1), ((NI)0), ((NI)-1), ((NI)0));
	nimln_(126);	x1_1 = _mm_srli_si128(x1_1, ((NI)8));
	nimln_(127);	x1_1 = _mm_xor_si128(x1_1, x2_1);
	nimln_(129);	x0_1 = _mm_loadl_epi64(((void*) (k5k0_1)));
	nimln_(131);	x2_1 = _mm_srli_si128(x1_1, ((NI)4));
	nimln_(132);	x1_1 = _mm_and_si128(x1_1, x3_1);
	nimln_(133);	x1_1 = _mm_clmulepi64_si128(x1_1, x0_1, ((NI)0));
	nimln_(134);	x1_1 = _mm_xor_si128(x1_1, x2_1);
	nimln_(136);	x0_1 = _mm_load_si128(((void*) (poly_1)));
	nimln_(138);	x2_1 = _mm_and_si128(x1_1, x3_1);
	nimln_(139);	x2_1 = _mm_clmulepi64_si128(x2_1, x0_1, ((NI)16));
	nimln_(140);	x2_1 = _mm_and_si128(x2_1, x3_1);
	nimln_(141);	x2_1 = _mm_clmulepi64_si128(x2_1, x0_1, ((NI)0));
	nimln_(142);	x1_1 = _mm_xor_si128(x1_1, x2_1);
	nimln_(144);	T6_ = (NI32)0;
	T6_ = _mm_extract_epi32(x1_1, ((NI)1));
	result = ((NU32) (T6_));
	}BeforeRet_: ;
	popFrame();
	return result;
}
