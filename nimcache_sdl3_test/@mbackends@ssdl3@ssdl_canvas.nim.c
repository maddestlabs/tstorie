/* Generated by Nim Compiler v2.2.6 */
/* Compiled for: Linux, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w -fmax-errors=3 -fno-strict-aliasing -pthread -I/workspaces/telestorie/lib   -I/home/codespace/.choosenim/toolchains/nim-2.2.6/lib -I/workspaces/telestorie -o /workspaces/telestorie/nimcache_sdl3_test/@mbackends@ssdl3@ssdl_canvas.nim.c.o /workspaces/telestorie/nimcache_sdl3_test/@mbackends@ssdl3@ssdl_canvas.nim.c */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include "SDL3/SDL_init.h"
#include "SDL3/SDL_error.h"
#include "SDL3_ttf/SDL_ttf.h"
#include "SDL3/SDL.h"
#include "SDL3/SDL_video.h"
#include "SDL3/SDL_render.h"
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(proc, file) \
  TFrame FR_; \
  FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = 0; nimFrame(&FR_);

#define nimln_(n) \
  FR_.line = n;

#define nimlf_(n, file) \
  FR_.line = n; FR_.filename = file;

typedef struct tyTuple__hU79ak4NYUdNYnRLUvBkfpg tyTuple__hU79ak4NYUdNYnRLUvBkfpg;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_Style__UURjArTrf2wmcCbN5MncAQ tyObject_Style__UURjArTrf2wmcCbN5MncAQ;
typedef struct tyObject_Color__TZLGUfQjHRBnaB3m3yIxqQ tyObject_Color__TZLGUfQjHRBnaB3m3yIxqQ;
typedef struct tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw;
typedef struct tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ;
typedef struct tyTuple__hSHiEU6uEtL7soi1F4tKCg tyTuple__hSHiEU6uEtL7soi1F4tKCg;
typedef struct tyObject_Option__VDiubsYkEKLfAsoBlIa5Hw tyObject_Option__VDiubsYkEKLfAsoBlIa5Hw;
typedef struct tyTuple__FtZxsWeKlOo83uVL9c4OOmg tyTuple__FtZxsWeKlOo83uVL9c4OOmg;
typedef struct tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ;
struct NimStrPayload {
	NI cap;
	NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
	NI len;
	NimStrPayload* p;
};
struct tyObject_Color__TZLGUfQjHRBnaB3m3yIxqQ {
	NU8 r;
	NU8 g;
	NU8 b;
};
struct tyObject_Style__UURjArTrf2wmcCbN5MncAQ {
	tyObject_Color__TZLGUfQjHRBnaB3m3yIxqQ fg;
	tyObject_Color__TZLGUfQjHRBnaB3m3yIxqQ bg;
	NIM_BOOL bold;
	NIM_BOOL underline;
	NIM_BOOL italic;
	NIM_BOOL dim;
};
struct tyTuple__hU79ak4NYUdNYnRLUvBkfpg {
	NimStringV2 Field0;
	tyObject_Style__UURjArTrf2wmcCbN5MncAQ Field1;
};
struct tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ {
	NI rc;
	NI rootIdx;
};
struct tyTuple__hSHiEU6uEtL7soi1F4tKCg {
	NU8 Field0;
	NU8 Field1;
	NU8 Field2;
};
struct tyTuple__FtZxsWeKlOo83uVL9c4OOmg {
	NI Field0;
	NI Field1;
	NI Field2;
	NI Field3;
};
struct tyObject_Option__VDiubsYkEKLfAsoBlIa5Hw {
	tyTuple__FtZxsWeKlOo83uVL9c4OOmg val;
	NIM_BOOL has;
};
struct tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ {
	NI Field0;
	NI Field1;
};
struct tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw {
	SDL_Window* window;
	SDL_Renderer* renderer;
	NI width;
	NI height;
	tyTuple__hSHiEU6uEtL7soi1F4tKCg bgColor;
	tyObject_Option__VDiubsYkEKLfAsoBlIa5Hw clipRect;
	tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ offset;
	TTF_Font* font;
	NIM_BOOL useTTF;
};
typedef NimStringV2 tyArray__Re75IspeoxXy2oCZHwcRrA[2];
typedef NimStringV2 tyArray__nHXaesL0DJZHyVS07ARPRA[1];
N_LIB_PRIVATE N_NOCONV(void, deallocShared)(void* p_p0);
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0);
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1);
static N_INLINE(void, nimFrame)(TFrame* s_p0);
N_LIB_PRIVATE N_NOINLINE(void, callDepthLimitReached__system_u4643)(void);
static N_INLINE(void, popFrame)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95canvas_u91)(tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size_p0, NI alignment_p1);
static N_INLINE(void, none__backendsZsdl3Zsdl95canvas_u46)(tyObject_Option__VDiubsYkEKLfAsoBlIa5Hw* Result);
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, cstrToNimstr)(NCSTRING str_p0);
N_LIB_PRIVATE N_NIMCALL(void, echoBinSafe)(NimStringV2* args_p0, NI args_p0Len_0);
N_LIB_PRIVATE N_NIMCALL(void, init__backendsZsdl3Zsdl95fonts_u603)(void);
N_LIB_PRIVATE N_NIMCALL(TTF_Font*, getDefaultFont__backendsZsdl3Zsdl95fonts_u2620)(void);
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s_p0);
N_LIB_PRIVATE N_NOINLINE(void, raiseRangeErrorI)(NI64 i_p0, NI64 a_p1, NI64 b_p2);
N_LIB_PRIVATE N_NIMCALL(void, shutdown__backendsZsdl3Zsdl95fonts_u604)(void);
static const struct {
  NI cap; NIM_CHAR data[26+1];
} TM__SSaROBXxOTPQwZpw5Hlivg_2 = { 26 | NIM_STRLIT_FLAG, "Failed to initialize SDL: " };
static const NimStringV2 TM__SSaROBXxOTPQwZpw5Hlivg_3 = {26, (NimStrPayload*)&TM__SSaROBXxOTPQwZpw5Hlivg_2};
static const struct {
  NI cap; NIM_CHAR data[67+1];
} TM__SSaROBXxOTPQwZpw5Hlivg_5 = { 67 | NIM_STRLIT_FLAG, "[Canvas] Warning: No TTF font available, falling back to debug text" };
static const struct {
  NI cap; NIM_CHAR data[25+1];
} TM__SSaROBXxOTPQwZpw5Hlivg_6 = { 25 | NIM_STRLIT_FLAG, "Failed to create window: " };
static const NimStringV2 TM__SSaROBXxOTPQwZpw5Hlivg_7 = {25, (NimStrPayload*)&TM__SSaROBXxOTPQwZpw5Hlivg_6};
static const struct {
  NI cap; NIM_CHAR data[27+1];
} TM__SSaROBXxOTPQwZpw5Hlivg_8 = { 27 | NIM_STRLIT_FLAG, "Failed to create renderer: " };
static const NimStringV2 TM__SSaROBXxOTPQwZpw5Hlivg_9 = {27, (NimStrPayload*)&TM__SSaROBXxOTPQwZpw5Hlivg_8};
static NIM_CONST tyArray__nHXaesL0DJZHyVS07ARPRA TM__SSaROBXxOTPQwZpw5Hlivg_4 = {{67, (NimStrPayload*)&TM__SSaROBXxOTPQwZpw5Hlivg_5}}
;
extern NIM_THREADVAR TFrame* framePtr__system_u2743;
extern NIM_THREADVAR NIM_BOOL nimInErrorMode__system_u4425;
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95canvas_u268)(tyTuple__hU79ak4NYUdNYnRLUvBkfpg* dest_p0) {
	if ((*dest_p0).Field0.p && !((*dest_p0).Field0.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared((*dest_p0).Field0.p);
}
}
static N_INLINE(void, nimFrame)(TFrame* s_p0) {
	{
		if (!(framePtr__system_u2743 == ((TFrame*) NIM_NIL))) goto LA3_;
		(*s_p0).calldepth = ((NI16)0);
	}
	goto LA1_;
LA3_: ;
	{
		(*s_p0).calldepth = (NI16)((*framePtr__system_u2743).calldepth + ((NI16)1));
	}
LA1_: ;
	(*s_p0).prev = framePtr__system_u2743;
	framePtr__system_u2743 = s_p0;
	{
		if (!((*s_p0).calldepth == ((NI16)2000))) goto LA8_;
		callDepthLimitReached__system_u4643();
	}
LA8_: ;
}
static N_INLINE(void, popFrame)(void) {
	framePtr__system_u2743 = (*framePtr__system_u2743).prev;
}
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1) {
	NI result;
	nimfr_("-%", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");
	nimlf_(364, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");	nimln_(368);	result = ((NI) ((NU)((NU64)(((NU) (x_p0))) - (NU64)(((NU) (y_p1))))));
	popFrame();
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0) {
	NIM_BOOL result;
	nimfr_("nimDecRefIsLast", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");
	nimlf_(219, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");	result = NIM_FALSE;
	nimln_(220);	{
		tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ* cell_1;
		NI T5_;
		if (!!((p_p0 == NIM_NIL))) goto LA3_;
		nimln_(221);		nimln_(60);		T5_ = (NI)0;
		T5_ = minuspercent___system_u813(((NI) (ptrdiff_t) (p_p0)), ((NI)16));
		cell_1 = ((tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ*) (T5_));
		nimln_(235);		{
			if (!((NI)((NI64)((*cell_1).rc) >> (NU64)(((NI)4))) == ((NI)0))) goto LA8_;
			nimln_(236);			result = NIM_TRUE;
		}
		goto LA6_;
LA8_: ;
		{
			nimln_(86);			(*cell_1).rc = minuspercent___system_u813((*cell_1).rc, ((NI)16));
		}
LA6_: ;
	}
LA3_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95canvas_u91)(tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw* dest_p0) {
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95canvas_u125)(tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw* dest_p0) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast(dest_p0);
		if (!T3_) goto LA4_;
		eqdestroy___backendsZsdl3Zsdl95canvas_u91((&(*dest_p0)));
		nimRawDispose(dest_p0, ((NI)8));
	}
LA4_: ;
}
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4425);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, none__backendsZsdl3Zsdl95canvas_u46)(tyObject_Option__VDiubsYkEKLfAsoBlIa5Hw* Result) {
	nimfr_("none", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/options.nim");
	nimlf_(155, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/options.nim");	nimZeroMem((void*)Result, sizeof(tyObject_Option__VDiubsYkEKLfAsoBlIa5Hw));
	popFrame();
}
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s_p0) {
	NCSTRING result;
	{
		if (!(s_p0.len == ((NI)0))) goto LA3_;
		result = "";
	}
	goto LA1_;
LA3_: ;
	{
		result = ((NCSTRING) ((*s_p0.p).data));
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw*, newSDLCanvas__backendsZsdl3Zsdl95canvas_u37)(NI width_p0, NI height_p1, NimStringV2 title_p2) {
	tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw* result;
	tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw* T1_;
	NI colontmp_;
	NI colontmp__2;
	TTF_Font* T12_;
NIM_BOOL* nimErr_;
	nimfr_("newSDLCanvas", "/workspaces/telestorie/backends/sdl3/sdl_canvas.nim");
{nimErr_ = nimErrorFlag();
	nimlf_(25, "/workspaces/telestorie/backends/sdl3/sdl_canvas.nim");	T1_ = NIM_NIL;
	T1_ = (tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw*) nimNewObj(sizeof(tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw), NIM_ALIGNOF(tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw));
	result = T1_;
	nimln_(26);	(*result).width = width_p0;
	nimln_(27);	(*result).height = height_p1;
	nimln_(28);	none__backendsZsdl3Zsdl95canvas_u46((&(*result).clipRect));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(29);	colontmp_ = ((NI)0);
	colontmp__2 = ((NI)0);
	(*result).offset.Field0 = colontmp_;
	(*result).offset.Field1 = colontmp__2;
	nimln_(30);	(*result).useTTF = NIM_TRUE;
	nimln_(33);	{
		int T4_;
		NimStringV2 colontmpD_;
		tyArray__Re75IspeoxXy2oCZHwcRrA T8_;
		NCSTRING T9_;
		T4_ = (int)0;
		T4_ = SDL_Init(((NU32)16416));
		if (!!((T4_ == ((NI32)0)))) goto LA5_;
		colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
		nimln_(34);		T8_[0] = TM__SSaROBXxOTPQwZpw5Hlivg_3;
		T9_ = (NCSTRING)0;
		T9_ = SDL_GetError();
		colontmpD_ = cstrToNimstr(T9_);
		T8_[1] = colontmpD_;
		echoBinSafe(T8_, 2);
		nimln_(35);		nimln_(23);		nimln_(35);		result = ((tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw*) NIM_NIL);
		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		goto BeforeRet_;
		{
			LA7_:;
		}
		{
			if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA5_: ;
	nimlf_(38, "/workspaces/telestorie/backends/sdl3/sdl_canvas.nim");	init__backendsZsdl3Zsdl95fonts_u603();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(39);	T12_ = (TTF_Font*)0;
	T12_ = getDefaultFont__backendsZsdl3Zsdl95fonts_u2620();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	(*result).font = T12_;
	nimln_(40);	{
		if (!((*result).font == 0)) goto LA15_;
		nimln_(41);		echoBinSafe(TM__SSaROBXxOTPQwZpw5Hlivg_4, 1);
		nimln_(42);		(*result).useTTF = NIM_FALSE;
	}
LA15_: ;
	nimln_(52);	if (((*result).width) < ((int)(-2147483647 -1)) || ((*result).width) > ((int)2147483647)){ raiseRangeErrorI((*result).width, ((int)(-2147483647 -1)), ((int)2147483647)); goto BeforeRet_;
	}
	if (((*result).height) < ((int)(-2147483647 -1)) || ((*result).height) > ((int)2147483647)){ raiseRangeErrorI((*result).height, ((int)(-2147483647 -1)), ((int)2147483647)); goto BeforeRet_;
	}
	(*result).window = SDL_CreateWindow(nimToCStringConv(title_p2), ((int) ((*result).width)), ((int) ((*result).height)), 32ULL);
	nimln_(59);	{
		NimStringV2 colontmpD__2;
		tyArray__Re75IspeoxXy2oCZHwcRrA T22_;
		NCSTRING T23_;
		if (!((*result).window == 0)) goto LA19_;
		colontmpD__2.len = 0; colontmpD__2.p = NIM_NIL;
		nimln_(60);		T22_[0] = TM__SSaROBXxOTPQwZpw5Hlivg_7;
		T23_ = (NCSTRING)0;
		T23_ = SDL_GetError();
		colontmpD__2 = cstrToNimstr(T23_);
		T22_[1] = colontmpD__2;
		echoBinSafe(T22_, 2);
		nimln_(61);		SDL_Quit();
		nimln_(62);		nimln_(23);		nimln_(62);		result = ((tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw*) NIM_NIL);
		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		goto BeforeRet_;
		{
			LA21_:;
		}
		{
			if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA19_: ;
	nimlf_(65, "/workspaces/telestorie/backends/sdl3/sdl_canvas.nim");	(*result).renderer = SDL_CreateRenderer((*result).window, ((NCSTRING) NIM_NIL));
	nimln_(67);	{
		NimStringV2 colontmpD__3;
		tyArray__Re75IspeoxXy2oCZHwcRrA T31_;
		NCSTRING T32_;
		if (!((*result).renderer == 0)) goto LA28_;
		colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
		nimln_(68);		T31_[0] = TM__SSaROBXxOTPQwZpw5Hlivg_9;
		T32_ = (NCSTRING)0;
		T32_ = SDL_GetError();
		colontmpD__3 = cstrToNimstr(T32_);
		T31_[1] = colontmpD__3;
		echoBinSafe(T31_, 2);
		nimln_(69);		SDL_DestroyWindow((*result).window);
		nimln_(70);		SDL_Quit();
		nimln_(71);		nimln_(23);		nimln_(71);		result = ((tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw*) NIM_NIL);
		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__3.p && !(colontmpD__3.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__3.p);
}
		goto BeforeRet_;
		{
			LA30_:;
		}
		{
			if (colontmpD__3.p && !(colontmpD__3.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__3.p);
}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA28_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, clear__backendsZsdl3Zsdl95canvas_u250)(tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw* canvas_p0, tyTuple__hSHiEU6uEtL7soi1F4tKCg bgColor_p1) {
	NIM_BOOL T1_;
	NIM_BOOL T2_;
	nimfr_("clear", "/workspaces/telestorie/backends/sdl3/sdl_canvas.nim");
	nimlf_(123, "/workspaces/telestorie/backends/sdl3/sdl_canvas.nim");	T1_ = (NIM_BOOL)0;
	T1_ = SDL_SetRenderDrawColor((*canvas_p0).renderer, bgColor_p1.Field0, bgColor_p1.Field1, bgColor_p1.Field2, ((NU8)255));
	(void)(T1_);
	nimln_(124);	T2_ = (NIM_BOOL)0;
	T2_ = SDL_RenderClear((*canvas_p0).renderer);
	(void)(T2_);
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, shutdown__backendsZsdl3Zsdl95canvas_u185)(tyObject_SDLCanvascolonObjectType___jfiVz4osS74NJSSsVwIKkw* canvas_p0) {
NIM_BOOL* nimErr_;
	nimfr_("shutdown", "/workspaces/telestorie/backends/sdl3/sdl_canvas.nim");
{nimErr_ = nimErrorFlag();
	nimln_(75);	shutdown__backendsZsdl3Zsdl95fonts_u604();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimln_(76);	{
		if (!!(((*canvas_p0).renderer == 0))) goto LA3_;
		nimln_(77);		SDL_DestroyRenderer((*canvas_p0).renderer);
	}
LA3_: ;
	nimln_(78);	{
		if (!!(((*canvas_p0).window == 0))) goto LA7_;
		nimln_(79);		SDL_DestroyWindow((*canvas_p0).window);
	}
LA7_: ;
	nimln_(80);	SDL_Quit();
	}BeforeRet_: ;
	popFrame();
}
