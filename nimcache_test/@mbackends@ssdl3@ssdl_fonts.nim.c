/* Generated by Nim Compiler v2.2.6 */
/* Compiled for: Linux, wasm32, clang */
/* Command for C compiler:
   emcc -c -w -ferror-limit=3 -fno-strict-aliasing -pthread   -I/home/codespace/.choosenim/toolchains/nim-2.2.6/lib -I/workspaces/telestorie -o /workspaces/telestorie/nimcache_test/@mbackends@ssdl3@ssdl_fonts.nim.c.o /workspaces/telestorie/nimcache_test/@mbackends@ssdl3@ssdl_fonts.nim.c */
#define NIM_INTBITS 32

#include "nimbase.h"
#include <string.h>
#include "SDL3/SDL.h"
#include "SDL3/SDL_rect.h"
#include "SDL3/SDL_render.h"
#include "SDL3/SDL_pixels.h"
#include "SDL3_ttf/SDL_ttf.h"
#include "SDL3/SDL_surface.h"
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(proc, file) \
  TFrame FR_; \
  FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = 0; nimFrame(&FR_);

#define nimln_(n) \
  FR_.line = n;

#define nimlf_(n, file) \
  FR_.line = n; FR_.filename = file;

typedef struct tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw;
typedef struct tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyTuple__hSHiEU6uEtL7soi1F4tKCg tyTuple__hSHiEU6uEtL7soi1F4tKCg;
typedef struct tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ;
typedef struct tySequence__IM39bYRG4nsV1TeicWPjvjg tySequence__IM39bYRG4nsV1TeicWPjvjg;
typedef struct tySequence__IM39bYRG4nsV1TeicWPjvjg_Content tySequence__IM39bYRG4nsV1TeicWPjvjg_Content;
typedef struct tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ;
typedef struct tyTuple__8UPuicltHGA3VJ3rtdHaow tyTuple__8UPuicltHGA3VJ3rtdHaow;
typedef struct tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ;
typedef struct tySequence__9bTnbkRBTC5HY9cBND9azv7Gw tySequence__9bTnbkRBTC5HY9cBND9azv7Gw;
typedef struct tySequence__9bTnbkRBTC5HY9cBND9azv7Gw_Content tySequence__9bTnbkRBTC5HY9cBND9azv7Gw_Content;
typedef struct tyObject_Table__pHZlZiWdyKeIxP1cX9aB8RQ tyObject_Table__pHZlZiWdyKeIxP1cX9aB8RQ;
typedef struct tyTuple__QtUZD4UVv4QS49cIQ6mfN0A tyTuple__QtUZD4UVv4QS49cIQ6mfN0A;
typedef struct tyTuple__XOVT24GHXwqiEj5GCsEGCA tyTuple__XOVT24GHXwqiEj5GCsEGCA;
struct NimStrPayload {
	NI cap;
	NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
	NI len;
	NimStrPayload* p;
};
struct tyTuple__hSHiEU6uEtL7soi1F4tKCg {
	NU8 Field0;
	NU8 Field1;
	NU8 Field2;
};
struct tySequence__IM39bYRG4nsV1TeicWPjvjg {
  NI len; tySequence__IM39bYRG4nsV1TeicWPjvjg_Content* p;
};
struct tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ {
	tySequence__IM39bYRG4nsV1TeicWPjvjg data;
	NI counter;
};
struct tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ {
	tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ textures;
	NI maxCacheSize;
};
struct tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ {
	SDL_Texture* texture;
	NI width;
	NI height;
	NI lastUsed;
};
typedef NimStringV2 tyArray__Re75IspeoxXy2oCZHwcRrA[2];
struct tyTuple__8UPuicltHGA3VJ3rtdHaow {
	NI Field0;
	NimStringV2 Field1;
	tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ Field2;
};
struct tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ {
	NI rc;
	NI rootIdx;
};
struct tySequence__9bTnbkRBTC5HY9cBND9azv7Gw {
  NI len; tySequence__9bTnbkRBTC5HY9cBND9azv7Gw_Content* p;
};
struct tyObject_Table__pHZlZiWdyKeIxP1cX9aB8RQ {
	tySequence__9bTnbkRBTC5HY9cBND9azv7Gw data;
	NI counter;
};
struct tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw {
	tyObject_Table__pHZlZiWdyKeIxP1cX9aB8RQ fonts;
	TTF_Font* defaultFont;
	NF defaultSize;
};
typedef NimStringV2 tyArray__24KAM9afIUgUaqBaEBB6r9bg[3];
typedef NimStringV2 tyArray__nHXaesL0DJZHyVS07ARPRA[1];
struct tySequence__IM39bYRG4nsV1TeicWPjvjg_Content { NI cap; tyTuple__8UPuicltHGA3VJ3rtdHaow data[SEQ_DECL_SIZE]; };
struct tyTuple__XOVT24GHXwqiEj5GCsEGCA {
	NimStringV2 Field0;
	NI Field1;
};
struct tyTuple__QtUZD4UVv4QS49cIQ6mfN0A {
	NI Field0;
	tyTuple__XOVT24GHXwqiEj5GCsEGCA Field1;
	TTF_Font* Field2;
};
struct tySequence__9bTnbkRBTC5HY9cBND9azv7Gw_Content { NI cap; tyTuple__QtUZD4UVv4QS49cIQ6mfN0A data[SEQ_DECL_SIZE]; };
N_LIB_PRIVATE N_NOCONV(void, deallocShared)(void* p_p0);
static N_INLINE(void, appendString)(NimStringV2* dest_p0, NimStringV2 src_p1);
static N_INLINE(void, copyMem__system_u1741)(void* dest_p0, void* source_p1, NI size_p2);
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2);
N_LIB_PRIVATE N_NOINLINE(void, raiseRangeErrorI)(NI64 i_p0, NI64 a_p1, NI64 b_p2);
N_LIB_PRIVATE N_NOINLINE(void, raiseOverflow)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZdollars_u44)(NU8 xX60gensym6__p0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZdollars_u14)(NI xX60gensym0__p0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, rawNewString)(NI space_p0);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, hasKey__backendsZsdl3Zsdl95fonts_u2676)(tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ t_p0, NimStringV2 key_p1);
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ*, X5BX5D___backendsZsdl3Zsdl95fonts_u2939)(tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ* t_p0, NimStringV2 key_p1);
N_LIB_PRIVATE N_NIMCALL(void, X5BX5Deq___backendsZsdl3Zsdl95fonts_u3061)(tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ* t_p0, NimStringV2 key_p1, tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ val_p2);
N_LIB_PRIVATE N_NIMCALL(tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ, eqdup___backendsZsdl3Zsdl95fonts_u3662)(tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ src_p0);
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s_p0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, cstrToNimstr)(NCSTRING str_p0);
N_LIB_PRIVATE N_NIMCALL(void, echoBinSafe)(NimStringV2* args_p0, NI args_p0Len_0);
N_LIB_PRIVATE N_NIMCALL(NI, len__backendsZsdl3Zsdl95fonts_u882)(tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ t_p0);
static N_INLINE(NIM_BOOL, isFilled__pureZcollectionsZtables_u31)(NI hcode_p0);
static N_INLINE(void, nimFrame)(TFrame* s_p0);
N_LIB_PRIVATE N_NOINLINE(void, callDepthLimitReached__system_u4625)(void);
static N_INLINE(void, popFrame)(void);
N_LIB_PRIVATE N_NOINLINE(void, raiseIndexError2)(NI i_p0, NI n_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___system_u2692)(NimStringV2* dest_p0, NimStringV2 src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___system_u2698)(NimStringV2* dest_p0, NimStringV2 src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___system_u2689)(NimStringV2* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, failedAssertImpl__stdZassertions_u234)(NimStringV2 msg_p0);
N_LIB_PRIVATE N_NIMCALL(void, del__backendsZsdl3Zsdl95fonts_u4479)(tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ* t_p0, NimStringV2 key_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___backendsZsdl3Zsdl95fonts_u311)(tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw** dest_p0, tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw* src_p1);
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0);
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u279)(tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u166)(tySequence__9bTnbkRBTC5HY9cBND9azv7Gw dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw*, initFontCache__backendsZsdl3Zsdl95fonts_u40)(void);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___backendsZsdl3Zsdl95fonts_u157)(tyObject_Table__pHZlZiWdyKeIxP1cX9aB8RQ* dest_p0, tyObject_Table__pHZlZiWdyKeIxP1cX9aB8RQ src_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_Table__pHZlZiWdyKeIxP1cX9aB8RQ, initTable__backendsZsdl3Zsdl95fonts_u54)(NI initialSize_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u148)(tyObject_Table__pHZlZiWdyKeIxP1cX9aB8RQ* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u302)(tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___backendsZsdl3Zsdl95fonts_u590)(tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ** dest_p0, tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ* src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u559)(tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u516)(tySequence__IM39bYRG4nsV1TeicWPjvjg dest_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ*, initTextureCache__backendsZsdl3Zsdl95fonts_u343)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___backendsZsdl3Zsdl95fonts_u507)(tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ* dest_p0, tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ src_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ, initTable__backendsZsdl3Zsdl95fonts_u357)(NI initialSize_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u498)(tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u581)(tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ* dest_p0);
static const struct {
  NI cap; NIM_CHAR data[39+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_3 = { 39 | NIM_STRLIT_FLAG, "[Fonts] Failed to render text surface: " };
static const NimStringV2 TM__ke5zx9bh9bosnlsWNavZNJFw_4 = {39, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_3};
static const struct {
  NI cap; NIM_CHAR data[47+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_5 = { 47 | NIM_STRLIT_FLAG, "[Fonts] Failed to create texture from surface: " };
static const NimStringV2 TM__ke5zx9bh9bosnlsWNavZNJFw_6 = {47, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_5};
static const struct {
  NI cap; NIM_CHAR data[0+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_7 = { 0 | NIM_STRLIT_FLAG, "" };
static const NimStringV2 TM__ke5zx9bh9bosnlsWNavZNJFw_8 = {0, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_7};
static const struct {
  NI cap; NIM_CHAR data[158+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_9 = { 158 | NIM_STRLIT_FLAG, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/tables.nim(771, 13) `len(t) == L` the length of the table changed while iterating over it" };
static const NimStringV2 TM__ke5zx9bh9bosnlsWNavZNJFw_10 = {158, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_9};
static const struct {
  NI cap; NIM_CHAR data[34+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_13 = { 34 | NIM_STRLIT_FLAG, "[Fonts] Failed to initialize TTF: " };
static const NimStringV2 TM__ke5zx9bh9bosnlsWNavZNJFw_14 = {34, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_13};
static const struct {
  NI cap; NIM_CHAR data[51+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_15 = { 51 | NIM_STRLIT_FLAG, "/usr/share/fonts/truetype/dejavu/DejaVuSansMono.ttf" };
static const struct {
  NI cap; NIM_CHAR data[39+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_16 = { 39 | NIM_STRLIT_FLAG, "/usr/share/fonts/TTF/DejaVuSansMono.ttf" };
static const struct {
  NI cap; NIM_CHAR data[63+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_17 = { 63 | NIM_STRLIT_FLAG, "/usr/share/fonts/truetype/liberation/LiberationMono-Regular.ttf" };
static const struct {
  NI cap; NIM_CHAR data[33+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_18 = { 33 | NIM_STRLIT_FLAG, "[FontCache] Loaded default font: " };
static const NimStringV2 TM__ke5zx9bh9bosnlsWNavZNJFw_19 = {33, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_18};
static const struct {
  NI cap; NIM_CHAR data[42+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_21 = { 42 | NIM_STRLIT_FLAG, "[FontCache] Warning: No default font found" };
static const struct {
  NI cap; NIM_CHAR data[27+1];
} TM__ke5zx9bh9bosnlsWNavZNJFw_23 = { 27 | NIM_STRLIT_FLAG, "[Fonts] SDL_ttf initialized" };
N_LIB_PRIVATE NIM_CONST tyArray__24KAM9afIUgUaqBaEBB6r9bg defaultPaths__backendsZsdl3Zsdl95fonts_u206 = {{51, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_15},
{39, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_16},
{63, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_17}}
;
static NIM_CONST tyArray__nHXaesL0DJZHyVS07ARPRA TM__ke5zx9bh9bosnlsWNavZNJFw_20 = {{42, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_21}}
;
static NIM_CONST tyArray__nHXaesL0DJZHyVS07ARPRA TM__ke5zx9bh9bosnlsWNavZNJFw_22 = {{27, (NimStrPayload*)&TM__ke5zx9bh9bosnlsWNavZNJFw_23}}
;
N_LIB_PRIVATE tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw* globalFontCache__backendsZsdl3Zsdl95fonts_u37;
N_LIB_PRIVATE tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ* globalTextureCache__backendsZsdl3Zsdl95fonts_u38;
N_LIB_PRIVATE NI frameCounter__backendsZsdl3Zsdl95fonts_u39 = ((NI)0);
extern NIM_THREADVAR NIM_BOOL nimInErrorMode__system_u4407;
extern NIM_THREADVAR TFrame* framePtr__system_u2725;
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest_p0, source_p1, ((size_t) (size_p2)));
}
static N_INLINE(void, copyMem__system_u1741)(void* dest_p0, void* source_p1, NI size_p2) {
	nimCopyMem(dest_p0, source_p1, size_p2);
}
static N_INLINE(void, appendString)(NimStringV2* dest_p0, NimStringV2 src_p1) {
{	{
		NI TM__ke5zx9bh9bosnlsWNavZNJFw_2;
		if (!(((NI)0) < src_p1.len)) goto LA3_;
		if ((src_p1.len) < ((NI)0) || (src_p1.len) > ((NI)2147483647)){ raiseRangeErrorI(src_p1.len, ((NI)0), ((NI)2147483647)); goto BeforeRet_;
		}
		copyMem__system_u1741(((void*) ((&(*(*dest_p0).p).data[(*dest_p0).len]))), ((void*) ((&(*src_p1.p).data[((NI)0)]))), (src_p1.len));
		if (nimAddInt((*dest_p0).len, src_p1.len, &TM__ke5zx9bh9bosnlsWNavZNJFw_2)) { raiseOverflow(); goto BeforeRet_;
		};
		(*dest_p0).len = (NI)(TM__ke5zx9bh9bosnlsWNavZNJFw_2);
		(*(*dest_p0).p).data[(*dest_p0).len] = 0;
	}
LA3_: ;
	}BeforeRet_: ;
}
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4407);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___backendsZsdl3Zsdl95fonts_u3653)(tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ* dest_p0) {
	(*dest_p0).texture = 0;
	(*dest_p0).width = 0;
	(*dest_p0).height = 0;
	(*dest_p0).lastUsed = 0;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ, eqdup___backendsZsdl3Zsdl95fonts_u3662)(tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ src_p0) {
	tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ result;
	nimZeroMem((void*)(&result), sizeof(tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ));
	result.texture = src_p0.texture;
	result.width = src_p0.width;
	result.height = src_p0.height;
	result.lastUsed = src_p0.lastUsed;
	return result;
}
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s_p0) {
	NCSTRING result;
	{
		if (!(s_p0.len == ((NI)0))) goto LA3_;
		result = "";
	}
	goto LA1_;
LA3_: ;
	{
		result = ((NCSTRING) ((*s_p0.p).data));
	}
LA1_: ;
	return result;
}
static N_INLINE(void, nimFrame)(TFrame* s_p0) {
	{
		if (!(framePtr__system_u2725 == ((TFrame*) NIM_NIL))) goto LA3_;
		(*s_p0).calldepth = ((NI16)0);
	}
	goto LA1_;
LA3_: ;
	{
		(*s_p0).calldepth = (NI16)((*framePtr__system_u2725).calldepth + ((NI16)1));
	}
LA1_: ;
	(*s_p0).prev = framePtr__system_u2725;
	framePtr__system_u2725 = s_p0;
	{
		if (!((*s_p0).calldepth == ((NI16)2000))) goto LA8_;
		callDepthLimitReached__system_u4625();
	}
LA8_: ;
}
static N_INLINE(void, popFrame)(void) {
	framePtr__system_u2725 = (*framePtr__system_u2725).prev;
}
static N_INLINE(NIM_BOOL, isFilled__pureZcollectionsZtables_u31)(NI hcode_p0) {
	NIM_BOOL result;
	nimfr_("isFilled", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/hashcommon.nim");
	nimlf_(27, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/hashcommon.nim");	result = !((hcode_p0 == ((NI)0)));
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u3656)(tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ* dest_p0) {
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, renderText__backendsZsdl3Zsdl95fonts_u2625)(SDL_Renderer* renderer_p0, TTF_Font* font_p1, NimStringV2 text_p2, NF x_p3, NF y_p4, tyTuple__hSHiEU6uEtL7soi1F4tKCg color_p5) {
	NIM_BOOL result;
	NimStringV2 cacheKey_1;
	NimStringV2 colontmpD_;
	NimStringV2 colontmpD__2;
	NimStringV2 colontmpD__3;
	NimStringV2 colontmpD__4;
	NimStringV2 T6_;
	SDL_Color sdlColor_1;
	SDL_Surface* surface_1;
	int colontmpD__7;
	int colontmpD__8;
	NI colontmpD__9;
	SDL_Texture* texture_1;
	tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ T64_;
	SDL_FRect dstRect_2;
	NI TM__ke5zx9bh9bosnlsWNavZNJFw_12;
NIM_BOOL* nimErr_;
	nimfr_("renderText", "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	cacheKey_1.len = 0; cacheKey_1.p = NIM_NIL;
	colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
	colontmpD__2.len = 0; colontmpD__2.p = NIM_NIL;
	colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
	colontmpD__4.len = 0; colontmpD__4.p = NIM_NIL;
	nimlf_(128, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	{
		if (!(font_p1 == 0)) goto LA4_;
		nimln_(129);		nimln_(125);		nimln_(129);		result = NIM_FALSE;
		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__4.p && !(colontmpD__4.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__4.p);
}
		if (colontmpD__3.p && !(colontmpD__3.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__3.p);
}
		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		if (cacheKey_1.p && !(cacheKey_1.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(cacheKey_1.p);
}
		goto BeforeRet_;
	}
LA4_: ;
	nimlf_(132, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	T6_.len = 0; T6_.p = NIM_NIL;
	colontmpD_ = dollar___systemZdollars_u44(color_p5.Field0);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmpD__2 = dollar___systemZdollars_u44(color_p5.Field1);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmpD__3 = dollar___systemZdollars_u44(color_p5.Field2);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmpD__4 = dollar___systemZdollars_u14(((NI) (ptrdiff_t) (font_p1)));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T6_ = rawNewString(text_p2.len + colontmpD_.len + colontmpD__2.len + colontmpD__3.len + colontmpD__4.len + 0);
appendString((&T6_), text_p2);
appendString((&T6_), colontmpD_);
appendString((&T6_), colontmpD__2);
appendString((&T6_), colontmpD__3);
appendString((&T6_), colontmpD__4);
	cacheKey_1 = T6_;
	nimln_(135);	{
		NIM_BOOL T9_;
		tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ colontmpD__5;
		tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ cached_1;
		tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ* T12_;
		SDL_FRect dstRect_1;
		T9_ = (NIM_BOOL)0;
		T9_ = hasKey__backendsZsdl3Zsdl95fonts_u2676((*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures, cacheKey_1);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (!T9_) goto LA10_;
		nimZeroMem((void*)(&colontmpD__5), sizeof(tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ));
		nimln_(136);		T12_ = (tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ*)0;
		T12_ = X5BX5D___backendsZsdl3Zsdl95fonts_u2939((&(*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures), cacheKey_1);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		cached_1 = (*T12_);
		nimln_(137);		cached_1.lastUsed = frameCounter__backendsZsdl3Zsdl95fonts_u39;
		nimln_(138);		nimlf_(170, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		colontmpD__5 = eqdup___backendsZsdl3Zsdl95fonts_u3662(cached_1);
		nimlf_(138, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");		X5BX5Deq___backendsZsdl3Zsdl95fonts_u3061((&(*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures), cacheKey_1, colontmpD__5);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		nimln_(141);		dstRect_1.x = ((float) (x_p3));
		dstRect_1.y = ((float) (y_p4));
		dstRect_1.w = ((float) (cached_1.width));
		dstRect_1.h = ((float) (cached_1.height));
		nimln_(143);		nimln_(125);		nimln_(143);		result = SDL_RenderTexture(renderer_p0, cached_1.texture, ((SDL_FRect*) NIM_NIL), (&dstRect_1));
		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__4.p && !(colontmpD__4.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__4.p);
}
		if (colontmpD__3.p && !(colontmpD__3.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__3.p);
}
		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		if (cacheKey_1.p && !(cacheKey_1.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(cacheKey_1.p);
}
		goto BeforeRet_;
	}
LA10_: ;
	nimlf_(146, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	sdlColor_1.r = color_p5.Field0;
	sdlColor_1.g = color_p5.Field1;
	sdlColor_1.b = color_p5.Field2;
	sdlColor_1.a = ((NU8)255);
	nimln_(147);	surface_1 = TTF_RenderText_Blended(font_p1, nimToCStringConv(text_p2), ((size_t) (text_p2.len)), sdlColor_1);
	nimln_(149);	{
		NimStringV2 colontmpD__6;
		tyArray__Re75IspeoxXy2oCZHwcRrA T18_;
		NCSTRING T19_;
		if (!(surface_1 == 0)) goto LA15_;
		colontmpD__6.len = 0; colontmpD__6.p = NIM_NIL;
		nimln_(150);		T18_[0] = TM__ke5zx9bh9bosnlsWNavZNJFw_4;
		T19_ = (NCSTRING)0;
		T19_ = SDL_GetError();
		colontmpD__6 = cstrToNimstr(T19_);
		T18_[1] = colontmpD__6;
		echoBinSafe(T18_, 2);
		nimln_(151);		nimln_(125);		nimln_(151);		result = NIM_FALSE;
		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__6.p && !(colontmpD__6.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__6.p);
}
		if (colontmpD__4.p && !(colontmpD__4.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__4.p);
}
		if (colontmpD__3.p && !(colontmpD__3.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__3.p);
}
		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		if (cacheKey_1.p && !(cacheKey_1.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(cacheKey_1.p);
}
		goto BeforeRet_;
		{
			LA17_:;
		}
		{
			if (colontmpD__6.p && !(colontmpD__6.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__6.p);
}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
LA15_: ;
	colontmpD__7 = (int)0;
	colontmpD__8 = (int)0;
	colontmpD__9 = (NI)0;
	nimlf_(156, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	texture_1 = SDL_CreateTextureFromSurface(renderer_p0, surface_1);
	nimln_(157);	{
		NimStringV2 colontmpD__10;
		tyArray__Re75IspeoxXy2oCZHwcRrA T28_;
		NCSTRING T29_;
		if (!(texture_1 == 0)) goto LA25_;
		colontmpD__10.len = 0; colontmpD__10.p = NIM_NIL;
		nimln_(158);		T28_[0] = TM__ke5zx9bh9bosnlsWNavZNJFw_6;
		T29_ = (NCSTRING)0;
		T29_ = SDL_GetError();
		colontmpD__10 = cstrToNimstr(T29_);
		T28_[1] = colontmpD__10;
		echoBinSafe(T28_, 2);
		nimln_(159);		nimln_(125);		nimln_(159);		result = NIM_FALSE;
		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__10.p && !(colontmpD__10.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__10.p);
}
		nimlf_(153, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");		SDL_DestroySurface(surface_1);
		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__4.p && !(colontmpD__4.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__4.p);
}
		if (colontmpD__3.p && !(colontmpD__3.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__3.p);
}
		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		if (cacheKey_1.p && !(cacheKey_1.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(cacheKey_1.p);
}
		goto BeforeRet_;
		{
			LA27_:;
		}
		{
			if (colontmpD__10.p && !(colontmpD__10.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__10.p);
}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA22_;
	}
LA25_: ;
	nimlf_(162, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	{
		NI T34_;
		NimStringV2 oldestKey_1;
		NI oldestFrame_1;
		T34_ = (NI)0;
		T34_ = len__backendsZsdl3Zsdl95fonts_u882((*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures);
		if (NIM_UNLIKELY(*nimErr_)) goto LA22_;
		if (!((*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).maxCacheSize <= T34_)) goto LA35_;
		oldestKey_1.len = 0; oldestKey_1.p = NIM_NIL;
		nimln_(164);		oldestKey_1 = TM__ke5zx9bh9bosnlsWNavZNJFw_8;
		nimln_(165);		oldestFrame_1 = frameCounter__backendsZsdl3Zsdl95fonts_u39;
		{
			NimStringV2 key_1;
			tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ cached_2;
			NI L_1;
			key_1.len = 0; key_1.p = NIM_NIL;
			nimZeroMem((void*)(&cached_2), sizeof(tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ));
			nimlf_(767, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/tables.nim");			L_1 = len__backendsZsdl3Zsdl95fonts_u882((*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures);
			if (NIM_UNLIKELY(*nimErr_)) goto LA37_;
			{
				NI h_1;
				NI colontmp_;
				NI T40_;
				NI res_1;
				h_1 = (NI)0;
				colontmp_ = (NI)0;
				nimlf_(81, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");				nimlf_(768, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/tables.nim");				T40_ = ((*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures.data.len-1);
				colontmp_ = T40_;
				nimlf_(96, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");				res_1 = ((NI)0);
				{
					nimln_(97);					while (1) {
						NI TM__ke5zx9bh9bosnlsWNavZNJFw_11;
						if (!(res_1 <= colontmp_)) goto LA42;
						nimlf_(768, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/tables.nim");						h_1 = ((NI) (res_1));
						nimln_(769);						{
							NIM_BOOL T45_;
							if (h_1 < 0 || h_1 >= (*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures.data.len){ raiseIndexError2(h_1,(*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures.data.len-1); goto LA37_;
							}
							T45_ = (NIM_BOOL)0;
							T45_ = isFilled__pureZcollectionsZtables_u31((*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures.data.p->data[h_1].Field0);
							if (NIM_UNLIKELY(*nimErr_)) goto LA37_;
							if (!T45_) goto LA46_;
							nimlf_(1699, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");							if (h_1 < 0 || h_1 >= (*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures.data.len){ raiseIndexError2(h_1,(*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures.data.len-1); goto LA37_;
							}
							eqcopy___system_u2692((&key_1), (*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures.data.p->data[h_1].Field1);
							nimlf_(166, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");							if (h_1 < 0 || h_1 >= (*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures.data.len){ raiseIndexError2(h_1,(*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures.data.len-1); goto LA37_;
							}
							cached_2 = (*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures.data.p->data[h_1].Field2;
							nimln_(167);							{
								if (!(cached_2.lastUsed < oldestFrame_1)) goto LA50_;
								nimln_(168);								oldestFrame_1 = cached_2.lastUsed;
								nimlf_(1699, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");								eqsink___system_u2698((&oldestKey_1), key_1);
								eqwasMoved___system_u2689((&key_1));
							}
LA50_: ;
							nimlf_(771, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/tables.nim");							{
								NI T54_;
								T54_ = (NI)0;
								T54_ = len__backendsZsdl3Zsdl95fonts_u882((*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures);
								if (NIM_UNLIKELY(*nimErr_)) goto LA37_;
								if (!!((T54_ == L_1))) goto LA55_;
								failedAssertImpl__stdZassertions_u234(TM__ke5zx9bh9bosnlsWNavZNJFw_10);
								if (NIM_UNLIKELY(*nimErr_)) goto LA37_;
							}
LA55_: ;
						}
LA46_: ;
						nimlf_(102, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators_1.nim");						if (nimAddInt(res_1, ((NI)1), &TM__ke5zx9bh9bosnlsWNavZNJFw_11)) { raiseOverflow(); goto LA37_;
						};
						res_1 = (NI)(TM__ke5zx9bh9bosnlsWNavZNJFw_11);
					} LA42: ;
				}
			}
			nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");			if (key_1.p && !(key_1.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(key_1.p);
}
		}
		nimlf_(171, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");		{
			tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ* T61_;
			if (!!((oldestKey_1.len == 0))) goto LA59_;
			nimln_(172);			T61_ = (tyObject_CachedTexture__9caVQJ7T6dUY7clLDI9bVRlQ*)0;
			T61_ = X5BX5D___backendsZsdl3Zsdl95fonts_u2939((&(*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures), oldestKey_1);
			if (NIM_UNLIKELY(*nimErr_)) goto LA37_;
			SDL_DestroyTexture((*T61_).texture);
			nimln_(173);			del__backendsZsdl3Zsdl95fonts_u4479((&(*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures), oldestKey_1);
			if (NIM_UNLIKELY(*nimErr_)) goto LA37_;
		}
LA59_: ;
		{
			LA37_:;
		}
		{
			nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");			if (oldestKey_1.p && !(oldestKey_1.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(oldestKey_1.p);
}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA22_;
	}
LA35_: ;
	nimlf_(175, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	T64_.texture = texture_1;
	nimln_(177);	colontmpD__7 = (*surface_1).w;
	T64_.width = ((NI) (colontmpD__7));
	nimln_(178);	colontmpD__8 = (*surface_1).h;
	T64_.height = ((NI) (colontmpD__8));
	nimln_(179);	colontmpD__9 = frameCounter__backendsZsdl3Zsdl95fonts_u39;
	T64_.lastUsed = colontmpD__9;
	nimln_(175);	X5BX5Deq___backendsZsdl3Zsdl95fonts_u3061((&(*globalTextureCache__backendsZsdl3Zsdl95fonts_u38).textures), cacheKey_1, T64_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA22_;
	nimln_(183);	dstRect_2.x = ((float) (x_p3));
	dstRect_2.y = ((float) (y_p4));
	dstRect_2.w = ((float) ((*surface_1).w));
	dstRect_2.h = ((float) ((*surface_1).h));
	nimln_(185);	result = SDL_RenderTexture(renderer_p0, texture_1, ((SDL_FRect*) NIM_NIL), (&dstRect_2));
	nimln_(187);	if (nimAddInt(frameCounter__backendsZsdl3Zsdl95fonts_u39, ((NI)1), &TM__ke5zx9bh9bosnlsWNavZNJFw_12)) { raiseOverflow(); goto LA22_;
	};
	frameCounter__backendsZsdl3Zsdl95fonts_u39 = (NI)(TM__ke5zx9bh9bosnlsWNavZNJFw_12);
	{
		LA22_:;
	}
	{
		nimln_(153);		SDL_DestroySurface(surface_1);
	}
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD__4.p && !(colontmpD__4.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__4.p);
}
		if (colontmpD__3.p && !(colontmpD__3.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__3.p);
}
		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		if (cacheKey_1.p && !(cacheKey_1.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(cacheKey_1.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
	return result;
}
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1) {
	NI result;
	nimfr_("-%", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");
	nimlf_(364, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arithmetics.nim");	nimln_(368);	result = ((NI) ((NU)((NU32)(((NU) (x_p0))) - (NU32)(((NU) (y_p1))))));
	popFrame();
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0) {
	NIM_BOOL result;
	nimfr_("nimDecRefIsLast", "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");
	nimlf_(219, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/arc.nim");	result = NIM_FALSE;
	nimln_(220);	{
		tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ* cell_1;
		NI T5_;
		if (!!((p_p0 == NIM_NIL))) goto LA3_;
		nimln_(221);		nimln_(60);		T5_ = (NI)0;
		T5_ = minuspercent___system_u813(((NI) (ptrdiff_t) (p_p0)), ((NI)8));
		cell_1 = ((tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ*) (T5_));
		nimln_(235);		{
			if (!((NI)((NI32)((*cell_1).rc) >> (NU32)(((NI)4))) == ((NI)0))) goto LA8_;
			nimln_(236);			result = NIM_TRUE;
		}
		goto LA6_;
LA8_: ;
		{
			nimln_(86);			(*cell_1).rc = minuspercent___system_u813((*cell_1).rc, ((NI)16));
		}
LA6_: ;
	}
LA3_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u279)(tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw* dest_p0) {
	eqdestroy___backendsZsdl3Zsdl95fonts_u166((*dest_p0).fonts.data);
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___backendsZsdl3Zsdl95fonts_u311)(tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw** dest_p0, tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw* src_p1) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest_p0));
		if (!T3_) goto LA4_;
		eqdestroy___backendsZsdl3Zsdl95fonts_u279((&(*(*dest_p0))));
		nimRawDispose((*dest_p0), ((NI)8));
	}
LA4_: ;
	(*dest_p0) = src_p1;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw*, initFontCache__backendsZsdl3Zsdl95fonts_u40)(void) {
	tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw* result;
	tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw* T1_;
	tyObject_Table__pHZlZiWdyKeIxP1cX9aB8RQ T2_;
NIM_BOOL* nimErr_;
	nimfr_("initFontCache", "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");
{nimErr_ = nimErrorFlag();
	nimlf_(34, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	T1_ = NIM_NIL;
	T1_ = (tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw*) nimNewObj(sizeof(tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw), NIM_ALIGNOF(tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw));
	result = T1_;
	nimlf_(281, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/tables.nim");	nimlf_(35, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	T2_ = initTable__backendsZsdl3Zsdl95fonts_u54(((NI)32));
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___backendsZsdl3Zsdl95fonts_u148(&T2_); goto BeforeRet_;}
	nimlf_(281, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/tables.nim");	eqsink___backendsZsdl3Zsdl95fonts_u157((&(*result).fonts), T2_);
	nimlf_(36, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	(*result).defaultSize = 16.0;
	nimln_(37);	(*result).defaultFont = ((TTF_Font*) NIM_NIL);
	{
		NimStringV2 path_1;
		NI i_1;
		path_1.len = 0; path_1.p = NIM_NIL;
		nimlf_(43, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators.nim");		i_1 = ((NI)0);
		{
			nimln_(44);			while (1) {
				nimlf_(60, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");				path_1 = defaultPaths__backendsZsdl3Zsdl95fonts_u206[(i_1)- 0];
				nimln_(61);				(*result).defaultFont = TTF_OpenFont(nimToCStringConv(path_1), ((float) ((*result).defaultSize)));
				nimln_(62);				{
					tyArray__Re75IspeoxXy2oCZHwcRrA T10_;
					if (!!(((*result).defaultFont == 0))) goto LA8_;
					nimln_(63);					T10_[0] = TM__ke5zx9bh9bosnlsWNavZNJFw_19;
					T10_[1] = path_1;
					echoBinSafe(T10_, 2);
					nimln_(64);					goto LA3;
				}
LA8_: ;
				nimlf_(46, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system/iterators.nim");				{
					if (!(((NI)2) <= i_1)) goto LA13_;
					goto LA4;
				}
LA13_: ;
				nimln_(13);				i_1 += ((NI)1);
			}
		} LA4: ;
	} LA3: ;
	nimlf_(66, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	{
		if (!((*result).defaultFont == 0)) goto LA17_;
		nimln_(67);		echoBinSafe(TM__ke5zx9bh9bosnlsWNavZNJFw_20, 1);
	}
LA17_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u302)(tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw* dest_p0) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast(dest_p0);
		if (!T3_) goto LA4_;
		eqdestroy___backendsZsdl3Zsdl95fonts_u279((&(*dest_p0)));
		nimRawDispose(dest_p0, ((NI)8));
	}
LA4_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u559)(tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ* dest_p0) {
	eqdestroy___backendsZsdl3Zsdl95fonts_u516((*dest_p0).textures.data);
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___backendsZsdl3Zsdl95fonts_u590)(tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ** dest_p0, tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ* src_p1) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest_p0));
		if (!T3_) goto LA4_;
		eqdestroy___backendsZsdl3Zsdl95fonts_u559((&(*(*dest_p0))));
		nimRawDispose((*dest_p0), ((NI)4));
	}
LA4_: ;
	(*dest_p0) = src_p1;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ*, initTextureCache__backendsZsdl3Zsdl95fonts_u343)(void) {
	tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ* result;
	tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ* T1_;
	tyObject_Table__1SsKF9cXCnnX9bpX9cQX5WttQ T2_;
NIM_BOOL* nimErr_;
	nimfr_("initTextureCache", "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");
{nimErr_ = nimErrorFlag();
	nimln_(71);	T1_ = NIM_NIL;
	T1_ = (tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ*) nimNewObj(sizeof(tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ), NIM_ALIGNOF(tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ));
	result = T1_;
	nimlf_(281, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/tables.nim");	nimlf_(72, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	T2_ = initTable__backendsZsdl3Zsdl95fonts_u357(((NI)32));
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___backendsZsdl3Zsdl95fonts_u498(&T2_); goto BeforeRet_;}
	nimlf_(281, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/pure/collections/tables.nim");	eqsink___backendsZsdl3Zsdl95fonts_u507((&(*result).textures), T2_);
	nimlf_(73, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	(*result).maxCacheSize = ((NI)100);
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95fonts_u581)(tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ* dest_p0) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast(dest_p0);
		if (!T3_) goto LA4_;
		eqdestroy___backendsZsdl3Zsdl95fonts_u559((&(*dest_p0)));
		nimRawDispose(dest_p0, ((NI)4));
	}
LA4_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, init__backendsZsdl3Zsdl95fonts_u603)(void) {
	tyObject_FontCachecolonObjectType___q0MZlFv66QZdlEKPGK9adzw* T11_;
	tyObject_TextureCachecolonObjectType___57CoZdfFCDUhLb09bzHNNTQ* T12_;
NIM_BOOL* nimErr_;
	nimfr_("init", "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");
{nimErr_ = nimErrorFlag();
	nimln_(77);	{
		NIM_BOOL T3_;
		NimStringV2 colontmpD_;
		tyArray__Re75IspeoxXy2oCZHwcRrA T7_;
		NCSTRING T8_;
		T3_ = (NIM_BOOL)0;
		T3_ = TTF_Init();
		if (!!(T3_)) goto LA4_;
		colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
		nimln_(78);		T7_[0] = TM__ke5zx9bh9bosnlsWNavZNJFw_14;
		T8_ = (NCSTRING)0;
		T8_ = SDL_GetError();
		colontmpD_ = cstrToNimstr(T8_);
		T7_[1] = colontmpD_;
		echoBinSafe(T7_, 2);
		nimln_(79);		nimlf_(394, "/home/codespace/.choosenim/toolchains/nim-2.2.6/lib/system.nim");		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		goto BeforeRet_;
		{
			LA6_:;
		}
		{
			if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA4_: ;
	nimlf_(34, "/workspaces/telestorie/backends/sdl3/sdl_fonts.nim");	nimln_(81);	T11_ = NIM_NIL;
	T11_ = initFontCache__backendsZsdl3Zsdl95fonts_u40();
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___backendsZsdl3Zsdl95fonts_u302(T11_); goto BeforeRet_;}
	nimln_(34);	eqsink___backendsZsdl3Zsdl95fonts_u311(&globalFontCache__backendsZsdl3Zsdl95fonts_u37, T11_);
	nimln_(71);	nimln_(82);	T12_ = NIM_NIL;
	T12_ = initTextureCache__backendsZsdl3Zsdl95fonts_u343();
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___backendsZsdl3Zsdl95fonts_u581(T12_); goto BeforeRet_;}
	nimln_(71);	eqsink___backendsZsdl3Zsdl95fonts_u590(&globalTextureCache__backendsZsdl3Zsdl95fonts_u38, T12_);
	nimln_(83);	echoBinSafe(TM__ke5zx9bh9bosnlsWNavZNJFw_22, 1);
	}BeforeRet_: ;
	popFrame();
}
