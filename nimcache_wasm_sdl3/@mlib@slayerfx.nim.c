/* Generated by Nim Compiler v2.2.6 */
/* Compiled for: Linux, wasm32, clang */
/* Command for C compiler:
   emcc -c -w -ferror-limit=3 -fno-strict-aliasing -sUSE_SDL=3 -I/workspaces/storie-vendor/vendor/SDL_ttf-src/include -Os   -I/home/codespace/.choosenim/toolchains/nim-2.2.6/lib -I/workspaces/telestorie -o /workspaces/telestorie/nimcache_wasm_sdl3/@mlib@slayerfx.nim.c.o /workspaces/telestorie/nimcache_wasm_sdl3/@mlib@slayerfx.nim.c */
#define NIM_INTBITS 32

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
typedef struct tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag;
typedef struct tyObject_AppStatecolonObjectType___jrSyZ9aZLwUQnIb5lEtzv8Q tyObject_AppStatecolonObjectType___jrSyZ9aZLwUQnIb5lEtzv8Q;
typedef struct tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg;
typedef struct tySequence__ROT7204l2GKUczQoGqpRcw tySequence__ROT7204l2GKUczQoGqpRcw;
typedef struct tySequence__ROT7204l2GKUczQoGqpRcw_Content tySequence__ROT7204l2GKUczQoGqpRcw_Content;
typedef struct tyObject_Env__YOkjv76lcCADUm0ClKJM5g tyObject_Env__YOkjv76lcCADUm0ClKJM5g;
typedef struct tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_FunctionValcolonObjectType___pGR2JmOxTVrNPc3jK4h0Xg tyObject_FunctionValcolonObjectType___pGR2JmOxTVrNPc3jK4h0Xg;
typedef struct tyObject_Table__Kkv168EwyeC2mcswHBvZ1A tyObject_Table__Kkv168EwyeC2mcswHBvZ1A;
typedef struct tySequence__2nVARL7psn6awrm07aftcQ tySequence__2nVARL7psn6awrm07aftcQ;
typedef struct tySequence__2nVARL7psn6awrm07aftcQ_Content tySequence__2nVARL7psn6awrm07aftcQ_Content;
typedef struct tySequence__Gf9avO3sd1YsdKIYcdAbNvA tySequence__Gf9avO3sd1YsdKIYcdAbNvA;
typedef struct tySequence__Gf9avO3sd1YsdKIYcdAbNvA_Content tySequence__Gf9avO3sd1YsdKIYcdAbNvA_Content;
typedef struct tyObject_Rand__xd6HIyS1W9aI4gBq8W9ct0qA tyObject_Rand__xd6HIyS1W9aI4gBq8W9ct0qA;
typedef struct tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA;
typedef struct tyTuple__C3GQNxuHyokVH9b019bSwNmg tyTuple__C3GQNxuHyokVH9b019bSwNmg;
typedef struct tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ;
typedef struct tyObject_TermBuffer__a0me0i7S30c79coeAcFBkWw tyObject_TermBuffer__a0me0i7S30c79coeAcFBkWw;
typedef struct tySequence__hETDgeXECLenIIi9aRQgjOA tySequence__hETDgeXECLenIIi9aRQgjOA;
typedef struct tySequence__hETDgeXECLenIIi9aRQgjOA_Content tySequence__hETDgeXECLenIIi9aRQgjOA_Content;
typedef struct tySequence__yAQ9af4LrMfsCspWq9a5u6Og tySequence__yAQ9af4LrMfsCspWq9a5u6Og;
typedef struct tySequence__yAQ9af4LrMfsCspWq9a5u6Og_Content tySequence__yAQ9af4LrMfsCspWq9a5u6Og_Content;
typedef struct tyObject_Table__wHO9bxCEQsaOZ0Zzubt3C7Q tyObject_Table__wHO9bxCEQsaOZ0Zzubt3C7Q;
typedef struct tySequence__pUxI6Ljo6IKKHXKOZkQ7Og tySequence__pUxI6Ljo6IKKHXKOZkQ7Og;
typedef struct tySequence__pUxI6Ljo6IKKHXKOZkQ7Og_Content tySequence__pUxI6Ljo6IKKHXKOZkQ7Og_Content;
typedef struct tyObject_SDL3InputHandler__AifwBrfi4WTXKXSlrsBEZw tyObject_SDL3InputHandler__AifwBrfi4WTXKXSlrsBEZw;
typedef struct tyTuple__hSHiEU6uEtL7soi1F4tKCg tyTuple__hSHiEU6uEtL7soi1F4tKCg;
typedef struct tyObject_Table__wdMFxA8VBzcKe9cq9c9a9cPqMw tyObject_Table__wdMFxA8VBzcKe9cq9c9a9cPqMw;
typedef struct tySequence__9as8hCyx8WDhZXqXMf9bhgtA tySequence__9as8hCyx8WDhZXqXMf9bhgtA;
typedef struct tySequence__9as8hCyx8WDhZXqXMf9bhgtA_Content tySequence__9as8hCyx8WDhZXqXMf9bhgtA_Content;
typedef struct tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ;
typedef struct tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA;
typedef struct tyObject_Style__UURjArTrf2wmcCbN5MncAQ tyObject_Style__UURjArTrf2wmcCbN5MncAQ;
typedef struct tyObject_Color__TZLGUfQjHRBnaB3m3yIxqQ tyObject_Color__TZLGUfQjHRBnaB3m3yIxqQ;
typedef struct tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ;
typedef struct tyTuple__MC7l9b9aUEwaOl1L88LyxuuQ tyTuple__MC7l9b9aUEwaOl1L88LyxuuQ;
typedef struct tyTuple__9bJQUgvR2blr9cUNMhbZPKyA tyTuple__9bJQUgvR2blr9cUNMhbZPKyA;
typedef struct tyTuple__sr3s7uVHpu9cEbbDnCSg8yQ tyTuple__sr3s7uVHpu9cEbbDnCSg8yQ;
typedef struct tyTuple__9a36bWaF9cbmf9bDveJf6DOxA tyTuple__9a36bWaF9cbmf9bDveJf6DOxA;
typedef struct tyObject_StyleConfig__9bjh0AGgwfTanQXGeML3y9aA tyObject_StyleConfig__9bjh0AGgwfTanQXGeML3y9aA;
typedef struct {
N_NIMCALL_PTR(void, ClP_0) (tyObject_AppStatecolonObjectType___jrSyZ9aZLwUQnIb5lEtzv8Q* state_p0, void* ClE_0);
void* ClE_0;
} tyProc__bCvtH5ozdDDqkD8FYCmuQg;
struct tySequence__ROT7204l2GKUczQoGqpRcw {
  NI len; tySequence__ROT7204l2GKUczQoGqpRcw_Content* p;
};
struct tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg {
	tySequence__ROT7204l2GKUczQoGqpRcw data;
	NI counter;
};
struct tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag {
	tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg effects;
	NIM_BOOL autoDepthing;
	NF depthMin;
	NF depthMax;
	NIM_BOOL enabled;
};
struct NimStrPayload {
	NI cap;
	NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
	NI len;
	NimStrPayload* p;
};
typedef NU8 tyEnum_ValueKind__QxtKmTl5uLHSaIOWTFlTlQ;
struct tySequence__2nVARL7psn6awrm07aftcQ {
  NI len; tySequence__2nVARL7psn6awrm07aftcQ_Content* p;
};
struct tyObject_Table__Kkv168EwyeC2mcswHBvZ1A {
	tySequence__2nVARL7psn6awrm07aftcQ data;
	NI counter;
};
struct tySequence__Gf9avO3sd1YsdKIYcdAbNvA {
  NI len; tySequence__Gf9avO3sd1YsdKIYcdAbNvA_Content* p;
};
struct tyObject_Rand__xd6HIyS1W9aI4gBq8W9ct0qA {
	NU64 a0;
	NU64 a1;
};
struct tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A {
	tyEnum_ValueKind__QxtKmTl5uLHSaIOWTFlTlQ kind;
	NI i;
	NF f;
	NIM_BOOL b;
	NimStringV2 s;
	tyObject_FunctionValcolonObjectType___pGR2JmOxTVrNPc3jK4h0Xg* fnVal;
	tyObject_Table__Kkv168EwyeC2mcswHBvZ1A map;
	tySequence__Gf9avO3sd1YsdKIYcdAbNvA arr;
	void* ptrVal;
	tyObject_Rand__xd6HIyS1W9aI4gBq8W9ct0qA randState;
};
typedef struct {
N_NIMCALL_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, ClP_0) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
void* ClE_0;
} tyProc__uEHdpYdtD80h7sXcarWpbg;
struct tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA {
	NI offsetX;
	NI offsetY;
	NF darkenFactor;
	NF desaturation;
	NimStringV2 displacementEffect;
	NF displacementIntensity;
};
typedef N_CLOSURE_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, TM__nritKQ4cdCISbkFaJ9a3wVg_8) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
typedef N_CLOSURE_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, TM__nritKQ4cdCISbkFaJ9a3wVg_11) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
typedef N_CLOSURE_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, TM__nritKQ4cdCISbkFaJ9a3wVg_14) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
typedef N_CLOSURE_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, TM__nritKQ4cdCISbkFaJ9a3wVg_17) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
typedef N_CLOSURE_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, TM__nritKQ4cdCISbkFaJ9a3wVg_20) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
typedef N_CLOSURE_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, TM__nritKQ4cdCISbkFaJ9a3wVg_23) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
struct tyTuple__C3GQNxuHyokVH9b019bSwNmg {
	NIM_BOOL Field0;
	NIM_BOOL Field1;
	NIM_BOOL Field2;
	NIM_BOOL Field3;
	NI Field4;
};
typedef N_CLOSURE_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, TM__nritKQ4cdCISbkFaJ9a3wVg_36) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
typedef N_CLOSURE_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, TM__nritKQ4cdCISbkFaJ9a3wVg_39) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
typedef N_CLOSURE_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, TM__nritKQ4cdCISbkFaJ9a3wVg_42) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
typedef N_CLOSURE_PTR(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, TM__nritKQ4cdCISbkFaJ9a3wVg_45) (tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1, void* ClE_0);
struct tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ {
	NI rc;
	NI rootIdx;
};
struct tySequence__hETDgeXECLenIIi9aRQgjOA {
  NI len; tySequence__hETDgeXECLenIIi9aRQgjOA_Content* p;
};
struct tyObject_TermBuffer__a0me0i7S30c79coeAcFBkWw {
	NI width;
	NI height;
	tySequence__hETDgeXECLenIIi9aRQgjOA cells;
	NI clipX;
	NI clipY;
	NI clipW;
	NI clipH;
	NI offsetX;
	NI offsetY;
};
struct tySequence__yAQ9af4LrMfsCspWq9a5u6Og {
  NI len; tySequence__yAQ9af4LrMfsCspWq9a5u6Og_Content* p;
};
struct tySequence__pUxI6Ljo6IKKHXKOZkQ7Og {
  NI len; tySequence__pUxI6Ljo6IKKHXKOZkQ7Og_Content* p;
};
struct tyObject_Table__wHO9bxCEQsaOZ0Zzubt3C7Q {
	tySequence__pUxI6Ljo6IKKHXKOZkQ7Og data;
	NI counter;
};
struct tyObject_SDL3InputHandler__AifwBrfi4WTXKXSlrsBEZw {
	void* canvas;
	NI cellWidth;
	NI cellHeight;
};
struct tyTuple__hSHiEU6uEtL7soi1F4tKCg {
	NU8 Field0;
	NU8 Field1;
	NU8 Field2;
};
struct tySequence__9as8hCyx8WDhZXqXMf9bhgtA {
  NI len; tySequence__9as8hCyx8WDhZXqXMf9bhgtA_Content* p;
};
struct tyObject_Table__wdMFxA8VBzcKe9cq9c9a9cPqMw {
	tySequence__9as8hCyx8WDhZXqXMf9bhgtA data;
	NI counter;
};
struct tyObject_AppStatecolonObjectType___jrSyZ9aZLwUQnIb5lEtzv8Q {
	NIM_BOOL running;
	NI termWidth;
	NI termHeight;
	tyObject_TermBuffer__a0me0i7S30c79coeAcFBkWw currentBuffer;
	tyObject_TermBuffer__a0me0i7S30c79coeAcFBkWw previousBuffer;
	NI frameCount;
	NF totalTime;
	NF fps;
	NF lastFpsUpdate;
	NF targetFps;
	NI colorSupport;
	tySequence__yAQ9af4LrMfsCspWq9a5u6Og layers;
	tyObject_Table__wHO9bxCEQsaOZ0Zzubt3C7Q layerIndexCache;
	NIM_BOOL cacheValid;
	tyObject_SDL3InputHandler__AifwBrfi4WTXKXSlrsBEZw inputParser;
	NI lastMouseX;
	NI lastMouseY;
	void* audioSystemPtr;
	tyTuple__hSHiEU6uEtL7soi1F4tKCg themeBackground;
	tyObject_Table__wdMFxA8VBzcKe9cq9c9a9cPqMw styleSheet;
};
struct tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ {
	NimStringV2 id;
	NI z;
	NIM_BOOL visible;
	tyObject_TermBuffer__a0me0i7S30c79coeAcFBkWw buffer;
};
typedef struct {
N_NIMCALL_PTR(NI, ClP_0) (tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ* x_p0, tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ* y_p1, void* ClE_0);
void* ClE_0;
} tyProc__ijtkaENAqyRwfv9bZK9cSOuA;
typedef NU8 tyEnum_SortOrder__4o9bu23mZL49azIuH2sugcuQ;
typedef N_CLOSURE_PTR(NI, TM__nritKQ4cdCISbkFaJ9a3wVg_51) (tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ* x_p0, tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ* y_p1, void* ClE_0);
struct tyObject_Color__TZLGUfQjHRBnaB3m3yIxqQ {
	NU8 r;
	NU8 g;
	NU8 b;
};
struct tyObject_Style__UURjArTrf2wmcCbN5MncAQ {
	tyObject_Color__TZLGUfQjHRBnaB3m3yIxqQ fg;
	tyObject_Color__TZLGUfQjHRBnaB3m3yIxqQ bg;
	NIM_BOOL bold;
	NIM_BOOL underline;
	NIM_BOOL italic;
	NIM_BOOL dim;
};
struct tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA {
	NimStringV2 ch;
	tyObject_Style__UURjArTrf2wmcCbN5MncAQ style;
};
struct tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ {
	NI Field0;
	NI Field1;
};
typedef N_CLOSURE_PTR(void, TM__nritKQ4cdCISbkFaJ9a3wVg_63) (tyObject_AppStatecolonObjectType___jrSyZ9aZLwUQnIb5lEtzv8Q* state_p0, void* ClE_0);
struct tyTuple__MC7l9b9aUEwaOl1L88LyxuuQ {
	NI Field0;
	NimStringV2 Field1;
	tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA Field2;
};
struct tySequence__ROT7204l2GKUczQoGqpRcw_Content { NI cap; tyTuple__MC7l9b9aUEwaOl1L88LyxuuQ data[SEQ_DECL_SIZE]; };
struct tyTuple__9bJQUgvR2blr9cUNMhbZPKyA {
	NI Field0;
	NimStringV2 Field1;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* Field2;
};
struct tySequence__2nVARL7psn6awrm07aftcQ_Content { NI cap; tyTuple__9bJQUgvR2blr9cUNMhbZPKyA data[SEQ_DECL_SIZE]; };
struct tySequence__Gf9avO3sd1YsdKIYcdAbNvA_Content { NI cap; tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* data[SEQ_DECL_SIZE]; };
struct tySequence__hETDgeXECLenIIi9aRQgjOA_Content { NI cap; tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA data[SEQ_DECL_SIZE]; };
struct tySequence__yAQ9af4LrMfsCspWq9a5u6Og_Content { NI cap; tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ* data[SEQ_DECL_SIZE]; };
struct tyTuple__sr3s7uVHpu9cEbbDnCSg8yQ {
	NI Field0;
	NimStringV2 Field1;
	NI Field2;
};
struct tySequence__pUxI6Ljo6IKKHXKOZkQ7Og_Content { NI cap; tyTuple__sr3s7uVHpu9cEbbDnCSg8yQ data[SEQ_DECL_SIZE]; };
struct tyObject_StyleConfig__9bjh0AGgwfTanQXGeML3y9aA {
	tyTuple__hSHiEU6uEtL7soi1F4tKCg fg;
	tyTuple__hSHiEU6uEtL7soi1F4tKCg bg;
	NIM_BOOL bold;
	NIM_BOOL italic;
	NIM_BOOL underline;
	NIM_BOOL dim;
};
struct tyTuple__9a36bWaF9cbmf9bDveJf6DOxA {
	NI Field0;
	NimStringV2 Field1;
	tyObject_StyleConfig__9bjh0AGgwfTanQXGeML3y9aA Field2;
};
struct tySequence__9as8hCyx8WDhZXqXMf9bhgtA_Content { NI cap; tyTuple__9a36bWaF9cbmf9bDveJf6DOxA data[SEQ_DECL_SIZE]; };
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___niminiZruntime_u92)(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, defineVar__niminiZruntime_u2930)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, NimStringV2 name_p1, tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* v_p2);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, valNativeFunc__niminiZruntime_u1101)(tyProc__uEHdpYdtD80h7sXcarWpbg fn_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_setLayerOffset__libZlayerfx_u3210)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, valNil__niminiZruntime_u1028)(void);
N_LIB_PRIVATE N_NOCONV(void, dealloc)(void* p_p0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, layerfxValueToString__libZlayerfx_u3199)(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* v_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___system_u2642)(NimStringV2* dest_p0, NimStringV2 src_p1);
N_LIB_PRIVATE N_NOINLINE(void, raiseIndexError2)(NI i_p0, NI n_p1);
N_LIB_PRIVATE N_NIMCALL(NI, layerfxValueToInt__libZlayerfx_u3193)(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* v_p0);
N_LIB_PRIVATE N_NOINLINE(void, raiseRangeErrorI)(NI64 i_p0, NI64 a_p1, NI64 b_p2);
N_LIB_PRIVATE N_NIMCALL(void, setLayerOffset__libZlayerfx_u2643)(NimStringV2 layerId_p0, NI x_p1, NI y_p2);
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZlayerfx_u1275)(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___libZlayerfx_u1278)(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* dest_p0, tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* src_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*, getOrCreateEffects__libZlayerfx_u347)(NimStringV2 layerId_p0);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, contains__libZlayerfx_u388)(tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg t_p0, NimStringV2 key_p1);
N_LIB_PRIVATE N_NIMCALL(void, X5BX5Deq___libZlayerfx_u680)(tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg* t_p0, NimStringV2 key_p1, tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* val_p2);
N_LIB_PRIVATE N_NIMCALL(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*, X5BX5D___libZlayerfx_u1725)(tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg* t_p0, NimStringV2 key_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_setLayerDarkness__libZlayerfx_u3220)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1);
N_LIB_PRIVATE N_NIMCALL(NF, layerfxValueToFloat__libZlayerfx_u3196)(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* v_p0);
N_LIB_PRIVATE N_NIMCALL(void, setLayerDarkness__libZlayerfx_u2663)(NimStringV2 layerId_p0, NF factor_p1);
N_LIB_PRIVATE N_NIMCALL(NF, clamp__libZterminal95shaders_u181)(NF x_p0, NF a_p1, NF b_p2);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_setLayerDesaturation__libZlayerfx_u3229)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1);
N_LIB_PRIVATE N_NIMCALL(void, setLayerDesaturation__libZlayerfx_u2685)(NimStringV2 layerId_p0, NF amount_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_enableAutoDepthing__libZlayerfx_u3238)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1);
N_LIB_PRIVATE N_NIMCALL(void, enableAutoDepthing__libZlayerfx_u2707)(NF minBrightness_p0, NF maxBrightness_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_disableAutoDepthing__libZlayerfx_u3250)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1);
N_LIB_PRIVATE N_NIMCALL(void, disableAutoDepthing__libZlayerfx_u2723)(void);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_setLayerDisplacement__libZlayerfx_u3254)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1);
N_LIB_PRIVATE N_NIMCALL(void, setLayerDisplacement__libZlayerfx_u2753)(NimStringV2 layerId_p0, NimStringV2 effect_p1, NF intensity_p2);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_getLayerFxInfo__libZlayerfx_u3264)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1);
N_LIB_PRIVATE N_NIMCALL(tyTuple__C3GQNxuHyokVH9b019bSwNmg, getLayerFxInfo__libZlayerfx_u2888)(void);
N_LIB_PRIVATE N_NIMCALL(NI, len__libZlayerfx_u2942)(tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg t_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, valMap__niminiZruntime_u1210)(tyObject_Table__Kkv168EwyeC2mcswHBvZ1A initialMap_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_Table__Kkv168EwyeC2mcswHBvZ1A, initTable__niminiZruntime_u1225)(NI initialSize_p0);
N_LIB_PRIVATE N_NIMCALL(void, X5BX5Deq___niminiZruntime_u1726)(tyObject_Table__Kkv168EwyeC2mcswHBvZ1A* t_p0, NimStringV2 key_p1, tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* val_p2);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, valBool__niminiZruntime_u1092)(NIM_BOOL b_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, valInt__niminiZruntime_u1086)(NI i_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___niminiZruntime_u1010)(tyObject_Table__Kkv168EwyeC2mcswHBvZ1A* dest_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_enableLayerFx__libZlayerfx_u3479)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1);
N_LIB_PRIVATE N_NIMCALL(void, enableLayerFx__libZlayerfx_u339)(void);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_disableLayerFx__libZlayerfx_u3483)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1);
N_LIB_PRIVATE N_NIMCALL(void, disableLayerFx__libZlayerfx_u343)(void);
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_clearLayerEffects__libZlayerfx_u3487)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1);
N_LIB_PRIVATE N_NIMCALL(void, clearAllEffects__libZlayerfx_u2349)(void);
N_LIB_PRIVATE N_NIMCALL(void, clear__libZlayerfx_u2389)(tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg* t_p0);
N_LIB_PRIVATE N_NIMCALL(void, clearEffects__libZlayerfx_u1929)(NimStringV2 layerId_p0);
N_LIB_PRIVATE N_NIMCALL(void, del__libZlayerfx_u1970)(tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg* t_p0, NimStringV2 key_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___libZlayerfx_u297)(tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag** dest_p0, tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag* src_p1);
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0);
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZlayerfx_u263)(tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZlayerfx_u220)(tySequence__ROT7204l2GKUczQoGqpRcw dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObjUninit)(NI size_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_Table__HhVKeLxWkmR7ZJ0w2bSsHg, initTable__libZlayerfx_u58)(NI initialSize_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___srcZlayers_u2620)(tyProc__bCvtH5ozdDDqkD8FYCmuQg* dest_p0, tyProc__bCvtH5ozdDDqkD8FYCmuQg src_p1);
N_LIB_PRIVATE N_NIMCALL(void, compositeLayersWithEffects__libZlayerfx_u40)(tyObject_AppStatecolonObjectType___jrSyZ9aZLwUQnIb5lEtzv8Q* state_p0);
N_LIB_PRIVATE N_NIMCALL(void, compositeLayers__srcZlayers_u2347)(tyObject_AppStatecolonObjectType___jrSyZ9aZLwUQnIb5lEtzv8Q* state_p0);
N_LIB_PRIVATE N_NIMCALL(void, applyAutoDepthing__libZlayerfx_u2732)(tyObject_AppStatecolonObjectType___jrSyZ9aZLwUQnIb5lEtzv8Q* state_p0);
N_LIB_PRIVATE N_NIMCALL(void, failedAssertImpl__stdZassertions_u234)(NimStringV2 msg_p0);
N_LIB_PRIVATE N_NOINLINE(void, raiseOverflow)(void);
static N_INLINE(NF, mix__libZlayerfx_u35)(NF a_p0, NF b_p1, NF t_p2);
N_LIB_PRIVATE N_NIMCALL(void, clear__backendsZterminalZtermbuffer_u155)(tyObject_TermBuffer__a0me0i7S30c79coeAcFBkWw* tb_p0, tyTuple__hSHiEU6uEtL7soi1F4tKCg bgColor_p1);
N_LIB_PRIVATE N_NIMCALL(void, sort__srcZlayers_u2365)(tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ** a_p0, NI a_p0Len_0, tyProc__ijtkaENAqyRwfv9bZK9cSOuA cmp_p1, tyEnum_SortOrder__4o9bu23mZL49azIuH2sugcuQ order_p2);
N_LIB_PRIVATE N_NIMCALL(NI, colonanonymous___libZlayerfx_u2828)(tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ* a_p0, tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ* b_p1);
N_LIB_PRIVATE N_NIMCALL(NI, cmp__system_u6638)(NI x_p0, NI y_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*, getEffects__libZlayerfx_u1810)(NimStringV2 layerId_p0);
N_LIB_PRIVATE N_NIMCALL(void, compositeBufferOnto__backendsZterminalZtermbuffer_u194)(tyObject_TermBuffer__a0me0i7S30c79coeAcFBkWw* dest_p0, tyObject_TermBuffer__a0me0i7S30c79coeAcFBkWw* src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___backendsZsdl3Zsdl95canvas_u260)(tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___backendsZsdl3Zsdl95canvas_u263)(tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA* dest_p0, tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA src_p1);
N_LIB_PRIVATE N_NIMCALL(tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ, applyDisplacement__libZlayerfx_u2813)(NI x_p0, NI y_p1, tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* effects_p2);
N_LIB_PRIVATE N_NIMCALL(tyObject_Style__UURjArTrf2wmcCbN5MncAQ, applyColorEffects__libZlayerfx_u2793)(tyObject_Style__UURjArTrf2wmcCbN5MncAQ style_p0, tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* effects_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___backendsZsdl3Zsdl95canvas_u269)(tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA* dest_p0, tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___backendsZsdl3Zsdl95canvas_u257)(tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, nimTestErrorFlag)(void);
static NIM_CONST tyProc__bCvtH5ozdDDqkD8FYCmuQg TM__nritKQ4cdCISbkFaJ9a3wVg_2 = {NIM_NIL,NIM_NIL};
static const struct {
  NI cap; NIM_CHAR data[14+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_3 = { 14 | NIM_STRLIT_FLAG, "setLayerOffset" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_4 = {14, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_3};
static const struct {
  NI cap; NIM_CHAR data[0+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_5 = { 0 | NIM_STRLIT_FLAG, "" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_6 = {0, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_5};
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_7 = {0, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_5};
static const struct {
  NI cap; NIM_CHAR data[16+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_9 = { 16 | NIM_STRLIT_FLAG, "setLayerDarkness" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_10 = {16, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_9};
static const struct {
  NI cap; NIM_CHAR data[20+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_12 = { 20 | NIM_STRLIT_FLAG, "setLayerDesaturation" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_13 = {20, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_12};
static const struct {
  NI cap; NIM_CHAR data[18+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_15 = { 18 | NIM_STRLIT_FLAG, "enableAutoDepthing" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_16 = {18, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_15};
static const struct {
  NI cap; NIM_CHAR data[19+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_18 = { 19 | NIM_STRLIT_FLAG, "disableAutoDepthing" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_19 = {19, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_18};
static const struct {
  NI cap; NIM_CHAR data[20+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_21 = { 20 | NIM_STRLIT_FLAG, "setLayerDisplacement" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_22 = {20, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_21};
static const struct {
  NI cap; NIM_CHAR data[14+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_24 = { 14 | NIM_STRLIT_FLAG, "getLayerFxInfo" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_25 = {14, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_24};
static const struct {
  NI cap; NIM_CHAR data[9+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_26 = { 9 | NIM_STRLIT_FLAG, "available" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_27 = {9, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_26};
static const struct {
  NI cap; NIM_CHAR data[7+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_28 = { 7 | NIM_STRLIT_FLAG, "enabled" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_29 = {7, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_28};
static const struct {
  NI cap; NIM_CHAR data[12+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_30 = { 12 | NIM_STRLIT_FLAG, "autoDepthing" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_31 = {12, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_30};
static const struct {
  NI cap; NIM_CHAR data[13+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_32 = { 13 | NIM_STRLIT_FLAG, "shaderSupport" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_33 = {13, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_32};
static const struct {
  NI cap; NIM_CHAR data[11+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_34 = { 11 | NIM_STRLIT_FLAG, "effectCount" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_35 = {11, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_34};
static const struct {
  NI cap; NIM_CHAR data[13+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_37 = { 13 | NIM_STRLIT_FLAG, "enableLayerFx" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_38 = {13, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_37};
static const struct {
  NI cap; NIM_CHAR data[14+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_40 = { 14 | NIM_STRLIT_FLAG, "disableLayerFx" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_41 = {14, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_40};
static const struct {
  NI cap; NIM_CHAR data[17+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_43 = { 17 | NIM_STRLIT_FLAG, "clearLayerEffects" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_44 = {17, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_43};
static const struct {
  NI cap; NIM_CHAR data[90+1];
} TM__nritKQ4cdCISbkFaJ9a3wVg_46 = { 90 | NIM_STRLIT_FLAG, "iterators.nim(254, 11) `len(a) == L` the length of the seq changed while iterating over it" };
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_47 = {90, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_46};
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_50 = {90, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_46};
static const NimStringV2 TM__nritKQ4cdCISbkFaJ9a3wVg_62 = {90, (NimStrPayload*)&TM__nritKQ4cdCISbkFaJ9a3wVg_46};
N_LIB_PRIVATE tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag* gLayerFxRegistry__libZlayerfx_u28;
N_LIB_PRIVATE tyProc__bCvtH5ozdDDqkD8FYCmuQg gCompositeHook__libZlayerfx_u33;
extern NIM_BOOL nimInErrorMode__system_u4234;
N_LIB_PRIVATE N_NIMCALL(NimStringV2, layerfxValueToString__libZlayerfx_u3199)(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* v_p0) {
	NimStringV2 result;
{	result.len = 0; result.p = NIM_NIL;
	switch ((*v_p0).kind) {
	case ((tyEnum_ValueKind__QxtKmTl5uLHSaIOWTFlTlQ)4):
	{
		eqcopy___system_u2642((&result), (*v_p0).s);
		goto BeforeRet_;
	}
	break;
	default:
	{
		result = TM__nritKQ4cdCISbkFaJ9a3wVg_6;
		goto BeforeRet_;
	}
	break;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, layerfxValueToInt__libZlayerfx_u3193)(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* v_p0) {
	NI result;
{	result = (NI)0;
	switch ((*v_p0).kind) {
	case ((tyEnum_ValueKind__QxtKmTl5uLHSaIOWTFlTlQ)1):
	{
		result = (*v_p0).i;
		goto BeforeRet_;
	}
	break;
	case ((tyEnum_ValueKind__QxtKmTl5uLHSaIOWTFlTlQ)2):
	{
		if ((((NI) (((NI64) ((*v_p0).f))))) < ((NI)(-2147483647 -1)) || (((NI) (((NI64) ((*v_p0).f))))) > ((NI)2147483647)){ raiseRangeErrorI(((NI) (((NI64) ((*v_p0).f)))), ((NI)(-2147483647 -1)), ((NI)2147483647)); goto BeforeRet_;
		}
		result = (((NI) (((NI64) ((*v_p0).f)))));
		goto BeforeRet_;
	}
	break;
	default:
	{
		result = ((NI)0);
		goto BeforeRet_;
	}
	break;
	}
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4234);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZlayerfx_u1275)(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* dest_p0) {
	if ((*dest_p0).displacementEffect.p && !((*dest_p0).displacementEffect.p->cap & NIM_STRLIT_FLAG)) {
 dealloc((*dest_p0).displacementEffect.p);
}
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___libZlayerfx_u1278)(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* dest_p0, tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* src_p1) {
	(*dest_p0).offsetX = (*src_p1).offsetX;
	(*dest_p0).offsetY = (*src_p1).offsetY;
	(*dest_p0).darkenFactor = (*src_p1).darkenFactor;
	(*dest_p0).desaturation = (*src_p1).desaturation;
	eqcopy___system_u2642((&(*dest_p0).displacementEffect), (*src_p1).displacementEffect);
	(*dest_p0).displacementIntensity = (*src_p1).displacementIntensity;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___libZlayerfx_u1284)(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* dest_p0, tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* src_p1) {
	(*dest_p0).offsetX = (*src_p1).offsetX;
	(*dest_p0).offsetY = (*src_p1).offsetY;
	(*dest_p0).darkenFactor = (*src_p1).darkenFactor;
	(*dest_p0).desaturation = (*src_p1).desaturation;
	if ((*dest_p0).displacementEffect.p != (*src_p1).displacementEffect.p) {	if ((*dest_p0).displacementEffect.p && !((*dest_p0).displacementEffect.p->cap & NIM_STRLIT_FLAG)) {
 dealloc((*dest_p0).displacementEffect.p);
}
	}
(*dest_p0).displacementEffect.len = (*src_p1).displacementEffect.len; (*dest_p0).displacementEffect.p = (*src_p1).displacementEffect.p;
	(*dest_p0).displacementIntensity = (*src_p1).displacementIntensity;
}
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___libZlayerfx_u1272)(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* dest_p0) {
	(*dest_p0).offsetX = 0;
	(*dest_p0).offsetY = 0;
	(*dest_p0).darkenFactor = 0;
	(*dest_p0).desaturation = 0;
	(*dest_p0).displacementEffect.len = 0; (*dest_p0).displacementEffect.p = NIM_NIL;
	(*dest_p0).displacementIntensity = 0;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*, getOrCreateEffects__libZlayerfx_u347)(NimStringV2 layerId_p0) {
	tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*)0;
	{
		NIM_BOOL T3_;
		tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA T6_;
		T3_ = (NIM_BOOL)0;
		T3_ = contains__libZlayerfx_u388((*gLayerFxRegistry__libZlayerfx_u28).effects, layerId_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(T3_)) goto LA4_;
		T6_.offsetX = ((NI)0);
		T6_.offsetY = ((NI)0);
		T6_.darkenFactor = 1.0;
		T6_.desaturation = 0.0;
		T6_.displacementEffect = TM__nritKQ4cdCISbkFaJ9a3wVg_7;
		T6_.displacementIntensity = 0.0;
		X5BX5Deq___libZlayerfx_u680((&(*gLayerFxRegistry__libZlayerfx_u28).effects), layerId_p0, (&T6_));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA4_: ;
	result = X5BX5D___libZlayerfx_u1725((&(*gLayerFxRegistry__libZlayerfx_u28).effects), layerId_p0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, setLayerOffset__libZlayerfx_u2643)(NimStringV2 layerId_p0, NI x_p1, NI y_p2) {
	tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA effects_1;
	tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* T6_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&effects_1), sizeof(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA));
	{
		if (!(gLayerFxRegistry__libZlayerfx_u28 == 0)) goto LA4_;
		eqdestroy___libZlayerfx_u1275((&effects_1));
		goto BeforeRet_;
	}
LA4_: ;
	T6_ = (tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*)0;
	T6_ = getOrCreateEffects__libZlayerfx_u347(layerId_p0);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	eqcopy___libZlayerfx_u1278((&effects_1), (&(*T6_)));
	effects_1.offsetX = x_p1;
	effects_1.offsetY = y_p2;
	{
		LA1_:;
	}
	{
		eqdestroy___libZlayerfx_u1275((&effects_1));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_setLayerOffset__libZlayerfx_u3210)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* result;
	NimStringV2 layerId_1;
	NI x_1;
	NI y_1;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	layerId_1.len = 0; layerId_1.p = NIM_NIL;
	{
		NI T4_;
		T4_ = args_p1.len;
		if (!(T4_ < ((NI)3))) goto LA5_;
		result = valNil__niminiZruntime_u1028();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
		goto BeforeRet_;
	}
LA5_: ;
	if (((NI)0) < 0 || ((NI)0) >= args_p1.len){ raiseIndexError2(((NI)0),args_p1.len-1); goto LA1_;
	}
	layerId_1 = layerfxValueToString__libZlayerfx_u3199(args_p1.p->data[((NI)0)]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		if (!(layerId_1.len == ((NI)0))) goto LA9_;
		result = valNil__niminiZruntime_u1028();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
		goto BeforeRet_;
	}
LA9_: ;
	if (((NI)1) < 0 || ((NI)1) >= args_p1.len){ raiseIndexError2(((NI)1),args_p1.len-1); goto LA1_;
	}
	x_1 = layerfxValueToInt__libZlayerfx_u3193(args_p1.p->data[((NI)1)]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	if (((NI)2) < 0 || ((NI)2) >= args_p1.len){ raiseIndexError2(((NI)2),args_p1.len-1); goto LA1_;
	}
	y_1 = layerfxValueToInt__libZlayerfx_u3193(args_p1.p->data[((NI)2)]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	setLayerOffset__libZlayerfx_u2643(layerId_1, x_1, y_1);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	result = valNil__niminiZruntime_u1028();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
	goto BeforeRet_;
	{
		LA1_:;
	}
	{
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NF, layerfxValueToFloat__libZlayerfx_u3196)(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* v_p0) {
	NF result;
{	switch ((*v_p0).kind) {
	case ((tyEnum_ValueKind__QxtKmTl5uLHSaIOWTFlTlQ)2):
	{
		result = (*v_p0).f;
		goto BeforeRet_;
	}
	break;
	case ((tyEnum_ValueKind__QxtKmTl5uLHSaIOWTFlTlQ)1):
	{
		result = ((NF) ((*v_p0).i));
		goto BeforeRet_;
	}
	break;
	default:
	{
		result = 0.0;
		goto BeforeRet_;
	}
	break;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, setLayerDarkness__libZlayerfx_u2663)(NimStringV2 layerId_p0, NF factor_p1) {
	tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA effects_1;
	tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* T5_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&effects_1), sizeof(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA));
	{
		if (!(gLayerFxRegistry__libZlayerfx_u28 == 0)) goto LA3_;
		goto BeforeRet_;
	}
LA3_: ;
	T5_ = (tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*)0;
	T5_ = getOrCreateEffects__libZlayerfx_u347(layerId_p0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	effects_1 = (*T5_);
	effects_1.darkenFactor = clamp__libZterminal95shaders_u181(factor_p1, 0.0, 1.0);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_setLayerDarkness__libZlayerfx_u3220)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* result;
	NimStringV2 layerId_1;
	NF factor_1;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	layerId_1.len = 0; layerId_1.p = NIM_NIL;
	{
		NI T4_;
		T4_ = args_p1.len;
		if (!(T4_ < ((NI)2))) goto LA5_;
		result = valNil__niminiZruntime_u1028();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
		goto BeforeRet_;
	}
LA5_: ;
	if (((NI)0) < 0 || ((NI)0) >= args_p1.len){ raiseIndexError2(((NI)0),args_p1.len-1); goto LA1_;
	}
	layerId_1 = layerfxValueToString__libZlayerfx_u3199(args_p1.p->data[((NI)0)]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		if (!(layerId_1.len == ((NI)0))) goto LA9_;
		result = valNil__niminiZruntime_u1028();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
		goto BeforeRet_;
	}
LA9_: ;
	if (((NI)1) < 0 || ((NI)1) >= args_p1.len){ raiseIndexError2(((NI)1),args_p1.len-1); goto LA1_;
	}
	factor_1 = layerfxValueToFloat__libZlayerfx_u3196(args_p1.p->data[((NI)1)]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	setLayerDarkness__libZlayerfx_u2663(layerId_1, factor_1);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	result = valNil__niminiZruntime_u1028();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
	goto BeforeRet_;
	{
		LA1_:;
	}
	{
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, setLayerDesaturation__libZlayerfx_u2685)(NimStringV2 layerId_p0, NF amount_p1) {
	tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA effects_1;
	tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* T5_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&effects_1), sizeof(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA));
	{
		if (!(gLayerFxRegistry__libZlayerfx_u28 == 0)) goto LA3_;
		goto BeforeRet_;
	}
LA3_: ;
	T5_ = (tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*)0;
	T5_ = getOrCreateEffects__libZlayerfx_u347(layerId_p0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	effects_1 = (*T5_);
	effects_1.desaturation = clamp__libZterminal95shaders_u181(amount_p1, 0.0, 1.0);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_setLayerDesaturation__libZlayerfx_u3229)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* result;
	NimStringV2 layerId_1;
	NF amount_1;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	layerId_1.len = 0; layerId_1.p = NIM_NIL;
	{
		NI T4_;
		T4_ = args_p1.len;
		if (!(T4_ < ((NI)2))) goto LA5_;
		result = valNil__niminiZruntime_u1028();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
		goto BeforeRet_;
	}
LA5_: ;
	if (((NI)0) < 0 || ((NI)0) >= args_p1.len){ raiseIndexError2(((NI)0),args_p1.len-1); goto LA1_;
	}
	layerId_1 = layerfxValueToString__libZlayerfx_u3199(args_p1.p->data[((NI)0)]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		if (!(layerId_1.len == ((NI)0))) goto LA9_;
		result = valNil__niminiZruntime_u1028();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
		goto BeforeRet_;
	}
LA9_: ;
	if (((NI)1) < 0 || ((NI)1) >= args_p1.len){ raiseIndexError2(((NI)1),args_p1.len-1); goto LA1_;
	}
	amount_1 = layerfxValueToFloat__libZlayerfx_u3196(args_p1.p->data[((NI)1)]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	setLayerDesaturation__libZlayerfx_u2685(layerId_1, amount_1);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	result = valNil__niminiZruntime_u1028();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
	goto BeforeRet_;
	{
		LA1_:;
	}
	{
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, enableAutoDepthing__libZlayerfx_u2707)(NF minBrightness_p0, NF maxBrightness_p1) {
{	{
		if (!(gLayerFxRegistry__libZlayerfx_u28 == 0)) goto LA3_;
		goto BeforeRet_;
	}
LA3_: ;
	(*gLayerFxRegistry__libZlayerfx_u28).autoDepthing = NIM_TRUE;
	(*gLayerFxRegistry__libZlayerfx_u28).depthMin = clamp__libZterminal95shaders_u181(minBrightness_p0, 0.0, 1.0);
	(*gLayerFxRegistry__libZlayerfx_u28).depthMax = clamp__libZterminal95shaders_u181(maxBrightness_p1, 0.0, 1.0);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_enableAutoDepthing__libZlayerfx_u3238)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* result;
	NF colontmpD_;
	NF colontmpD__2;
	NF colontmpD__3;
	NF colontmpD__4;
	NF minB_1;
	NF maxB_1;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	colontmpD_ = (NF)0;
	colontmpD__2 = (NF)0;
	colontmpD__3 = (NF)0;
	colontmpD__4 = (NF)0;
	{
		NI T3_;
		T3_ = args_p1.len;
		if (!(((NI)1) <= T3_)) goto LA4_;
		if (((NI)0) < 0 || ((NI)0) >= args_p1.len){ raiseIndexError2(((NI)0),args_p1.len-1); goto BeforeRet_;
		}
		colontmpD_ = layerfxValueToFloat__libZlayerfx_u3196(args_p1.p->data[((NI)0)]);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		minB_1 = colontmpD_;
	}
	goto LA1_;
LA4_: ;
	{
		colontmpD__2 = 0.3;
		minB_1 = colontmpD__2;
	}
LA1_: ;
	{
		NI T9_;
		T9_ = args_p1.len;
		if (!(((NI)2) <= T9_)) goto LA10_;
		if (((NI)1) < 0 || ((NI)1) >= args_p1.len){ raiseIndexError2(((NI)1),args_p1.len-1); goto BeforeRet_;
		}
		colontmpD__3 = layerfxValueToFloat__libZlayerfx_u3196(args_p1.p->data[((NI)1)]);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		maxB_1 = colontmpD__3;
	}
	goto LA7_;
LA10_: ;
	{
		colontmpD__4 = 1.0;
		maxB_1 = colontmpD__4;
	}
LA7_: ;
	enableAutoDepthing__libZlayerfx_u2707(minB_1, maxB_1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = valNil__niminiZruntime_u1028();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, disableAutoDepthing__libZlayerfx_u2723)(void) {
	{
		if (!!((gLayerFxRegistry__libZlayerfx_u28 == 0))) goto LA3_;
		(*gLayerFxRegistry__libZlayerfx_u28).autoDepthing = NIM_FALSE;
	}
LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_disableAutoDepthing__libZlayerfx_u3250)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	disableAutoDepthing__libZlayerfx_u2723();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = valNil__niminiZruntime_u1028();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, setLayerDisplacement__libZlayerfx_u2753)(NimStringV2 layerId_p0, NimStringV2 effect_p1, NF intensity_p2) {
{	{
		if (!(gLayerFxRegistry__libZlayerfx_u28 == 0)) goto LA3_;
		goto BeforeRet_;
	}
LA3_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_setLayerDisplacement__libZlayerfx_u3254)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* result;
	NimStringV2 layerId_1;
	NimStringV2 effect_1;
	NF intensity_1;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	layerId_1.len = 0; layerId_1.p = NIM_NIL;
	effect_1.len = 0; effect_1.p = NIM_NIL;
	{
		NI T4_;
		T4_ = args_p1.len;
		if (!(T4_ < ((NI)3))) goto LA5_;
		result = valNil__niminiZruntime_u1028();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (effect_1.p && !(effect_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(effect_1.p);
}
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
		goto BeforeRet_;
	}
LA5_: ;
	if (((NI)0) < 0 || ((NI)0) >= args_p1.len){ raiseIndexError2(((NI)0),args_p1.len-1); goto LA1_;
	}
	layerId_1 = layerfxValueToString__libZlayerfx_u3199(args_p1.p->data[((NI)0)]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		if (!(layerId_1.len == ((NI)0))) goto LA9_;
		result = valNil__niminiZruntime_u1028();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (effect_1.p && !(effect_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(effect_1.p);
}
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
		goto BeforeRet_;
	}
LA9_: ;
	if (((NI)1) < 0 || ((NI)1) >= args_p1.len){ raiseIndexError2(((NI)1),args_p1.len-1); goto LA1_;
	}
	effect_1 = layerfxValueToString__libZlayerfx_u3199(args_p1.p->data[((NI)1)]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	if (((NI)2) < 0 || ((NI)2) >= args_p1.len){ raiseIndexError2(((NI)2),args_p1.len-1); goto LA1_;
	}
	intensity_1 = layerfxValueToFloat__libZlayerfx_u3196(args_p1.p->data[((NI)2)]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	setLayerDisplacement__libZlayerfx_u2753(layerId_1, effect_1, intensity_1);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	result = valNil__niminiZruntime_u1028();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	if (effect_1.p && !(effect_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(effect_1.p);
}
	if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
	goto BeforeRet_;
	{
		LA1_:;
	}
	{
		if (effect_1.p && !(effect_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(effect_1.p);
}
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyTuple__C3GQNxuHyokVH9b019bSwNmg, getLayerFxInfo__libZlayerfx_u2888)(void) {
	tyTuple__C3GQNxuHyokVH9b019bSwNmg result;
	NIM_BOOL colontmp__6;
	NIM_BOOL colontmp__7;
	NIM_BOOL colontmp__8;
	NIM_BOOL colontmp__9;
	NI colontmp__10;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyTuple__C3GQNxuHyokVH9b019bSwNmg));
	{
		NIM_BOOL colontmp_;
		NIM_BOOL colontmp__2;
		NIM_BOOL colontmp__3;
		NIM_BOOL colontmp__4;
		NI colontmp__5;
		if (!(gLayerFxRegistry__libZlayerfx_u28 == 0)) goto LA3_;
		colontmp_ = NIM_FALSE;
		colontmp__2 = NIM_FALSE;
		colontmp__3 = NIM_FALSE;
		colontmp__4 = NIM_FALSE;
		colontmp__5 = ((NI)0);
		result.Field0 = colontmp_;
		result.Field1 = colontmp__2;
		result.Field2 = colontmp__3;
		result.Field3 = colontmp__4;
		result.Field4 = colontmp__5;
		goto BeforeRet_;
	}
LA3_: ;
	colontmp__6 = NIM_TRUE;
	colontmp__7 = (*gLayerFxRegistry__libZlayerfx_u28).enabled;
	colontmp__8 = (*gLayerFxRegistry__libZlayerfx_u28).autoDepthing;
	colontmp__9 = NIM_FALSE;
	colontmp__10 = len__libZlayerfx_u2942((*gLayerFxRegistry__libZlayerfx_u28).effects);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result.Field0 = colontmp__6;
	result.Field1 = colontmp__7;
	result.Field2 = colontmp__8;
	result.Field3 = colontmp__9;
	result.Field4 = colontmp__10;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_getLayerFxInfo__libZlayerfx_u3264)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* result;
	tyObject_Table__Kkv168EwyeC2mcswHBvZ1A colontmpD_;
	tyTuple__C3GQNxuHyokVH9b019bSwNmg info_1;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* T1_;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* T2_;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* T3_;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* T4_;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* T5_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	nimZeroMem((void*)(&colontmpD_), sizeof(tyObject_Table__Kkv168EwyeC2mcswHBvZ1A));
	info_1 = getLayerFxInfo__libZlayerfx_u2888();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	colontmpD_ = initTable__niminiZruntime_u1225(((NI)32));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = valMap__niminiZruntime_u1210(colontmpD_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = NIM_NIL;
	T1_ = valBool__niminiZruntime_u1092(info_1.Field0);
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___niminiZruntime_u92(T1_); goto BeforeRet_;}
	X5BX5Deq___niminiZruntime_u1726((&(*result).map), TM__nritKQ4cdCISbkFaJ9a3wVg_27, T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T2_ = NIM_NIL;
	T2_ = valBool__niminiZruntime_u1092(info_1.Field1);
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___niminiZruntime_u92(T2_); goto BeforeRet_;}
	X5BX5Deq___niminiZruntime_u1726((&(*result).map), TM__nritKQ4cdCISbkFaJ9a3wVg_29, T2_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T3_ = NIM_NIL;
	T3_ = valBool__niminiZruntime_u1092(info_1.Field2);
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___niminiZruntime_u92(T3_); goto BeforeRet_;}
	X5BX5Deq___niminiZruntime_u1726((&(*result).map), TM__nritKQ4cdCISbkFaJ9a3wVg_31, T3_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T4_ = NIM_NIL;
	T4_ = valBool__niminiZruntime_u1092(info_1.Field3);
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___niminiZruntime_u92(T4_); goto BeforeRet_;}
	X5BX5Deq___niminiZruntime_u1726((&(*result).map), TM__nritKQ4cdCISbkFaJ9a3wVg_33, T4_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T5_ = NIM_NIL;
	T5_ = valInt__niminiZruntime_u1086(info_1.Field4);
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___niminiZruntime_u92(T5_); goto BeforeRet_;}
	X5BX5Deq___niminiZruntime_u1726((&(*result).map), TM__nritKQ4cdCISbkFaJ9a3wVg_35, T5_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	eqdestroy___niminiZruntime_u1010((&colontmpD_));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, enableLayerFx__libZlayerfx_u339)(void) {
	{
		if (!!((gLayerFxRegistry__libZlayerfx_u28 == 0))) goto LA3_;
		(*gLayerFxRegistry__libZlayerfx_u28).enabled = NIM_TRUE;
	}
LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_enableLayerFx__libZlayerfx_u3479)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	enableLayerFx__libZlayerfx_u339();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = valNil__niminiZruntime_u1028();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, disableLayerFx__libZlayerfx_u343)(void) {
	{
		if (!!((gLayerFxRegistry__libZlayerfx_u28 == 0))) goto LA3_;
		(*gLayerFxRegistry__libZlayerfx_u28).enabled = NIM_FALSE;
	}
LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_disableLayerFx__libZlayerfx_u3483)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	disableLayerFx__libZlayerfx_u343();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = valNil__niminiZruntime_u1028();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, clearAllEffects__libZlayerfx_u2349)(void) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!!((gLayerFxRegistry__libZlayerfx_u28 == 0))) goto LA3_;
		clear__libZlayerfx_u2389((&(*gLayerFxRegistry__libZlayerfx_u28).effects));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA3_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, clearEffects__libZlayerfx_u1929)(NimStringV2 layerId_p0) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!!((gLayerFxRegistry__libZlayerfx_u28 == 0))) goto LA3_;
		del__libZlayerfx_u1970((&(*gLayerFxRegistry__libZlayerfx_u28).effects), layerId_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA3_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A*, nimini_clearLayerEffects__libZlayerfx_u3487)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0, tySequence__Gf9avO3sd1YsdKIYcdAbNvA args_p1) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	{
		NI T3_;
		T3_ = args_p1.len;
		if (!(T3_ == ((NI)0))) goto LA4_;
		clearAllEffects__libZlayerfx_u2349();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA1_;
LA4_: ;
	{
		NimStringV2 layerId_1;
		layerId_1.len = 0; layerId_1.p = NIM_NIL;
		if (((NI)0) < 0 || ((NI)0) >= args_p1.len){ raiseIndexError2(((NI)0),args_p1.len-1); goto BeforeRet_;
		}
		layerId_1 = layerfxValueToString__libZlayerfx_u3199(args_p1.p->data[((NI)0)]);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		{
			if (!(((NI)0) < layerId_1.len)) goto LA9_;
			clearEffects__libZlayerfx_u1929(layerId_1);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
LA9_: ;
		if (layerId_1.p && !(layerId_1.p->cap & NIM_STRLIT_FLAG)) {
 dealloc(layerId_1.p);
}
	}
LA1_: ;
	result = valNil__niminiZruntime_u1028();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, registerLayerFxBindings__libZlayerfx_u3495)(tyObject_Env__YOkjv76lcCADUm0ClKJM5g* env_p0) {
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* colontmpD_;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* colontmpD__2;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* colontmpD__3;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* colontmpD__4;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* colontmpD__5;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* colontmpD__6;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* colontmpD__7;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* colontmpD__8;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* colontmpD__9;
	tyObject_ValuecolonObjectType___HXMY0yUY2exDyJ1egQNy5A* colontmpD__10;
	tyProc__uEHdpYdtD80h7sXcarWpbg T6_;
	tyProc__uEHdpYdtD80h7sXcarWpbg T7_;
	tyProc__uEHdpYdtD80h7sXcarWpbg T8_;
	tyProc__uEHdpYdtD80h7sXcarWpbg T9_;
	tyProc__uEHdpYdtD80h7sXcarWpbg T10_;
	tyProc__uEHdpYdtD80h7sXcarWpbg T11_;
	tyProc__uEHdpYdtD80h7sXcarWpbg T12_;
	tyProc__uEHdpYdtD80h7sXcarWpbg T13_;
	tyProc__uEHdpYdtD80h7sXcarWpbg T14_;
	tyProc__uEHdpYdtD80h7sXcarWpbg T15_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmpD_ = NIM_NIL;
	colontmpD__2 = NIM_NIL;
	colontmpD__3 = NIM_NIL;
	colontmpD__4 = NIM_NIL;
	colontmpD__5 = NIM_NIL;
	colontmpD__6 = NIM_NIL;
	colontmpD__7 = NIM_NIL;
	colontmpD__8 = NIM_NIL;
	colontmpD__9 = NIM_NIL;
	colontmpD__10 = NIM_NIL;
	{
		if (!(gLayerFxRegistry__libZlayerfx_u28 == 0)) goto LA4_;
		eqdestroy___niminiZruntime_u92(colontmpD__10);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__9);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__8);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__7);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__6);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__5);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__4);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__3);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__2);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD_);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		goto BeforeRet_;
	}
LA4_: ;
	nimZeroMem((void*)(&T6_), sizeof(tyProc__uEHdpYdtD80h7sXcarWpbg));
	T6_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_8) (nimini_setLayerOffset__libZlayerfx_u3210)); T6_.ClE_0 = NIM_NIL;
	colontmpD_ = valNativeFunc__niminiZruntime_u1101(T6_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	defineVar__niminiZruntime_u2930(env_p0, TM__nritKQ4cdCISbkFaJ9a3wVg_4, colontmpD_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T7_), sizeof(tyProc__uEHdpYdtD80h7sXcarWpbg));
	T7_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_11) (nimini_setLayerDarkness__libZlayerfx_u3220)); T7_.ClE_0 = NIM_NIL;
	colontmpD__2 = valNativeFunc__niminiZruntime_u1101(T7_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	defineVar__niminiZruntime_u2930(env_p0, TM__nritKQ4cdCISbkFaJ9a3wVg_10, colontmpD__2);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T8_), sizeof(tyProc__uEHdpYdtD80h7sXcarWpbg));
	T8_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_14) (nimini_setLayerDesaturation__libZlayerfx_u3229)); T8_.ClE_0 = NIM_NIL;
	colontmpD__3 = valNativeFunc__niminiZruntime_u1101(T8_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	defineVar__niminiZruntime_u2930(env_p0, TM__nritKQ4cdCISbkFaJ9a3wVg_13, colontmpD__3);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T9_), sizeof(tyProc__uEHdpYdtD80h7sXcarWpbg));
	T9_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_17) (nimini_enableAutoDepthing__libZlayerfx_u3238)); T9_.ClE_0 = NIM_NIL;
	colontmpD__4 = valNativeFunc__niminiZruntime_u1101(T9_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	defineVar__niminiZruntime_u2930(env_p0, TM__nritKQ4cdCISbkFaJ9a3wVg_16, colontmpD__4);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T10_), sizeof(tyProc__uEHdpYdtD80h7sXcarWpbg));
	T10_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_20) (nimini_disableAutoDepthing__libZlayerfx_u3250)); T10_.ClE_0 = NIM_NIL;
	colontmpD__5 = valNativeFunc__niminiZruntime_u1101(T10_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	defineVar__niminiZruntime_u2930(env_p0, TM__nritKQ4cdCISbkFaJ9a3wVg_19, colontmpD__5);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T11_), sizeof(tyProc__uEHdpYdtD80h7sXcarWpbg));
	T11_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_23) (nimini_setLayerDisplacement__libZlayerfx_u3254)); T11_.ClE_0 = NIM_NIL;
	colontmpD__6 = valNativeFunc__niminiZruntime_u1101(T11_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	defineVar__niminiZruntime_u2930(env_p0, TM__nritKQ4cdCISbkFaJ9a3wVg_22, colontmpD__6);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T12_), sizeof(tyProc__uEHdpYdtD80h7sXcarWpbg));
	T12_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_36) (nimini_getLayerFxInfo__libZlayerfx_u3264)); T12_.ClE_0 = NIM_NIL;
	colontmpD__7 = valNativeFunc__niminiZruntime_u1101(T12_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	defineVar__niminiZruntime_u2930(env_p0, TM__nritKQ4cdCISbkFaJ9a3wVg_25, colontmpD__7);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T13_), sizeof(tyProc__uEHdpYdtD80h7sXcarWpbg));
	T13_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_39) (nimini_enableLayerFx__libZlayerfx_u3479)); T13_.ClE_0 = NIM_NIL;
	colontmpD__8 = valNativeFunc__niminiZruntime_u1101(T13_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	defineVar__niminiZruntime_u2930(env_p0, TM__nritKQ4cdCISbkFaJ9a3wVg_38, colontmpD__8);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T14_), sizeof(tyProc__uEHdpYdtD80h7sXcarWpbg));
	T14_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_42) (nimini_disableLayerFx__libZlayerfx_u3483)); T14_.ClE_0 = NIM_NIL;
	colontmpD__9 = valNativeFunc__niminiZruntime_u1101(T14_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	defineVar__niminiZruntime_u2930(env_p0, TM__nritKQ4cdCISbkFaJ9a3wVg_41, colontmpD__9);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T15_), sizeof(tyProc__uEHdpYdtD80h7sXcarWpbg));
	T15_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_45) (nimini_clearLayerEffects__libZlayerfx_u3487)); T15_.ClE_0 = NIM_NIL;
	colontmpD__10 = valNativeFunc__niminiZruntime_u1101(T15_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	defineVar__niminiZruntime_u2930(env_p0, TM__nritKQ4cdCISbkFaJ9a3wVg_44, colontmpD__10);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___niminiZruntime_u92(colontmpD__10);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__9);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__8);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__7);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__6);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__5);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__4);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__3);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD__2);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___niminiZruntime_u92(colontmpD_);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1) {
	NI result;
	result = ((NI) ((NU)((NU32)(((NU) (x_p0))) - (NU32)(((NU) (y_p1))))));
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0) {
	NIM_BOOL result;
	result = NIM_FALSE;
	{
		tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ* cell_1;
		NI T5_;
		if (!!((p_p0 == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_u813(((NI) (ptrdiff_t) (p_p0)), ((NI)8));
		cell_1 = ((tyObject_RefHeader__hLWKr9clDoQwq3AJwLFw0xQ*) (T5_));
		{
			if (!((NI)((NI32)((*cell_1).rc) >> (NU32)(((NI)4))) == ((NI)0))) goto LA8_;
			result = NIM_TRUE;
		}
		goto LA6_;
LA8_: ;
		{
			(*cell_1).rc = minuspercent___system_u813((*cell_1).rc, ((NI)16));
		}
LA6_: ;
	}
LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZlayerfx_u263)(tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag* dest_p0) {
	eqdestroy___libZlayerfx_u220((*dest_p0).effects.data);
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___libZlayerfx_u297)(tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag** dest_p0, tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag* src_p1) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest_p0));
		if (!T3_) goto LA4_;
		eqdestroy___libZlayerfx_u263((&(*(*dest_p0))));
		nimRawDispose((*dest_p0), ((NI)8));
	}
LA4_: ;
	(*dest_p0) = src_p1;
}
static N_INLINE(NF, mix__libZlayerfx_u35)(NF a_p0, NF b_p1, NF t_p2) {
	NF result;
	result = ((NF)(((NF)(a_p0) * (NF)(((NF)(1.0) - (NF)(t_p2))))) + (NF)(((NF)(b_p1) * (NF)(t_p2))));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, applyAutoDepthing__libZlayerfx_u2732)(tyObject_AppStatecolonObjectType___jrSyZ9aZLwUQnIb5lEtzv8Q* state_p0) {
	NI minZ_1;
	NI maxZ_1;
	NF zRange_1;
	NI TM__nritKQ4cdCISbkFaJ9a3wVg_48;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		NIM_BOOL T4_;
		NI T7_;
		T3_ = (NIM_BOOL)0;
		T4_ = (NIM_BOOL)0;
		T4_ = (gLayerFxRegistry__libZlayerfx_u28 == 0);
		if (T4_) goto LA5_;
		T4_ = !((*gLayerFxRegistry__libZlayerfx_u28).autoDepthing);
LA5_: ;
		T3_ = T4_;
		if (T3_) goto LA6_;
		T7_ = (*state_p0).layers.len;
		T3_ = (T7_ == ((NI)0));
LA6_: ;
		if (!T3_) goto LA8_;
		goto BeforeRet_;
	}
LA8_: ;
	if (((NI)0) < 0 || ((NI)0) >= (*state_p0).layers.len){ raiseIndexError2(((NI)0),(*state_p0).layers.len-1); goto BeforeRet_;
	}
	minZ_1 = (*(*state_p0).layers.p->data[((NI)0)]).z;
	if (((NI)0) < 0 || ((NI)0) >= (*state_p0).layers.len){ raiseIndexError2(((NI)0),(*state_p0).layers.len-1); goto BeforeRet_;
	}
	maxZ_1 = (*(*state_p0).layers.p->data[((NI)0)]).z;
	{
		tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ** layer_1;
		NI i_1;
		NI L_1;
		NI T11_;
		layer_1 = (tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ**)0;
		i_1 = ((NI)0);
		T11_ = (*state_p0).layers.len;
		L_1 = T11_;
		{
			while (1) {
				if (!(i_1 < L_1)) goto LA13;
				if (i_1 < 0 || i_1 >= (*state_p0).layers.len){ raiseIndexError2(i_1,(*state_p0).layers.len-1); goto BeforeRet_;
				}
				layer_1 = &(*state_p0).layers.p->data[i_1];
				minZ_1 = ((minZ_1 <= (*(*layer_1)).z) ? minZ_1 : (*(*layer_1)).z);
				maxZ_1 = ((maxZ_1 >= (*(*layer_1)).z) ? maxZ_1 : (*(*layer_1)).z);
				i_1 += ((NI)1);
				{
					NI T16_;
					T16_ = (*state_p0).layers.len;
					if (!!((T16_ == L_1))) goto LA17_;
					failedAssertImpl__stdZassertions_u234(TM__nritKQ4cdCISbkFaJ9a3wVg_47);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
LA17_: ;
			} LA13: ;
		}
	}
	if (nimSubInt(maxZ_1, minZ_1, &TM__nritKQ4cdCISbkFaJ9a3wVg_48)) { raiseOverflow(); goto BeforeRet_;
	};
	zRange_1 = ((NF) ((NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_48)));
	{
		if (!(zRange_1 < 0.01)) goto LA21_;
		goto BeforeRet_;
	}
LA21_: ;
	{
		tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ** layer_2;
		NI i_2;
		NI L_2;
		NI T24_;
		layer_2 = (tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ**)0;
		i_2 = ((NI)0);
		T24_ = (*state_p0).layers.len;
		L_2 = T24_;
		{
			while (1) {
				NF normalizedZ_1;
				NI TM__nritKQ4cdCISbkFaJ9a3wVg_49;
				NF brightness_1;
				if (!(i_2 < L_2)) goto LA26;
				if (i_2 < 0 || i_2 >= (*state_p0).layers.len){ raiseIndexError2(i_2,(*state_p0).layers.len-1); goto BeforeRet_;
				}
				layer_2 = &(*state_p0).layers.p->data[i_2];
				if (nimSubInt((*(*layer_2)).z, minZ_1, &TM__nritKQ4cdCISbkFaJ9a3wVg_49)) { raiseOverflow(); goto BeforeRet_;
				};
				normalizedZ_1 = ((NF)(((NF) ((NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_49)))) / (NF)(zRange_1));
				brightness_1 = mix__libZlayerfx_u35((*gLayerFxRegistry__libZlayerfx_u28).depthMin, (*gLayerFxRegistry__libZlayerfx_u28).depthMax, normalizedZ_1);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				setLayerDarkness__libZlayerfx_u2663((*(*layer_2)).id, brightness_1);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				i_2 += ((NI)1);
				{
					NI T29_;
					T29_ = (*state_p0).layers.len;
					if (!!((T29_ == L_2))) goto LA30_;
					failedAssertImpl__stdZassertions_u234(TM__nritKQ4cdCISbkFaJ9a3wVg_50);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
LA30_: ;
			} LA26: ;
		}
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NI, colonanonymous___libZlayerfx_u2828)(tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ* a_p0, tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ* b_p1) {
	NI result;
	result = cmp__system_u6638((*a_p0).z, (*b_p1).z);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*, getEffects__libZlayerfx_u1810)(NimStringV2 layerId_p0) {
	tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*)0;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = contains__libZlayerfx_u388((*gLayerFxRegistry__libZlayerfx_u28).effects, layerId_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!T3_) goto LA4_;
		result = X5BX5D___libZlayerfx_u1725((&(*gLayerFxRegistry__libZlayerfx_u28).effects), layerId_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		goto BeforeRet_;
	}
LA4_: ;
	result = ((tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA*) NIM_NIL);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ, applyDisplacement__libZlayerfx_u2813)(NI x_p0, NI y_p1, tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* effects_p2) {
	tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ result;
	NI colontmp_;
	NI colontmp__2;
{	colontmp_ = ((NI)0);
	colontmp__2 = ((NI)0);
	result.Field0 = colontmp_;
	result.Field1 = colontmp__2;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_Style__UURjArTrf2wmcCbN5MncAQ, applyColorEffects__libZlayerfx_u2793)(tyObject_Style__UURjArTrf2wmcCbN5MncAQ style_p0, tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* effects_p1) {
	tyObject_Style__UURjArTrf2wmcCbN5MncAQ result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = style_p0;
	{
		NF T5_;
		NF T6_;
		NF T7_;
		if (!((*effects_p1).darkenFactor < 1.0)) goto LA3_;
		T5_ = (NF)0;
		T5_ = clamp__libZterminal95shaders_u181(((NF)(((NF) (style_p0.fg.r))) * (NF)((*effects_p1).darkenFactor)), 0.0, 255.0);
		result.fg.r = ((NU8) (T5_));
		T6_ = (NF)0;
		T6_ = clamp__libZterminal95shaders_u181(((NF)(((NF) (style_p0.fg.g))) * (NF)((*effects_p1).darkenFactor)), 0.0, 255.0);
		result.fg.g = ((NU8) (T6_));
		T7_ = (NF)0;
		T7_ = clamp__libZterminal95shaders_u181(((NF)(((NF) (style_p0.fg.b))) * (NF)((*effects_p1).darkenFactor)), 0.0, 255.0);
		result.fg.b = ((NU8) (T7_));
	}
LA3_: ;
	{
		NU8 gray_1;
		NF T12_;
		NF T13_;
		NF T14_;
		if (!(0.0 < (*effects_p1).desaturation)) goto LA10_;
		gray_1 = ((NU8) (((NF)(((NF)(((NF)(0.299) * (NF)(((NF) (result.fg.r))))) + (NF)(((NF)(0.587) * (NF)(((NF) (result.fg.g))))))) + (NF)(((NF)(0.114) * (NF)(((NF) (result.fg.b))))))));
		T12_ = (NF)0;
		T12_ = mix__libZlayerfx_u35(((NF) (result.fg.r)), ((NF) (gray_1)), (*effects_p1).desaturation);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		result.fg.r = ((NU8) (T12_));
		T13_ = (NF)0;
		T13_ = mix__libZlayerfx_u35(((NF) (result.fg.g)), ((NF) (gray_1)), (*effects_p1).desaturation);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		result.fg.g = ((NU8) (T13_));
		T14_ = (NF)0;
		T14_ = mix__libZlayerfx_u35(((NF) (result.fg.b)), ((NF) (gray_1)), (*effects_p1).desaturation);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		result.fg.b = ((NU8) (T14_));
	}
LA10_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, compositeLayersWithEffects__libZlayerfx_u40)(tyObject_AppStatecolonObjectType___jrSyZ9aZLwUQnIb5lEtzv8Q* state_p0) {
	tyProc__ijtkaENAqyRwfv9bZK9cSOuA T14_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		NIM_BOOL T4_;
		NI T7_;
		T3_ = (NIM_BOOL)0;
		T4_ = (NIM_BOOL)0;
		T4_ = (gLayerFxRegistry__libZlayerfx_u28 == 0);
		if (T4_) goto LA5_;
		T4_ = !((*gLayerFxRegistry__libZlayerfx_u28).enabled);
LA5_: ;
		T3_ = T4_;
		if (T3_) goto LA6_;
		T7_ = (*state_p0).layers.len;
		T3_ = (T7_ == ((NI)0));
LA6_: ;
		if (!T3_) goto LA8_;
		compositeLayers__srcZlayers_u2347(state_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		goto BeforeRet_;
	}
LA8_: ;
	{
		if (!(*gLayerFxRegistry__libZlayerfx_u28).autoDepthing) goto LA12_;
		applyAutoDepthing__libZlayerfx_u2732(state_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA12_: ;
	clear__backendsZterminalZtermbuffer_u155((&(*state_p0).currentBuffer), (*state_p0).themeBackground);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nimZeroMem((void*)(&T14_), sizeof(tyProc__ijtkaENAqyRwfv9bZK9cSOuA));
	T14_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_51) (colonanonymous___libZlayerfx_u2828)); T14_.ClE_0 = NIM_NIL;
	sort__srcZlayers_u2365((((*state_p0).layers).p) ? ((*state_p0).layers.p->data) : NIM_NIL, (*state_p0).layers.len, T14_, ((tyEnum_SortOrder__4o9bu23mZL49azIuH2sugcuQ)1));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ** layer_1;
		NI i_1;
		NI L_1;
		NI T16_;
		layer_1 = (tyObject_LayercolonObjectType___GgVqgNTBauiDGOm9bCEWiYQ**)0;
		i_1 = ((NI)0);
		T16_ = (*state_p0).layers.len;
		L_1 = T16_;
		{
			while (1) {
				if (!(i_1 < L_1)) goto LA18;
				if (i_1 < 0 || i_1 >= (*state_p0).layers.len){ raiseIndexError2(i_1,(*state_p0).layers.len-1); goto BeforeRet_;
				}
				layer_1 = &(*state_p0).layers.p->data[i_1];
				{
					tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA* effectsPtr_1;
					{
						if (!!((*(*layer_1)).visible)) goto LA22_;
						goto LA19;
					}
LA22_: ;
					effectsPtr_1 = getEffects__libZlayerfx_u1810((*(*layer_1)).id);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					{
						if (!(effectsPtr_1 == 0)) goto LA26_;
						compositeBufferOnto__backendsZterminalZtermbuffer_u194((&(*state_p0).currentBuffer), (&(*(*layer_1)).buffer));
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					}
					goto LA24_;
LA26_: ;
					{
						tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA effects_1;
						NI w_1;
						NI h_1;
						nimZeroMem((void*)(&effects_1), sizeof(tyObject_LayerEffects__PP7a11Q9bHdTSkrDxYpd2mA));
						eqcopy___libZlayerfx_u1278((&effects_1), (&(*effectsPtr_1)));
						w_1 = (((*state_p0).currentBuffer.width <= (*(*layer_1)).buffer.width) ? (*state_p0).currentBuffer.width : (*(*layer_1)).buffer.width);
						h_1 = (((*state_p0).currentBuffer.height <= (*(*layer_1)).buffer.height) ? (*state_p0).currentBuffer.height : (*(*layer_1)).buffer.height);
						{
							NI y_1;
							NI i_2;
							y_1 = (NI)0;
							i_2 = ((NI)0);
							{
								while (1) {
									NI TM__nritKQ4cdCISbkFaJ9a3wVg_61;
									if (!(i_2 < h_1)) goto LA32;
									y_1 = i_2;
									{
										NI x_1;
										NI i_3;
										x_1 = (NI)0;
										i_3 = ((NI)0);
										{
											while (1) {
												NI TM__nritKQ4cdCISbkFaJ9a3wVg_60;
												if (!(i_3 < w_1)) goto LA35;
												x_1 = i_3;
												{
													tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA cell_1;
													NI srcX_1;
													NI TM__nritKQ4cdCISbkFaJ9a3wVg_52;
													NI srcY_1;
													NI TM__nritKQ4cdCISbkFaJ9a3wVg_53;
													NI srcIdx_1;
													NI TM__nritKQ4cdCISbkFaJ9a3wVg_54;
													NI TM__nritKQ4cdCISbkFaJ9a3wVg_55;
													NI finalX_1;
													NI finalY_1;
													tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ tmpTuple_1;
													NI dx_1;
													NI dy_1;
													NI TM__nritKQ4cdCISbkFaJ9a3wVg_56;
													NI TM__nritKQ4cdCISbkFaJ9a3wVg_57;
													tyObject_Style__UURjArTrf2wmcCbN5MncAQ T68_;
													NI destIdx_1;
													NI TM__nritKQ4cdCISbkFaJ9a3wVg_58;
													NI TM__nritKQ4cdCISbkFaJ9a3wVg_59;
													nimZeroMem((void*)(&cell_1), sizeof(tyObject_Cell__cmvwxiDU9cRtyqddD9c1iMTA));
													if (nimSubInt(x_1, effects_1.offsetX, &TM__nritKQ4cdCISbkFaJ9a3wVg_52)) { raiseOverflow(); goto LA37_;
													};
													srcX_1 = (NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_52);
													if (nimSubInt(y_1, effects_1.offsetY, &TM__nritKQ4cdCISbkFaJ9a3wVg_53)) { raiseOverflow(); goto LA37_;
													};
													srcY_1 = (NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_53);
													{
														NIM_BOOL T40_;
														NIM_BOOL T41_;
														NIM_BOOL T42_;
														T40_ = (NIM_BOOL)0;
														T41_ = (NIM_BOOL)0;
														T42_ = (NIM_BOOL)0;
														T42_ = (srcX_1 < ((NI)0));
														if (T42_) goto LA43_;
														T42_ = ((*(*layer_1)).buffer.width <= srcX_1);
LA43_: ;
														T41_ = T42_;
														if (T41_) goto LA44_;
														T41_ = (srcY_1 < ((NI)0));
LA44_: ;
														T40_ = T41_;
														if (T40_) goto LA45_;
														T40_ = ((*(*layer_1)).buffer.height <= srcY_1);
LA45_: ;
														if (!T40_) goto LA46_;
														eqdestroy___backendsZsdl3Zsdl95canvas_u260((&cell_1));
														goto LA36;
													}
LA46_: ;
													if (nimMulInt(srcY_1, (*(*layer_1)).buffer.width, &TM__nritKQ4cdCISbkFaJ9a3wVg_54)) { raiseOverflow(); goto LA37_;
													};
													if (nimAddInt((NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_54), srcX_1, &TM__nritKQ4cdCISbkFaJ9a3wVg_55)) { raiseOverflow(); goto LA37_;
													};
													srcIdx_1 = (NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_55);
													if (srcIdx_1 < 0 || srcIdx_1 >= (*(*layer_1)).buffer.cells.len){ raiseIndexError2(srcIdx_1,(*(*layer_1)).buffer.cells.len-1); goto LA37_;
													}
													eqcopy___backendsZsdl3Zsdl95canvas_u263((&cell_1), (*(*layer_1)).buffer.cells.p->data[srcIdx_1]);
													{
														NIM_BOOL T50_;
														NIM_BOOL T51_;
														NIM_BOOL T52_;
														T50_ = (NIM_BOOL)0;
														T51_ = (NIM_BOOL)0;
														T52_ = (NIM_BOOL)0;
														T52_ = (cell_1.ch.len == ((NI)0));
														if (!(T52_)) goto LA53_;
														T52_ = (cell_1.style.bg.r == ((NU8)0));
LA53_: ;
														T51_ = T52_;
														if (!(T51_)) goto LA54_;
														T51_ = (cell_1.style.bg.g == ((NU8)0));
LA54_: ;
														T50_ = T51_;
														if (!(T50_)) goto LA55_;
														T50_ = (cell_1.style.bg.b == ((NU8)0));
LA55_: ;
														if (!T50_) goto LA56_;
														eqdestroy___backendsZsdl3Zsdl95canvas_u260((&cell_1));
														goto LA36;
													}
LA56_: ;
													finalX_1 = x_1;
													finalY_1 = y_1;
													tmpTuple_1 = applyDisplacement__libZlayerfx_u2813(x_1, y_1, (&effects_1));
													if (NIM_UNLIKELY(*nimErr_)) goto LA37_;
													dx_1 = tmpTuple_1.Field0;
													dy_1 = tmpTuple_1.Field1;
													if (nimAddInt(finalX_1, dx_1, &TM__nritKQ4cdCISbkFaJ9a3wVg_56)) { raiseOverflow(); goto LA37_;
													};
													finalX_1 = (NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_56);
													if (nimAddInt(finalY_1, dy_1, &TM__nritKQ4cdCISbkFaJ9a3wVg_57)) { raiseOverflow(); goto LA37_;
													};
													finalY_1 = (NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_57);
													{
														NIM_BOOL T60_;
														NIM_BOOL T61_;
														NIM_BOOL T62_;
														T60_ = (NIM_BOOL)0;
														T61_ = (NIM_BOOL)0;
														T62_ = (NIM_BOOL)0;
														T62_ = (finalX_1 < ((NI)0));
														if (T62_) goto LA63_;
														T62_ = ((*state_p0).currentBuffer.width <= finalX_1);
LA63_: ;
														T61_ = T62_;
														if (T61_) goto LA64_;
														T61_ = (finalY_1 < ((NI)0));
LA64_: ;
														T60_ = T61_;
														if (T60_) goto LA65_;
														T60_ = ((*state_p0).currentBuffer.height <= finalY_1);
LA65_: ;
														if (!T60_) goto LA66_;
														eqdestroy___backendsZsdl3Zsdl95canvas_u260((&cell_1));
														goto LA36;
													}
LA66_: ;
													nimZeroMem((void*)(&T68_), sizeof(tyObject_Style__UURjArTrf2wmcCbN5MncAQ));
													T68_ = applyColorEffects__libZlayerfx_u2793(cell_1.style, (&effects_1));
													if (NIM_UNLIKELY(*nimErr_)) goto LA37_;
													cell_1.style = T68_;
													if (nimMulInt(finalY_1, (*state_p0).currentBuffer.width, &TM__nritKQ4cdCISbkFaJ9a3wVg_58)) { raiseOverflow(); goto LA37_;
													};
													if (nimAddInt((NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_58), finalX_1, &TM__nritKQ4cdCISbkFaJ9a3wVg_59)) { raiseOverflow(); goto LA37_;
													};
													destIdx_1 = (NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_59);
													{
														NIM_BOOL T71_;
														NI T73_;
														T71_ = (NIM_BOOL)0;
														T71_ = (((NI)0) <= destIdx_1);
														if (!(T71_)) goto LA72_;
														T73_ = (*state_p0).currentBuffer.cells.len;
														T71_ = (destIdx_1 < T73_);
LA72_: ;
														if (!T71_) goto LA74_;
														if (destIdx_1 < 0 || destIdx_1 >= (*state_p0).currentBuffer.cells.len){ raiseIndexError2(destIdx_1,(*state_p0).currentBuffer.cells.len-1); goto LA37_;
														}
														eqsink___backendsZsdl3Zsdl95canvas_u269((&(*state_p0).currentBuffer.cells.p->data[destIdx_1]), cell_1);
														eqwasMoved___backendsZsdl3Zsdl95canvas_u257((&cell_1));
													}
LA74_: ;
													{
														LA37_:;
													}
													{
														eqdestroy___backendsZsdl3Zsdl95canvas_u260((&cell_1));
													}
													if (NIM_UNLIKELY(*nimErr_)) goto LA29_;
												} LA36: ;
												if (nimAddInt(i_3, ((NI)1), &TM__nritKQ4cdCISbkFaJ9a3wVg_60)) { raiseOverflow(); goto LA29_;
												};
												i_3 = (NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_60);
											} LA35: ;
										}
									}
									if (nimAddInt(i_2, ((NI)1), &TM__nritKQ4cdCISbkFaJ9a3wVg_61)) { raiseOverflow(); goto LA29_;
									};
									i_2 = (NI)(TM__nritKQ4cdCISbkFaJ9a3wVg_61);
								} LA32: ;
							}
						}
						{
							LA29_:;
						}
						{
							eqdestroy___libZlayerfx_u1275((&effects_1));
						}
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					}
LA24_: ;
				} LA19: ;
				i_1 += ((NI)1);
				{
					NI T82_;
					T82_ = (*state_p0).layers.len;
					if (!!((T82_ == L_1))) goto LA83_;
					failedAssertImpl__stdZassertions_u234(TM__nritKQ4cdCISbkFaJ9a3wVg_62);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
LA83_: ;
			} LA18: ;
		}
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, initLayerFxPlugin__libZlayerfx_u42)(void) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag* T5_;
		tyProc__bCvtH5ozdDDqkD8FYCmuQg T6_;
		if (!(gLayerFxRegistry__libZlayerfx_u28 == 0)) goto LA3_;
		T5_ = NIM_NIL;
		T5_ = (tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag*) nimNewObjUninit(sizeof(tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag), NIM_ALIGNOF(tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag));
		(*T5_).effects = initTable__libZlayerfx_u58(((NI)32));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(*T5_).autoDepthing = NIM_FALSE;
		(*T5_).depthMin = 0.3;
		(*T5_).depthMax = 1.0;
		(*T5_).enabled = NIM_TRUE;
		eqsink___libZlayerfx_u297(&gLayerFxRegistry__libZlayerfx_u28, T5_);
		nimZeroMem((void*)(&T6_), sizeof(tyProc__bCvtH5ozdDDqkD8FYCmuQg));
		T6_.ClP_0 = ((TM__nritKQ4cdCISbkFaJ9a3wVg_63) (compositeLayersWithEffects__libZlayerfx_u40)); T6_.ClE_0 = NIM_NIL;
		eqsink___srcZlayers_u2620((&gCompositeHook__libZlayerfx_u33), T6_);
	}
LA3_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___libZlayerfx_u288)(tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag* dest_p0) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast(dest_p0);
		if (!T3_) goto LA4_;
		eqdestroy___libZlayerfx_u263((&(*dest_p0)));
		nimRawDispose(dest_p0, ((NI)8));
	}
LA4_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, atmlibatslayerfxdotnim_Init000)(void) {
{
	gLayerFxRegistry__libZlayerfx_u28 = ((tyObject_LayerFxRegistrycolonObjectType___a1BSMCufwRUqOXfhrzcF9ag*) NIM_NIL);
	gCompositeHook__libZlayerfx_u33.ClE_0 = TM__nritKQ4cdCISbkFaJ9a3wVg_2.ClE_0;
	gCompositeHook__libZlayerfx_u33.ClP_0 = TM__nritKQ4cdCISbkFaJ9a3wVg_2.ClP_0;
	nimTestErrorFlag();
}
}

